<script src="../../../node_modules/typescript/bin/tsc"></script>
<div class="menu">
    <div class="Data-Download">Student Apply</div>
    <div class="div-data-download">
        <table>
            <tr>
                <td>
                    <input class="form-control" style="width:200px;font-size:9pt;" [(ngModel)]="passportName"
                           placeholder="Name/Tel/ID/Camp/Agent/Notes"/>
                </td>
                <td>
                    <div class="input-group input-form">
                        <input style="width: 110px;font-size:10pt;" class="form-control date-input" [(ngModel)]="checkIn"
                               placeholder="Checkin from" ngx-mydatepicker name="mydate"
                               #filterDateFrom="ngx-mydatepicker" (click)="filterDateFrom.toggleCalendar()"
                               [options]="myDatePickerOptions" readonly/>
                        <button style="cursor:pointer;" type="button" (click)="filterDateFrom.clearDate()">
                            <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                        </button>
                    </div>
                </td>
                <td>
                    <div class="input-group input-form">
                        <input style="width: 110px;font-size:10pt;" class="form-control date-input" [(ngModel)]="checkOut"
                               placeholder="Checkin to" ngx-mydatepicker name="mydate" #filterDateTo="ngx-mydatepicker"
                               (click)="filterDateTo.toggleCalendar()" [options]="myDatePickerOptions" readonly/>
                        <button style="cursor:pointer;" type="button" (click)="filterDateTo.clearDate()">
                            <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                        </button>
                    </div>
                </td>
                <td>
                    <div class="input-group input-form">
                        <input style="width: 110px;font-size:10pt;" class="form-control date-input" [(ngModel)]="addDateFrom"
                               placeholder="Add date from" ngx-mydatepicker name="mydate"
                               #filterAddDateFrom="ngx-mydatepicker" (click)="filterAddDateFrom.toggleCalendar()"
                               [options]="myDatePickerOptions" readonly/>
                        <button style="cursor:pointer;" type="button" (click)="filterAddDateFrom.clearDate()">
                            <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                        </button>
                    </div>
                </td>
                <td>
                    <div class="input-group input-form">
                        <input style="width: 110px;font-size:10pt;" class="form-control date-input" [(ngModel)]="addDateTo"
                               placeholder="Add date to" ngx-mydatepicker name="mydate"
                               #filterAddDateTo="ngx-mydatepicker" (click)="filterAddDateTo.toggleCalendar()"
                               [options]="myDatePickerOptions" readonly/>
                        <button style="cursor:pointer;" type="button" (click)="filterAddDateTo.clearDate()">
                            <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                        </button>
                    </div>
                </td>
                <td>
                    <span style="font-size:8pt;text-align:center;">ALL</span>&nbsp;
                    <input class="form-control" type="radio" name="optradio"
                           [(ngModel)]="building" [value]="-1">
                </td>
                <td style="cursor:pointer;" *ngFor="let o of campusCodes">
                    <span style="font-size:8pt;text-align:center;">{{o.value}}</span>&nbsp;
                    <input class="form-control" type="radio" name="optradio"
                           [(ngModel)]="building" [value]="o.id" [checked]="building === 1">
                </td>
                <td><img  style="cursor:pointer;" (click)="moreActions()" title="More Actions" hspace="3" width="35px" src="./assets/img/Repair.svg"/></td>
                <td><img  style="cursor:pointer;" (click)="openPickupModal()" title="Pickup" hspace="3" width="40px" src="./assets/img/School_bus.svg"/></td>
                <td><img  style="cursor:pointer;" (click)="openPrintablesModal()" title="Printables" hspace="3" width="35px" src="./assets/img/Printables.svg"/></td>
            </tr>
            <tr>
                <td>
                    <span class="form-group">
                        <select style="width:200px;font-size:10pt;cursor:pointer;" class="form-control"
                                [(ngModel)]="studentStat" name="studentStatus" placeholder="Status">
                            <option [ngValue]="0" [selected]="true">**ALL</option>
                            <option [ngValue]="-2">NO ROOM AVAILABLE</option>
                            <option [ngValue]="1">NEW</option>
                            <option [ngValue]="2">RESERVED</option>
                            <!--<option [ngValue]="3">PAID</option>-->
                            <option [ngValue]="4">CANCEL</option>
                            <option [ngValue]="5">PRESENT</option>
                            <option [ngValue]="6">GRADUATE</option>
                            <!--<option [ngValue]="8">ARRANGE</option>-->
                            <option [ngValue]="9">LEAVE</option>
                            <option [ngValue]="10">TENTATIVE</option>
                        </select>
                    </span>
                </td>
                <td>
                    <span *ngIf="countryCodes">
                        <span class="form-group">
                            <select style="font-size:11pt;cursor:pointer;" class="form-control"
                                    [(ngModel)]="cntCode" name="countryCodes" placeholder="Status">
                                <option [ngValue]="0" [selected]="true" >**ALL</option>
                                <option *ngFor="let cntCode of countryCodes"
                                        [ngValue]="cntCode.value"> {{cntCode.value}} </option>
                            </select>
                        </span>
                    </span>
                </td>
                <td>
                    <div class="input-group input-form">
                        <input style="width: 110px;font-size:10pt;" class="form-control date-input" [(ngModel)]="gradDateFrom"
                               placeholder="Grad from" ngx-mydatepicker name="mydate"
                               #filterGradDateFrom="ngx-mydatepicker" (click)="filterGradDateFrom.toggleCalendar()"
                               [options]="myDatePickerOptions" readonly/>
                        <button style="cursor:pointer;" type="button" (click)="filterGradDateFrom.clearDate()">
                            <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                        </button>
                    </div>
                </td>
                <td>
                    <div class="input-group input-form">
                        <input style="width: 110px;font-size:10pt;" class="form-control date-input" [(ngModel)]="gradDateTo"
                               placeholder="Grad to" ngx-mydatepicker name="mydate"
                               #filterGradDateTo="ngx-mydatepicker" (click)="filterGradDateTo.toggleCalendar()"
                               [options]="myDatePickerOptions" readonly/>
                        <button style="cursor:pointer;" type="button" (click)="filterGradDateTo.clearDate()">
                            <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                        </button>
                    </div>
                </td>
                <td>
                    <div class="input-group input-form">
                        <input style="width: 110px;font-size:10pt;" class="form-control date-input" [(ngModel)]="transferDate"
                               placeholder="Transfer date" ngx-mydatepicker name="mydate"
                               #filterTransferDate="ngx-mydatepicker" (click)="filterTransferDate.toggleCalendar()"
                               [options]="myDatePickerOptions" readonly/>
                        <button style="cursor:pointer;" type="button" (click)="filterTransferDate.clearDate()">
                            <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                        </button>
                    </div>
                </td>
                <!--<td>
                    <span style="font-size:10pt;">Payment pending?</span>
                    <input type="checkbox" [checked]="paymentCheck" (change)="paymentCheck = !paymentCheck" />
                </td>-->
                <td colspan="3">
                    <img style="cursor:pointer;" (click)="search()" title="Search now" src="./assets/img/Zoom.svg" width="40px"/>
                </td>
                <td>
                    <img style="cursor:pointer;" (click)="openCreateStudentModal()" title="Register" src="./assets/img/Add_users.svg" width="40px"/>
                </td>
            </tr>
        </table>
    </div>
</div>

<table class="table table-bordered table-striped" id="menu"
       style="height: calc( 100vh - 141px );overflow-y: auto;overflow-x: hidden; display: block;font-family:Trebuchet MS, Tahoma, Verdana, Arial, sans-serif;">
    <thead class="thead-inverse" style="font-size:12px;">
    <th style="text-align:center;">#</th>
    <th style="text-align:center;">ID#/Agent/Status/<br>Added</th>
    <th style="width:200px;text-align:center;">Name/Gender/Phone/<br>Camp</th>
    <th style="text-align:center;">Weeks/<br>Bldg</th>
    <th style="text-align:center;">Age/<br>Nation</th>
    <th style="text-align:center;">Check<br>IN</th>
    <th style="text-align:center;">Check<br>OUT</th>
    <th style="text-align:center;width:130px;">Dorm/Type</th>
    <th style="text-align:center;">Transfer</th>
    <th style="text-align: center">Course</th>
    <th style="width:130px;text-align:center;">Invoices</th>
    <th style="text-align:center;">Flight info</th>
    <th style="width:120px;text-align:center;">Original Amount/<br>Receipt</th>
    <th style="text-align:center;">Actions</th>
    </thead>
    <tbody>
    <tr>
        <td colspan="15" style="padding-bottom:1px;">
            <div style="float:left;font-size:10pt;">
                <span class="form-group" *ngIf="checkedList.length > 0">
                        <select style="width:140px;font-size:9pt;cursor:pointer;" class="form-control"
                                [(ngModel)]="changeStudentStat" name="changeStudStatus" placeholder="Status">
                            <option value="1">New</option>
                            <option value="2">Reserved</option>
                            <option value="4">Cancel</option>
                            <option value="5">Present</option>
                            <option value="6">Graduate</option>
                            <option value="9">Leave</option>
                            <option value="10">Tentative</option>
                        </select>
                </span>
            </div>
            <div style="float:left;">
                <span *ngIf="checkedList.length > 0">
                    <img style="cursor:pointer;" (click)="statusChange()" title="Status Change" src="./assets/img/Status_change.svg"  width="40px"/>
                </span>
            </div>
            <div style="float:left;">
                <span *ngIf="checkedList.length > 0">
                    <img style="cursor:pointer;" (click)="clearCheckedList()" title="Refresh Checklist" src="./assets/img/Replace.svg" width="40px" height="33px"/>
                </span>
            </div>
            <div style="float:right;font-size:10pt;">
                <pagination-controls (pageChange)="p = $event" (click)="search()"></pagination-controls>
            </div>
        </td>
    </tr>
    <tr *ngFor="let o of list | paginate: { itemsPerPage: perPage, currentPage: p, totalItems: countAllList }; let i = index">
        <td style="font-size:9pt;cursor: pointer">
            {{ i + 1 }}<input type="checkbox" name="studentSelect" value="{{o.id}}" (change)="updateChecked(o, $event)"/>
        </td>
        <td (click)="editApply(o.id)" style="cursor: pointer;text-align:center;">
            <span style="font-size:9pt;font-weight:bold;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;">{{o.id_number}}</span><br>
            <span style="font-size:9pt;font-weight: bold">{{o.agent_name}}</span><br>
            <span *ngIf="o.student_status == '-2'" class="badge badge-danger">NO ROOM<br>AVAILABLE</span>
            <span *ngIf="o.student_status == '-1'" class="badge badge-default">UNKNOWN</span>
            <span *ngIf="o.student_status == '1'" class="badge badge-primary">NEW</span>
            <span *ngIf="o.student_status == '2'" class="badge badge-warning">RESERVED</span>
            <span *ngIf="o.student_status == '3'" class="badge badge-default">PAID</span>
            <span *ngIf="o.student_status == '4'" class="badge badge-default">CANCEL</span>
            <span *ngIf="o.student_status == '5'" class="badge badge-info">PRESENT</span>
            <span *ngIf="o.student_status == '6'" class="badge badge-default">GRADUATE</span>
            <span *ngIf="o.student_status == '7'" class="badge badge-default">SAMPLE<br>INVOICE</span>
            <span *ngIf="o.student_status == '8'" class="badge badge-success">ARRANGE</span>
            <span *ngIf="o.student_status == '9'" class="badge badge-primary">LEAVE</span>
            <span *ngIf="o.student_status == '10'" class="badge badge-success">TENTATIVE</span>
            <br><span style="font-size:9pt;font-weight: bold;">{{o.created_at | date: 'yyyy-MM-dd'}}</span>
        </td>
        <!--<td (click)="editApply(o.id)" style="font-size:11px;cursor: pointer">{{o.id_number}}</td>-->
        <td (click)="editApply(o.id)" style="font-size:13px;text-align:center;cursor: pointer;font-weight: bold">
            {{o.student_name}}
            <span *ngIf="o.passport_name"><br>{{o.passport_name}}</span>
            <br>({{o.sex==1?'M':'F'}})
            <span *ngIf="o.phone"><br>{{o.phone}}</span>
            <span style="color: darkorange;font-size:9pt;font-weight: bold"><br>{{o.camp_name}}</span>
        </td>
        <td (click)="editApply(o.id)" style="cursor: pointer;text-align:center;">
            {{o.term}}<br>{{o.campus}}
        </td>
        <td (click)="editApply(o.id)" style="font-size:14px;width:60px;cursor: pointer;text-align:center">
            {{o.age}}
            <br>{{o.country_code}}
        </td>
        <td (click)="editApply(o.id)" style="font-size:11px;width:110px;cursor:pointer;text-align:center;font-weight:bold">
            {{o.checkin_date | date: 'yyyy-MM-dd'}}<br>
            <span style="font-size:10pt;">
                ({{o.checkin_date| date: 'EE'}})
            </span>
        </td>
        <td (click)="editApply(o.id)" style="font-size:11px;width:110px;cursor:pointer;text-align:center;font-weight:bold">
            {{o.checkout_date| date: 'yyyy-MM-dd'}}<br>
            <span style="font-size:10pt;">
                ({{o.checkout_date| date: 'EE'}})
            </span>
        </td>
        <td style="font-size:9pt;font-weight:bold;text-align:center;cursor:pointer"
            *ngIf="o.student_status == 2 || o.student_status == 5 || o.student_status == 10">
            <span *ngIf="!o.accommodation_id1"
                style="font-size:9pt;color:#9e0505;font-weight: bold;text-align:center;cursor: not-allowed">
                <span>NO STAY<br></span>
            </span>
            <span (click)="editRoomApply(o.id)" style="font-size:10pt;cursor:pointer;color:ghostwhite"
                  *ngIf="!o.dormitory_room_name && !o.hotel_name" class="badge badge-success">
                RESERVE
            </span>
            <span (click)="editRoomApply(o.id)" style="cursor: pointer;color:green"
                  *ngIf="o.dormitory_room_name && o.hotel_name">
                    {{o.dormitory_room_name}}<br>
                <span style="color:darkblue">{{o.hotel_name}}</span>
            </span>
            <span (click)="editRoomApply(o.id)" style="cursor: pointer;color:green"
                  *ngIf="!o.dormitory_room_name && o.hotel_name">
                    {{o.dormitory_room_name}}<br>
                <span style="color:darkblue">{{o.hotel_name}}</span>
            </span>
            <span (click)="editRoomApply(o.id)" style="cursor: pointer;color:green"
                  *ngIf="o.dormitory_room_name && !o.hotel_name">
                    {{o.dormitory_room_name}}<br>
                <span style="color:darkblue">{{o.hotel_name}}</span>
            </span>
        </td>
        <td style="font-size:9pt;font-weight:bold;text-align:center;cursor:not-allowed;color:darkred"
            *ngIf="o.student_status != 2 && o.student_status != 5 && o.student_status != 10">
            CHECK<br>STATUS!!
        </td>
        <td (click)="editApply(o.id)" style=";font-weight:bold;font-size:8pt;
        text-align:center;cursor:pointer;color:blue">
            <span *ngIf="o.sfc_to_itp && o.sfc_to_itp > '2015-01-01 00:00:00'">SFC=>ITP<br>
                <span style="font-size:7pt;">{{o.sfc_to_itp | date: 'MM-dd-yyyy'}}<br></span>
            </span>
            <span *ngIf="o.itp_to_sfc && o.itp_to_sfc > '2015-01-01 00:00:00'" style="font-size:7pt;">ITP=>SFC<br>
                <span style="font-size:7pt;">{{o.itp_to_sfc | date: 'MM-dd-yyyy'}}<br></span>
            </span>
        </td>
        <td *ngIf="o.student_status == 1 || o.student_status == 2 || o.student_status == 5 || o.student_status == 10" style=";font-weight:bold;font-size:8pt;
        text-align:center;cursor:pointer;color:blueviolet">
            <span (click)="editCourseApply(o.id)">{{o.course?o.course:'[NO-COURSE]'}}</span>
        </td>
        <td *ngIf="o.student_status != 1 && o.student_status != 2 && o.student_status != 5 && o.student_status != 10" style=";font-weight:bold;font-size:8pt;
        text-align:center;cursor:not-allowed;color:darkred">
            CHECK<br>STATUS!!
        </td>
        <td style="width:50px;text-align:left">
            <span (click)="openEditInvoice(o.id)" style="font-size:8pt;cursor:pointer;color:ghostwhite" class="badge badge-warning">INVOICE</span>
            <img style="cursor:pointer;" (click)="invoiceSend(o.invoice_number,o.id)" *ngIf="o.invoice_number && (user.role.id == 1 || user.role.id == 2)" height="17px" width="17px" src="assets/img/Printer_yellow.svg" title="{{o.invoice_number}}"/>
            <img *ngIf="o.isInvoiceConfirmed == 2" width="8px" src="assets/img/Green_check.svg" title="APPROVED" />
            <br>
            <span (click)="openEditExtensionInvoice(o.id)" *ngIf="o.invoice_number && o.country_code != 'JP'" style="font-size:8pt;cursor:pointer;color:ghostwhite" class="badge badge-success">EXTEND</span>
            <img style="cursor:pointer;" *ngIf="o.ext_invoice_number" (click)="editExtensionInvoice(o.id,o.ext_invoice_number)" height="17px" width="17px" src="assets/img/Printer_green.svg" title="{{o.ext_invoice_number}}"/>
            <img width="8px" src="assets/img/Green_check.svg" title="APPROVED" *ngIf="o.isExtInvoiceConfirmed == 2"/>
            <br>
            <span (click)="openEditRefundInvoice(o.id)" *ngIf="o.invoice_number && o.country_code != 'JP'" style="font-size:8pt;cursor:pointer;color:ghostwhite" class="badge badge-danger">REFUND</span>
            <img style="cursor:pointer;" *ngIf="o.refund_invoice_number" (click)="editRefundInvoice(o.id,o.refund_invoice_number,o.invoice_number)" height="17px" width="17px" src="assets/img/Printer_red.svg" title="{{o.refund_invoice_number}}"/>
            <img width="8px" src="assets/img/Green_check.svg" title="APPROVED" *ngIf="o.isRefundInvoiceConfirmed == 2"/>
            <br>
        </td>
        <td (click)="editApply(o.id)" style="font-size:13px;cursor: pointer">
            {{o.flight_no}}
            <br> <span *ngIf="o.arrival_date">{{o.arrival_date | date: 'MMM dd'}}</span>
            <br> <span *ngIf="o.arrival_time">{{o.arrival_time | date: 'HH:mm'}}</span>
        </td>
        <td (click)="editInvoice(o.id)" style="font-size:13px;cursor: pointer;">
            <!--values are from excel import-->
            <span *ngIf="!o.apply_no">
                <span *ngIf="o.country_code!='JP'">
                    <span *ngIf="!o.sub_total && o.total_cost">
                        ${{o.total_cost + o.holiday_fee + o.transfer_fee}}
                    </span>
                    <span *ngIf="o.sub_total && o.total_cost">
                        ${{((o.sub_total + o.entrance_fee + o.holiday_fee + o.transfer_fee) - (o.discount + o.commission))}}
                    </span>
                    <span *ngIf="o.sub_total && !o.total_cost">
                        ${{((o.sub_total + o.entrance_fee + o.holiday_fee + o.transfer_fee) - (o.discount + o.commission))}}
                    </span>
                </span>
                <span *ngIf="o.country_code=='JP'">
                    <span *ngIf="!o.sub_total && o.total_cost">
                        ¥{{o.total_cost}}
                    </span>
                    <span *ngIf="o.sub_total && o.total_cost">
                        ¥{{((o.sub_total + o.entrance_fee + o.remittance_fee + o.holiday_fee + o.transfer_fee + o.custom1_fee)
                        - (o.discount + o.commission))}}
                    </span>
                    <span *ngIf="o.sub_total && !o.total_cost">
                        ¥{{((o.sub_total + o.entrance_fee + o.remittance_fee + o.holiday_fee + o.transfer_fee + o.custom1_fee)
                        - (o.discount + o.commission))}}
                    </span>
                </span>
                <span *ngIf="o.invoice_payment_status == '0'">
				    <img height="10" width="10" src="assets/img/Red_close.svg" title="Invoice:Not_Paid"/>
			    </span>
                <span *ngIf="o.invoice_payment_status == '1'" style="font-size:10pt;">
				    <img height="15" width="15" src="assets/img/Green_check.svg" title="Invoice:Paid:Confirm by {{o.invoice_payment_confirm_by}}"/>
                </span>
            </span>
            <!--values are from simulation/enroll-->
            <span *ngIf="o.apply_no">
                <span *ngIf="o.country_code!='JP'">
                    <span *ngIf="!o.sub_total && o.total_cost">
                        ${{o.total_cost + o.holiday_fee + o.transfer_fee}}
                    </span>
                    <span *ngIf="o.sub_total && o.total_cost">
                        ${{((o.sub_total + o.entrance_fee + o.holiday_fee + o.transfer_fee) - (o.discount + o.commission))}}
                    </span>
                    <span *ngIf="o.sub_total && !o.total_cost">
                        ${{((o.sub_total + o.entrance_fee + o.holiday_fee + o.transfer_fee) - (o.discount + o.commission))}}
                    </span>
                </span>
                <span *ngIf="o.country_code=='JP'">
                    <span *ngIf="!o.sub_total && o.total_cost">
                    ¥{{o.total_cost}}
                    </span>
                    <!--to be asked about calcuations-->
                    <span *ngIf="o.sub_total && o.total_cost">
                        ¥{{((o.sub_total + o.entrance_fee + o.remittance_fee + o.holiday_fee + o.transfer_fee + o.custom1_fee)
                        - (o.discount + o.commission))}}
                    </span>
                    <span *ngIf="o.sub_total && !o.total_cost">
                        ¥{{((o.sub_total + o.entrance_fee + o.remittance_fee + o.holiday_fee + o.transfer_fee + o.custom1_fee)
                        - (o.discount + o.commission))}}
                    </span>
                </span>
                <span *ngIf="o.invoice_payment_status == '0'">
				    <img height="10" width="10" src="assets/img/Red_close.svg" title="Invoice:Not_Paid"/>
			    </span>
                <span *ngIf="o.invoice_payment_status == '1'" style="font-size:10pt;">
				    <img height="15" width="15" src="assets/img/Green_check.svg" title="Invoice:Paid:Confirm by {{o.invoice_payment_confirm_by}}"/>
                </span>
            </span>
            <br>
            <span style="font-size:12px;">₱{{o.ecc + o.extention_fee_php + o.ssp_fee_php + o.visa_fee_php + o.acri_fee_php +
                    o.emigration_fee_php + o.electrical_fee_php + o.id_card + o.i_card_cost + o.room_update_php +
                    o.photocopy_php + o.meal_total_php + o.adjustments_php + o.others_php}}
                <span *ngIf="o.ga_payment_status == '0'">
				    <img height="10" width="10" src="assets/img/Red_close.svg" title="GA:Not_Paid"/>
			    </span>
                <span *ngIf="o.ga_payment_status == '1'" style="font-size:10pt;">
				    <img height="15" width="15" src="assets/img/Green_check.svg" title="GA:Paid"/>
                </span>
            </span>
            <span *ngIf="o.payment_pending || o.payment_pending > 0" style="font-size:9pt;color:blue;font-weight:bold;">
                <br>Payment
                <span style="font-size:11pt;">
                    <sup>({{o.payment_pending}})</sup>
                </span>
            </span>
            <span *ngIf="o.receipt_number" style="color:blue;font-weight:bold;">
                <span style="font-size:8pt;">
                    <br>{{o.receipt_number}}
                </span>
            </span>
        </td>
        <td style="width:150px;text-align:left">
            <img (click)="printPerTemplate(o.passport_name?o.passport_name:'',o.student_name?o.student_name:'',o.id_number?o.id_number:0,
            o.term,o.country_code,o.campus,o.dormitory_room_name?o.dormitory_room_name:'',o.hotel_name?o.hotel_name:'')"
                 src="assets/img/Calendar_clock.svg" style="cursor:pointer;" title="Print Schedule" width="20px" >
            <span *ngIf="o.country_code == 'TW' || o.country_code == 'CN'">
                <img (click)="printPerAirportPickup(o.campus==='ITP'?'IT Park':'Seafront',o.passport_name?o.passport_name:o.student_name,o.sex===1?'Male':'Female',
                o.country_code,o.course?o.course:'',o.room_id1?o.room_id1:'',o.options_pickup===1?'YES':'NO',o.options_meals===1?'YES':'NO',o.term?o.term:'',o.arrival_date,
                o.flight_no?o.flight_no:'',o.arrival_time,o.checkin_date,o.checkout_date,o.note_for_student?o.note_for_student:'',o.accommodation_id1?o.accommodation_id1:'')" src="assets/img/Plane.svg"
                     style="cursor:pointer;" title="Airport Pickup" width="25px">
            </span>
            <span *ngIf="o.country_code != 'TW' && o.country_code != 'CN'">
                <img (click)="printPerAirportPickupEn(o.campus==='ITP'?'IT Park':'Seafront',o.passport_name?o.passport_name:o.student_name,o.sex===1?'Male':'Female',
                o.country_code,o.course?o.course:'',o.room_id1?o.room_id1:'',o.options_pickup===1?'YES':'NO',o.options_meals===1?'YES':'NO',o.term?o.term:'',o.arrival_date,
                o.flight_no?o.flight_no:'',o.arrival_time,o.checkin_date,o.checkout_date,o.note_for_student?o.note_for_student:'',o.accommodation_id1?o.accommodation_id1:'')" src="assets/img/Plane.svg"
                     style="cursor:pointer;" title="Airport Pickup" width="25px">
            </span>
            <img (click)="printAcceptLetter(o.passport_name?o.passport_name:'',o.passport_id?o.passport_id:'',
                    o.checkin_date?o.checkin_date:'',o.checkout_date?o.checkout_date:'',o.campus,o.sex)" src="assets/img/Document_text.svg"
                 style="cursor:pointer;" title="Print Acceptance Letter" width="20px">
            <img title="Print General Affairs Invoice" style="cursor:pointer" width="20px" height="20px"
                 (click)="printGAInvoice(o.passport_name?o.passport_name:o.student_name,user.name?user.name:'',o.term?o.term:'',o.ecc?o.ecc:0,o.extention_fee_php?o.extention_fee_php:0,
                                         o.emigration_fee_php?o.emigration_fee_php:0,o.electrical_fee_php?o.electrical_fee_php:0,o.ssp_fee_php?o.ssp_fee_php:0,
                                         o.id_card?o.id_card:0,o.visa_fee_php?o.visa_fee_php:0,o.acri_fee_php?o.acri_fee_php:0,
                                         o.i_card_cost?o.i_card_cost:0,o.room_update_php?o.room_update_php:0,o.photocopy_php?o.photocopy_php:0,
                                         o.meal_total_php?o.meal_total_php:0,o.adjustments_php?o.adjustments_php:0,
                                         o.departure_date?o.departure_date:'1970-01-01 00:00:00',o.others_php?o.others_php:0)" src="./assets/img/Payments.svg"/>
            <!--<img (click)="updateDeleteFlag(o.id)" src="assets/img/Remove_round.svg"
                 style="cursor:pointer;" title="Delete Student" width="20px">-->
        </td>
    </tr>
    <tr>
        <td colspan="15" style="padding-bottom:70px;">
            <div style="float:right;font-size:10pt;">
                <pagination-controls (pageChange)="p = $event" (click)="search()"></pagination-controls>
            </div>
        </td>
    </tr>
    </tbody>
</table>

<!--open Pickup Modal start-->
<div bsModal #pickUpModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="pickUpModal" aria-labelledby="pickUpModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 200px;!important;">
        <div class="modal-content">
            <div class="modal-body">
                <table>
                    <tr align="left">
                        <td colspan="2" style="border-bottom: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                Pickup
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="pickUpModal.hide()" >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr style="color:darkblue;font-size:9pt;">
                        <th align="center">&emsp;Print</th>
                        <th align="center">&emsp;Download&emsp;&emsp;</th>
                    </tr>
                    <tr>
                        <td align="center">
                            <img style="cursor:pointer;" (click)="printList()" title="Print Pickup" hspace="5" width="40px" src="./assets/img/Printer.svg"/>
                        </td>
                        <td align="center">
                            <img style="cursor:pointer;" (click)="downloadPickUpFile()" title="Excel Download" hspace="5" width="40px" src="./assets/img/Excel.svg"/>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>
<!--open Pickup Modal  end-->

<!--open Printables Modal start-->
<div bsModal #printablesModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="printablesModal" aria-labelledby="printablesModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 360px;!important;">
        <div class="modal-content">
            <div class="modal-body">
                <table>
                    <tr align="left">
                        <td colspan="4" style="border-bottom: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                Documents
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="printablesModal.hide()" >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr style="color:darkblue;font-size:9pt;">
                        <th align="center">&emsp;&emsp;Schedules&emsp;</th>
                        <th align="center">&emsp;Airport&emsp;</th>
                        <th align="center">&emsp;Acceptance&emsp;</th>
                        <th align="center">&emsp;Affairs&emsp;</th>
                    </tr>
                    <tr>
                        <td align="center">
                            <span *ngIf="cntCode != 'IR' && cntCode != 'ARAB'">
                                <img  style="cursor:pointer;" (click)="printTemplate()" title="Print Multiple Schedules" hspace="3" width="40px" src="./assets/img/Calendar_clock.svg"/>
                            </span>
                            <span *ngIf="cntCode == 'IR' || cntCode == 'ARAB'">
                                <img  style="cursor:pointer;" (click)="printTemplateOthers()" title="Print Multiple Schedules" hspace="3" width="40px" src="./assets/img/Calendar_clock.svg"/>
                            </span>
                        </td>
                        <td align="center">
                            <img title="Print Multiple Airport Pickup" (click)="printAllAirportPickup()" style="cursor:pointer" hspace="3" width="40px" src="./assets/img/Plane.svg"/>
                        </td>
                        <td align="center">
                            <img title="Print Multiple Acceptance Letter" (click)="printAllAcceptLetter()" style="cursor:pointer" hspace="3" width="40px" src="./assets/img/Document_text.svg"/>
                        </td>
                        <td align="center">
                            <img title="Print Multiple General Affairs" (click)="printGAAllInvoices()" style="cursor:pointer" hspace="3" width="40px" src="./assets/img/Payments.svg"/>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>
<!--open Printables Modal  end-->

<!--open Create Students Modal start-->
<div bsModal #createStudentsModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="createStudentsModal" aria-labelledby="createStudentsModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 200px;!important;">
        <div class="modal-content">
            <div class="modal-body">
                <table>
                    <tr align="left">
                        <td colspan="2" style="border-bottom: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                Register
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="createStudentsModal.hide()" >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr style="color:darkblue;font-size:9pt;">
                        <th align="center">&emsp;Tentative add</th>
                        <th align="center">&emsp;Camp add</th>
                    </tr>
                    <tr>
                        <td align="center">
                            <img style="cursor:pointer;" (click)="openGroupAddModal()" title="Tentative Add" hspace="5" width="50px" src="./assets/img/Register_users.svg"/>
                        </td>
                        <td align="center">
                            <img style="cursor:pointer;" (click)="openCampAddModal()" title="Camp Add" hspace="5" width="50px" src="./assets/img/Camp_tent.svg"/>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>
<!--open Create Students Modal  end-->

<!-- Tentative Group add start-->
<div bsModal #groupAddModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="groupAddModal" aria-labelledby="groupAddModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 400px;!important;font-size:10pt;">
        <div class="modal-content">
            <div class="modal-header">
                <table class="table table-bordered" style="width:95%;">
                    <tbody style="text-align: center">
                    <tr align="center">
                        <td colspan="3" style="border-bottom: thin solid black;border-top: thin solid black;
                            border-right: thin solid black;border-left: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                Tentative Students Create
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="groupAddModal.hide()" >
                                    <span aria-hidden="true" style="text-align:center">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr>
                        <th width="65%">Check-in</th>
                        <td colspan="2">
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input"
                                       [(ngModel)]="saveDataLoadEvent.groupAddCheckin" placeholder="Checkin"
                                       ngx-mydatepicker name="mydate" #groupAddCheckinFilter="ngx-mydatepicker"
                                       (click)="groupAddCheckinFilter.toggleCalendar()"
                                       [options]="myDatePickerOptions" readonly />
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>Check-out</th>
                        <td colspan="2">
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input"
                                       [(ngModel)]="saveDataLoadEvent.groupAddCheckout" placeholder="Checkout"
                                       ngx-mydatepicker name="mydate" #groupAddCheckoutFilter="ngx-mydatepicker"
                                       (click)="groupAddCheckoutFilter.toggleCalendar()"
                                       [options]="myDatePickerOptions" readonly />
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>Campus</th>
                        <td colspan="2">
                            <span class="form-group">
                                <select style="width: 100px;font-size:10pt;" class="form-control" name="groupaddcampus" [(ngModel)]="studentGroupApply.groupAddCampus" required>
                                    <option value=1>ITP</option>
                                    <option value=2>SFC</option>
                                </select>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <th>Passport Name</th>
                        <td colspan="2">
                            <input [(ngModel)]="studentGroupApply.groupAddPassportName" placeholder="Input Name"/>
                        </td>
                    </tr>
                    <tr>
                        <th>Visit type</th>
                        <td colspan="2">
                            <span class="form-group">
                                <select style="width: 160px;font-size:10pt;" class="form-control" name="groupaddvisittype"
                                        [(ngModel)]="studentGroupApply.groupAddVisitType" required>
                                    <option value=1>STUDENT</option>
                                    <option value=2>GUARDIAN</option>
                                    <option value=3>INTERN</option>
                                    <option value=4>STAFF</option>
                                    <option value=5>GUEST</option>>
                                </select>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <th>Agent Name</th>
                        <td colspan="2">
                            <input [(ngModel)]="studentGroupApply.groupdAddAgency" placeholder="Input Agent Name"/>
                        </td>
                    </tr>
                    <tr>
                        <th>Camp Name</th>
                        <td colspan="2">
                            <input [(ngModel)]="studentGroupApply.groupAddCampName" placeholder="Input Camp Name"/>
                        </td>
                    </tr>
                    <tr>
                        <th>Gender</th>
                        <td colspan="2">
                            <span class="form-group">
                                <select style="width: 100px;font-size:10pt;" class="form-control" name="groupaddgender" [(ngModel)]="studentGroupApply.groupdAddGender" required>
                                    <option value=1>Male</option>
                                    <option value=2>Female</option>
                                </select>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <th>Nationality</th>
                        <td colspan="2">
                            <span class="form-group">
                                <select style="width: 160px;font-size:10pt;" class="form-control" name="groupAddCountryCodes"
                                        [(ngModel)]="studentGroupApply.groupAddCountry" required>
                                    <option *ngFor="let c of countryCodes" [ngValue]="c.value"> [{{c.value}}] {{c.name}} </option>
                                </select>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <th>Add Selection</th>
                        <td colspan="2">
                            <span class="form-group">
                                <select style="width: 160px;font-size:10pt;" class="form-control" (change)="onChangeGroupAddSelect($event)"
                                        name="groupAddSelection" [(ngModel)]="studentGroupApply.selectGroupAddType" required>
                                    <option value=2>Group</option>
                                    <option value=1>Individual</option></select>
                            </span>
                        </td>
                    </tr>
                    <tr *ngIf="studentGroupApply.selectGroupAddType == 2">
                        <th>How many students?</th>
                        <td>
                            <input type="number" min="2" max="999" style="width: 100%;" placeholder="How many?" [(ngModel)]="studentGroupApply.groupAddHowMany"/>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" *ngIf="studentGroupApply.selectGroupAddType && studentGroupApply.groupAddCountry && studentGroupApply.groupdAddGender && studentGroupApply.groupAddCampus &&
                        studentGroupApply.groupdAddAgency && studentGroupApply.groupAddPassportName && saveDataLoadEvent.groupAddCheckout && saveDataLoadEvent.groupAddCheckin && studentGroupApply.groupAddVisitType">
                            <span *ngIf="studentGroupApply.selectGroupAddType == 2 && studentGroupApply.groupAddHowMany >= 2">
                                <img  style="cursor:pointer;" (click)="createGroupStudentApply()" title="Add Group"
                                      hspace="3" width="40px" src="./assets/img/Add_groups.svg"/>
                            </span>
                            <span *ngIf="studentGroupApply.selectGroupAddType == 1">
                                <img  style="cursor:pointer;" (click)="createGroupStudentApply()" title="Add Student"
                                      hspace="3" width="40px" src="./assets/img/Add_student.svg"/>
                            </span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<!-- Tentative Group add end-->


<!-- Camp Group add start-->
<div bsModal #campAddModal="bs-modal" class="modal fade" tabindex="-1" role="dialog"
     id="campAddModal" aria-labelledby="campAddModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 700px;!important;font-size:10pt;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modal-importExport-camp" style="font-family:Helvetica,Arial,serif;color:darkorange">
                    CAMP STUDENTS DOWNLOAD AND UPLOAD
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="campAddModal.hide()" >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                    <table>
                        <tr style="color:darkblue;font-size:9pt;">
                            <th>&emsp;Download Template</th>
                            <th>&emsp;&emsp;Upload Camp</th>
                        </tr>
                        <tr>
                            <!--<td>&nbsp;&nbsp;</td>-->
                            <!-- EXPORT EXCEL start-->
                            <td>
                                <div class="export-layout">
                                    <div class="menu">
                                        <div class="div-data-download">
                                            <img style="cursor:pointer;" src="./assets/img/Cloud_download.svg" width="100px" hspace="2"
                                                 (click)="downloadFileCampTemplate()" title="Download Camp File Template">
                                        </div>
                                    </div>
                                </div>
                            </td>
                            <!-- EXPORT EXCEL end-->
                            <!--<td>&nbsp;&nbsp;</td>-->
                            <td>
                                <div class="div-data-upload">
                                    <img style="cursor:pointer;" src="./assets/img/Cloud_upload.svg" width="80px" hspace="2"
                                         (click)="uploadCampFile()" title="Upload Camp Students">
                                </div>
                            </td>
                            <td>
                                <!-- IMPORT EXCEL start-->
                                <div class="import-layout">
                                    <div class="menu">
                                        <div class="div-select-file">
                                            <label for="upload-camp-file" class="btn btn-select-file">
                                                <input type="file" id="upload-camp-file" (change)="onChangeSelect($event)">
                                                <span class="select-file">Open file</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <!-- IMPORT EXCEL end-->
                            </td>
                            <td>
                                <div class="file-path" *ngIf="file" style="font-size:12px;color:red">{{filePath}}</div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="scrollbar" *ngIf="!(error_data.errors.length > 0) && (import_success)">
                                    <div class="bar-error" *ngIf="!(import_success)">
                                        <div class="Placeholder">
                                            <img src="assets/img/Alert.svg" alt="" height="24px" width="24px">
                                            <span class="error">Error</span>
                                        </div>
                                    </div>
                                </div>
                            </td>

                            <td style="text-align: center; color: #00AA00">
                                <div class="bar-success" *ngIf="import_success">
                                    <div class="Placeholder">
                                        <span class="success">Success</span>
                                    </div>
                                </div>
                            </td>

                        </tr>
                    </table>
            </div>
        </div>
    </div>
</div>
<!-- Camp Group add end-->

<!--edit Import Export start-->
<div bsModal #ImportExportModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="importExportModal" aria-labelledby="ImportExportModal" aria-hidden="true">
      <div class="modal-dialog modal-lg" style="max-width: 870px;!important;">
          <div class="modal-content">
              <div class="modal-header">
                  <h5 class="modal-title" id="modal-importExport" style="font-family:Helvetica,Arial,serif;color:darkblue">
                      MORE ACTIONS
                  </h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="ImportExportModal.hide()" >
                      <span aria-hidden="true">&times;</span>
                  </button>
              </div>
              <div class="modal-body">
                  <table>
                      <tr style="color:darkblue;font-size:9pt;">
                          <th>&emsp;Available</th>
                          <th>&emsp;Graduating</th>
                          <th>&emsp;Dorm change</th>
                          <th>&emsp;Plan change</th>
                          <th>&emsp;Plan count</th>
                          <th>&emsp;Super flash</th>
                          <th>&emsp;Sales report</th>
                          <th>&emsp;Invoice list</th>
                          <th>&emsp;Weekly count</th>
                          <th>&emsp;Download</th>
                      </tr>
                      <tr>
                          <td><img  style="cursor:pointer;" (click)="checkAvailableRooms()" title="Open Rooms" hspace="10" width="60px" src="./assets/img/Open_sign.svg"/></td>
                          <td><img  style="cursor:pointer;" (click)="checkGraduating()" title="Graduating Students" hspace="10" width="60px" src="./assets/img/Graduate.svg"/></td>
                          <td><img  style="cursor:pointer;" (click)="checkRoomChange()" title="Room Changes" hspace="13" width="60px" src="./assets/img/Home.svg"/></td>
                          <td><img  style="cursor:pointer;" (click)="checkPlanChange()" title="Course Change" hspace="10" width="60px" src="./assets/img/Clipboard.svg"/></td>
                          <td><img  style="cursor:pointer;" (click)="getPlanCount()" title="Plan Count" hspace="10" width="60px" src="./assets/img/Calculator.svg"/></td>
                          <td><img  style="cursor:pointer;" (click)="downloadClassListFile()" title="Super Flash" hspace="10" width="60px" src="./assets/img/Checklist.svg"/></td>
                          <td><img  style="cursor:pointer;" (click)="getSalesReportList()" title="Sales Report" hspace="10" width="60px" src="./assets/img/Sales.svg"/></td>
                          <td><img  style="cursor:pointer;" (click)="downloadInvoiceListFile()" title="Invoice List" hspace="10" width="60px" src="./assets/img/Bills.svg"/></td>
                          <td><img  style="cursor:pointer;" (click)="getWeeklyReportList()" title="Weekly Report List" hspace="10" width="60px" src="./assets/img/Weekly_report.svg"/></td>
                          <td><img style="cursor:pointer;" src="./assets/img/Cloud_download.svg" width="60px" hspace="10" (click)="downloadFile()" title="Download Excel File"></td>
                      </tr>
                      <tr style="color:darkblue;font-size:9pt;">
                          <th>&emsp;GA invoice</th>
                          <th>&emsp;Camp count</th>
                          <th>&emsp;Terms count</th>
                          <th>&emsp;Students</th>
                          <th>&emsp;Empty beds</th>
                      </tr>
                      <tr>
                          <td><img  style="cursor:pointer;" (click)="downloadGAInvoiceListFile()" title="General Invoice List" hspace="10" width="60px" src="./assets/img/GA_Invoice.svg"/></td>
                          <td><img  style="cursor:pointer;" (click)="getCampBookingReportList()" title="Camp Booking Report" hspace="10" width="60px" src="./assets/img/Camp_report.svg"/></td>
                          <td><img  style="cursor:pointer;" (click)="checkNumberOfWeeks()" title="Number of Weeks per Month" hspace="10" width="60px" src="./assets/img/Term_calendar.svg"/></td>
                          <td><img  style="cursor:pointer;" (click)="checkNumberOfStudentsPerWeek()" title="Number of Students per Week" hspace="10" width="60px" src="./assets/img/Male_avatar.svg"/></td>
                          <td><img  style="cursor:pointer;" (click)="checkEmptyBeds()" title="Number of Empty beds" hspace="10" width="60px" src="./assets/img/Bed_empty.svg"/></td>
                      </tr>
                  </table>
              </div>
          </div>
      </div>
</div>
<!--edit Import Export end-->

<!-- Print Invoice modal start-->
<div bsModal #sendInvoiceModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="sendInvoiceModal" aria-labelledby="sendInvoiceModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 700px;!important;font-family:Helvetica,Arial,serif;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="">Invoice number: {{invoiceModel.invoice_number}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="sendInvoiceModal.hide()" >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <tabset>
                    <tab heading='Template'>
                        <div style="width:100%;text-align: center;font-weight: bolder;font-size: 14pt"><b>Choose an Invoice Template</b></div>
                        <div *ngIf="studentApply.country_code == 'JP'">
                            <select [(ngModel)]="selectInvoice" style="width: 100%;font-size: 11pt;font-weight: bolder" class="form-control">
                                <option [value]="1" [selected]="selectInvoice==1">Japanese Invoice (Direct Sales) (Yen:¥)</option> <!--This NonJP Template Invoice-->
                                <option [value]="0" [selected]="selectInvoice==0">Japanese Invoice (Agent) (Yen:¥)</option> <!--This JP Template Invoice-->
                            </select>
                        </div>
                        <div *ngIf="studentApply.country_code != 'JP'">
                            <select [(ngModel)]="selectInvoice" style="width: 100%;font-size: 11pt;font-weight: bolder" class="form-control">
                                <option [value]="2" [selected]="selectInvoice==2">International Invoice (USD:$)</option>
                                <option [value]="3" [selected]="selectInvoice==3">Philippine Invoice - International (PHP:₱)</option> <!--This PH Template Invoice-->
                            </select>
                        </div>
                        <span id="jp-yen-invoice" *ngIf="selectInvoice == 0">
                            <span id="page-1-agentsales">
                                <div><span><img height="100%" width="100%" src="assets/images/header-invoice.png"/></span></div>
                                <div style="width:100%;text-align: center;font-weight: bolder;"><b>Confirmation Letter</b></div>
                                <div style="width:100%;text-align: left"><span style="margin-left:2em">Reservation number</span><br>
                                    <b><span style="margin-left:5em">{{studentApply.id_number?studentApply.id_number:'0'}}</span></b>
                                </div>
                                <div style="width:100%;text-align: center;font-size: 10pt">
                                    <br>Thank you for choosing QQ English for your upcoming studies abroad.<br>
                                    We are pleased to confirm the following arrangements for you and/or your guests.<br><br>
                                </div>
                                <table frame="box" style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;
                                float:right; margin-left:45%;margin-right:11%;outline-style: solid;margin-bottom: 30px;" border="0">
                                    <tr style="line-height: 30px;border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Name:</td>
                                        <td style="text-align: left;">{{studentApply.student_name?studentApply.student_name:studentApply.passport_name}}</td>
                                        <td style="text-align: left;">{{studentApply.sex==1?'Male':'Female'}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">&nbsp;</td>
                                        <td style="text-align: left;">{{studentApply.age}} Yrs old</td>
                                        <td style="text-align: left;">{{studentApply.country_code}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Accommodation:</td>
                                        <td style="text-align: left;">
                                            <span *ngIf="roomTypes">
                                                <span *ngFor="let room of roomTypes">
                                                    <span *ngIf='studentApply.room_id1==room.value'>{{room.name}} ~ </span>
                                                </span>
                                            </span>
                                            <span *ngIf="studentApply.accommodation_id1 == '2'">Alba Uno Hotel</span>
                                            <span *ngIf="studentApply.accommodation_id1 == '3'">Waterfront Hotel</span>
                                        </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">&nbsp;</td>
                                        <td style="text-align: left;">{{invoiceModel.checkin_date | date: 'MM/dd/yyyy'}} &emsp;&emsp; ~  </td>
                                        <td style="text-align: left;">{{invoiceModel.checkout_date | date: 'MM/dd/yyyy'}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Course:</td>
                                        <td style="text-align: left;">{{studentApply.course}} </td>
                                        <td style="text-align: left;">{{invoiceModel.term}} week(s)/day(s)</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">&nbsp;</td>
                                        <td style="text-align: left;">{{studentApply.entrance_date | date: 'MM/dd/yyyy'}} &emsp;&emsp; ~ </td>
                                        <td style="text-align: left;">{{studentApply.graduation_date | date: 'MM/dd/yyyy'}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Campus:</td>
                                        <td style="text-align: left;">{{studentApply.campus}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Arrival Date:</td>
                                        <td style="text-align: left;">{{studentApply.arrival_date | date: 'MM/dd/yyyy'}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Flight Number:</td>
                                        <td style="text-align: left;">{{studentApply.flight_no}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Arrival Time:</td>
                                        <td style="text-align: left;">{{studentApply.arrival_time | date: 'HH:mm'}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Remarks:</td>
                                        <td style="text-align: left;">{{studentApply.memo}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="line-height: 30px;">
                                        <td style="text-align: center;">Domi Info:</td>
                                        <td style="text-align: left;">{{studentApply.domi_info_campus}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                </table>
                                <div style="text-align: left;font-size: 8pt;font-weight: bold">
                                    <span style="margin-left:5em">・ご不明点がございましたら、https://qqenglish.jp/faq/をご確認くださいませ。<br></span>
                                    <span style="margin-left:5em">・お申込内容に間違いがないか、お客様ご自身でもご確認お願い致します。<br></span>
                                    <span style="margin-left:5em">・航空券はご到着の1週間前までに取得し、到着日時・到着時間・便名をお知らせください。<br></span>
                                    <span style="margin-left:5em">お客様のピックアップ対応可能時間は日曜日の8時から24時までにセブ<br></span>
                                    <span style="margin-left:5em">・マクタン空港ご到着予定の便となっております。<br></span>
                                    <span style="margin-left:5em">お客様の寮のチェックインは日曜日、チェックアウトは土曜日が原則となっております。<br></span>
                                </div>
                            </span>
                            <span id="page-2-agentsales">
                                <div><span><img height="100%" width="100%" src="assets/images/header-invoice.png"/></span></div>
                                <div style="width:100%;text-align: center;font-weight: bolder;"><b>I N V O I C E</b></div>
                                <div style="text-align: left;width: 45%; float:left"><span style="margin-left:2em">Reservation number</span><br>
                                    <b><span style="margin-left:5em">{{studentApply.id_number?studentApply.id_number:'0'}}</span></b>
                                </div>
                                <div style="text-align: right;width: 55%; float:right"><span style="margin-right:2em">Invoice number</span> <br>
                                    <b><span style="margin-right:5em">{{invoiceModel.invoice_number}}</span></b>
                                </div>
                                <div style="width:100%;text-align: center">This is Bill  <b>{{studentApply.sex==1?'Mr.':'Ms.'}} {{studentApply.passport_name}}</b></div>
                                <div>
                                    <div style="text-align: left;width: 45%; float:left"><span style="margin-left:2em">for the following breakdown:</span></div>
                                    <div style="text-align: right;width: 55%; float:right;margin-bottom:15px;"><span style="margin-right:6em">Due date</span><br>
                                        <b><span style="margin-right:5em">{{invoiceModel.due_date | date: 'MM/dd/yyyy'}}</span></b>
                                    </div>
                                    <table frame="box" style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;
                                        float:right; margin-left:45%;margin-right:11%;outline-style: solid;margin-bottom: 20px;" border="0">
                                        <tr style="line-height: 30px;font-size: 13pt;font-weight: bolder;border-bottom: 1px solid #000;">
                                            <th style="text-align: center">Description</th>
                                            <th>Unit Price</th>
                                            <th>Total Amount</th>
                                        </tr>
                                        <tr>
                                            <td>Registration Fee</td>
                                            <td>{{invoiceModel.entrance_fee?1:0}}</td>
                                            <td>¥{{invoiceModel.entrance_fee?invoiceModel.entrance_fee:0}}</td>
                                        </tr>
                                        <tr>
                                            <td><span style="color:red;">*</span>Tuition Fee<br>
                                               <span style="font-size: 11px;">
                                                   <div *ngFor="let g of reservedRoomsList">
                                                       <span *ngIf="g.accommodation_name == '1'">Share House</span>
                                                       <span *ngIf="g.accommodation_name == '4'">Share Room</span>
                                                       <span *ngIf="g.accommodation_name == '5'">Executive Room</span>
                                                       <span *ngIf="g.accommodation_name == '6'">Deluxe Room</span>
                                                       <span *ngIf="g.accommodation_name == '7'">Walk In</span>
                                                       <span *ngIf="g.accommodation_name == '8'">Walk In</span>
                                                       <span *ngIf="g.accommodation_name == '-1'">Walk In</span>
                                                       <span style="width:80px;font-size:10pt;">({{g.room_type | uppercase}})</span>
                                                   </div>
                                                   <div *ngFor="let g of reservedCondoRoomsList">
                                                       <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                       <span *ngIf="g.accommodation_name == '9'">Condo</span>
                                                   </div>
                                                   <div *ngFor="let g of reservedHotelsRoomsList">
                                                       <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                       <span *ngIf="g.accommodation_name == '2'">Alba Uno</span>
                                                       <span *ngIf="g.accommodation_name == '3'">Waterfront</span>
                                                   </div>
                                                   <div *ngFor="let g of reservedWalkinRoomsList">
                                                       <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                       <span *ngIf="g.accommodation_name == '7' || g.accommodation_name == '8'">Walk In</span>
                                                   </div>
                                                   <div *ngFor="let a of reservedHotelsList">
                                                       {{a.accommodation}}
                                                   </div>
                                                   <div *ngFor="let b of courseList">
                                                       {{b.memo | slice:4:100}}
                                                   </div>
                                               </span>
                                            </td>
                                            <td>1</td>
                                            <td>¥{{invoiceModel.sub_total?invoiceModel.sub_total:0}}</td>
                                        </tr>
                                        <tr>
                                            <td>Special Holiday</td>
                                            <td>{{invoiceModel.holiday_fee?1:0}}</td>
                                            <td>¥{{invoiceModel.holiday_fee?invoiceModel.holiday_fee:0}}</td>
                                        </tr>
                                        <tr>
                                            <td>Transfer fee</td>
                                            <td>{{invoiceModel.transfer_fee?1:0}}</td>
                                            <td>¥{{invoiceModel.transfer_fee?invoiceModel.transfer_fee:0}}</td>
                                        </tr>
                                        <tr>
                                            <td>Remittance fee</td>
                                            <td>{{invoiceModel.remittance_fee?1:0}}</td>
                                            <td>¥{{invoiceModel.remittance_fee?invoiceModel.remittance_fee:0}}</td>
                                        </tr>
                                        <tr>
                                            <td>{{invoiceModel.custom1_label?invoiceModel.custom1_label:''}}</td>
                                            <td>{{invoiceModel.custom1_fee?1:''}}</td>
                                            <td>{{invoiceModel.custom1_fee?'¥':''}}{{invoiceModel.custom1_fee?invoiceModel.custom1_fee:''}}</td>
                                        </tr>
                                        <tr style="color:red;" *ngFor="let g of invoiceDiscountList">
                                            <td>{{g.reason}}</td>
                                            <td>{{g.reason?1:''}}</td>
                                            <td>-¥{{g.discount}}</td>
                                        </tr>
                                        <tr style="border-top: 1px solid #000;">
                                            <td>Sub Total</td>
                                            <td></td>
                                            <td>¥{{(invoiceModel.sub_total + invoiceModel.entrance_fee
                                                + invoiceModel.transfer_fee + invoiceModel.remittance_fee + invoiceModel.holiday_fee + invoiceModel.custom1_fee) - (invoiceModel.discount)}}
                                            </td>
                                        </tr>
                                        <tr style="color:red;" *ngIf="invoiceModel.commission">
                                            <td>Commission {{invoiceModel.commission_percentage?invoiceModel.commission_percentage:''}}{{invoiceModel.commission_percentage?'%':''}} of *Tuition</td>
                                            <td></td>
                                            <td>-¥{{invoiceModel.commission}}</td>
                                        </tr>
                                        <tr style="font-size:10pt;border-bottom: 1px solid #000;" *ngIf="invoiceModel.commission_reason">
                                            <td>{{invoiceModel.commission_reason}}</td>
                                            <td></td>
                                            <td></td>
                                        </tr>
                                        <tr style="font-size: 12pt;line-height:20px;border-top: 1px solid #000;">
                                            <td style="font-weight: bold">Total Amount:</td>
                                            <td></td>
                                            <td style="font-weight: bold">
                                                ¥{{(invoiceModel.sub_total) +
                                                (invoiceModel.entrance_fee + invoiceModel.remittance_fee +
                                                invoiceModel.holiday_fee + invoiceModel.transfer_fee + invoiceModel.custom1_fee)
                                                - (invoiceModel.discount + invoiceModel.commission)}}
                                            </td>
                                        </tr>
                                    </table>
                                    <div style="width: 45%; float:left">
                                        <span style="margin-left:5em"><strong style="color:blue">Payment In the School</strong></span>
                                        <table frame="box" style="width:70%;text-align: center;font-size: 11pt;font-weight: bolder;
                                        float:right; margin-left:45%;margin-right:11%;outline-style: solid;margin-bottom: 30px;" border="0">
                                            <tr>
                                                <th style="text-align: center;">Visa Extention Fee</th>
                                                <th style="text-align: center;">Vary</th>
                                            </tr>
                                            <tr>
                                                <td>SSP</td>
                                                <td>Php {{invoiceModel.ssp_fee_php}}</td>
                                            </tr>
                                            <tr>
                                                <td>Student ID</td>
                                                <td>Php {{invoiceModel.id_card}}</td>
                                            </tr>
                                            <tr>
                                                <td>Electricity Fee</td>
                                                <td>Php {{invoiceModel.electrical_fee_php}}</td>
                                            </tr>
                                            <tr>
                                                <td>I-Card</td>
                                                <td>Php {{invoiceModel.i_card_cost}}</td>
                                            </tr>
                                            <tr>
                                                <td>ECC</td>
                                                <td>Php {{invoiceModel.ecc}}</td>
                                            </tr>
                                            <tr>
                                                <td>Extension Fee</td>
                                                <td>Php {{invoiceModel.extention_fee_php}}</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div style="width: 55%; float:right">
                                        <span style="margin-left:8em">【VISA fee】</span>
                                        <table frame="box" style="width:70%;text-align: center;font-size: 11pt;font-weight: bolder;
                                        float:right; margin-left:45%;margin-right:20%;outline-style: solid;margin-bottom: 30px;" border="0">
                                            <tr>
                                                <th style="text-align: center;">Visit duration</th>
                                                <th style="text-align: center;">Additional</th>
                                                <th style="text-align: center;">Total</th>
                                            </tr>
                                            <tr>
                                                <td>30days</td>
                                                <td>Free</td>
                                                <td>Free</td>
                                            </tr>
                                            <tr>
                                                <td>59days</td>
                                                <td>3340</td>
                                                <td>3340 PHP</td>
                                            </tr>
                                            <tr>
                                                <td>89days</td>
                                                <td>4310</td>
                                                <td>7650 PHP</td>
                                            </tr>
                                            <tr>
                                                <td>119days</td>
                                                <td>2640</td>
                                                <td>10290 PHP</td>
                                            </tr>
                                            <tr>
                                                <td>149days</td>
                                                <td>2640</td>
                                                <td>12930 PHP</td>
                                            </tr>
                                            <tr>
                                                <td>179days</td>
                                                <td>2640</td>
                                                <td>15570 PHP</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div style="width: 100%;">
                                        <table style="width:70%;text-align: left;font-size: 11pt;font-weight: bolder;
                                        float:left; margin-left:11%;margin-right:20%;margin-bottom: 10px;" border="0">
                                            <tr><strong style="color:blue">Account Number</strong></tr>
                                            <tr>カ）キュウキュウ　イングリッシュ </tr>
                                            <tr>三菱東京UFJ銀行</tr>
                                            <tr>笹塚支店</tr>
                                            <tr>普通　1316002</tr>
                                            <tr>口座名義　株式会社QQ English</tr>
                                            <tr>Due date {{invoiceModel.due_date | date : 'MM/dd/yyyy'}}</tr>
                                        </table>
                                    </div>
                                </div>
                            </span>
                        </span>
                        <span id="non-jp-yen-invoice" *ngIf="selectInvoice == 1">
                            <span id="page-1-directsales">
                                <div><span><img height="100%" width="100%" src="assets/images/header-invoice.png"/></span></div>
                                <div style="width:100%;text-align: center;font-weight: bolder;"><b>Confirmation Letter</b></div>
                                <div style="width:100%;text-align: left"><span style="margin-left:2em">Reservation number</span><br>
                                    <b><span style="margin-left:5em">{{studentApply.id_number?studentApply.id_number:'0'}}</span></b>
                                </div>
                                <div style="width:100%;text-align: center;font-size: 10pt">
                                    <br>Thank you for choosing QQ English for your upcoming studies abroad.<br>
                                    We are pleased to confirm the following arrangements for you and/or your guests.<br><br>
                                </div>
                                <table frame="box" style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;
                                float:right; margin-left:45%;margin-right:11%;outline-style: solid;margin-bottom: 30px;" border="0">
                                    <tr style="line-height: 30px;border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Name:</td>
                                        <td style="text-align: left;">{{studentApply.student_name?studentApply.student_name:studentApply.passport_name}}</td>
                                        <td style="text-align: left;">{{studentApply.sex==1?'Male':'Female'}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">&nbsp;</td>
                                        <td style="text-align: left;">{{studentApply.age}} Yrs old</td>
                                        <td style="text-align: left;">{{studentApply.country_code}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Accommodation:</td>
                                        <td style="text-align: left;">
                                            <span *ngIf="roomTypes">
                                                <span *ngFor="let room of roomTypes">
                                                    <span *ngIf='studentApply.room_id1==room.value'>{{room.name}} ~ </span>
                                                </span>
                                            </span>
                                            <span *ngIf="studentApply.accommodation_id1 == '2'">Alba Uno Hotel</span>
                                            <span *ngIf="studentApply.accommodation_id1 == '3'">Waterfront Hotel</span>
                                        </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">&nbsp;</td>
                                        <td style="text-align: left;">{{invoiceModel.checkin_date | date: 'MM/dd/yyyy'}} &emsp;&emsp; ~  </td>
                                        <td style="text-align: left;">{{invoiceModel.checkout_date | date: 'MM/dd/yyyy'}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Course:</td>
                                        <td style="text-align: left;">{{studentApply.course}} </td>
                                        <td style="text-align: left;">{{invoiceModel.term}} week(s)/day(s)</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">&nbsp;</td>
                                        <td style="text-align: left;">{{studentApply.entrance_date | date: 'MM/dd/yyyy'}} &emsp;&emsp; ~ </td>
                                        <td style="text-align: left;">{{studentApply.graduation_date | date: 'MM/dd/yyyy'}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Campus:</td>
                                        <td style="text-align: left;">{{studentApply.campus}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Arrival Date:</td>
                                        <td style="text-align: left;">{{studentApply.arrival_date | date: 'MM/dd/yyyy'}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Flight Number:</td>
                                        <td style="text-align: left;">{{studentApply.flight_no}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Arrival Time:</td>
                                        <td style="text-align: left;">{{studentApply.arrival_time | date: 'HH:mm'}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Remarks:</td>
                                        <td style="text-align: left;">{{studentApply.memo}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="line-height: 30px;">
                                        <td style="text-align: center;">Domi Info:</td>
                                        <td style="text-align: left;">{{studentApply.domi_info_campus}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                </table>
                                <div style="text-align: left;font-size: 8pt;font-weight: bold">
                                    <span style="margin-left:5em">・ご不明点がございましたら、https://qqenglish.jp/faq/をご確認くださいませ。<br></span>
                                    <span style="margin-left:5em">・お申込内容に間違いがないか、お客様ご自身でもご確認お願い致します。<br></span>
                                    <span style="margin-left:5em">・航空券はご到着の1週間前までに取得し、到着日時・到着時間・便名をお知らせください。<br></span>
                                    <span style="margin-left:5em">お客様のピックアップ対応可能時間は日曜日の8時から24時までにセブ<br></span>
                                    <span style="margin-left:5em">・マクタン空港ご到着予定の便となっております。<br></span>
                                    <span style="margin-left:5em">お客様の寮のチェックインは日曜日、チェックアウトは土曜日が原則となっております。<br></span>
                                    <span style="margin-left:5em">・振り込み手数料はお客様にてご負担下さい。<br></span>
                                </div>
                            </span>
                            <span id="page-2-directsales">
                                <div>
                                    <span><img height="100%" width="100%" src="assets/images/header-invoice.png"/></span>
                                </div>
                                <div style="text-align: left;width: 45%; float:left"><span style="margin-left:2em">Reservation number</span><br>
                                    <b><span style="margin-left:5em">{{studentApply.id_number?studentApply.id_number:'0'}}</span></b>
                                </div>
                                <div style="text-align: right;width: 55%; float:right"><span style="margin-right:2em">Invoice number</span> <br>
                                    <b><span style="margin-right:5em">{{invoiceModel.invoice_number}}</span></b>
                                </div>
                                <div style="width:100%;text-align: center;margin-bottom:15px;"><b>{{studentApply.sex==1?'Mr.':'Ms.'}} {{studentApply.passport_name}}</b>
                                    <br> {{invoiceModel.checkin_date | date: 'MM/dd/yyyy' }} ~ {{invoiceModel.checkout_date | date: 'MM/dd/yyyy'}} <br></div>
                                <div style="width:100%;text-align: left;margin-bottom:15px;"><span style="margin-left:2em">for the following breakdown:</span></div>
                                    <table frame="box" style="width:80%;text-align: center;font-size: 11pt; float:right; margin-left:45%;
                                    margin-right:11%;outline-style: solid;margin-bottom: 20px;" border="0">
                                        <tr style="line-height: 30px;font-size: 13pt;font-weight: bolder;border-bottom: 1px solid #000;">
                                            <th style="text-align: center;">Description</th>
                                            <th style="text-align: center;">Unit Price</th>
                                            <th style="text-align: center;">Total Amount</th>
                                        </tr>
                                        <tr>
                                            <td>Registration Fee</td>
                                            <td>{{invoiceModel.entrance_fee?1:0}}</td>
                                            <td>¥{{invoiceModel.entrance_fee}}</td>
                                        </tr>
                                        <tr>
                                            <td>Tuition Fee<br>
                                               <span style="font-size: 11px;">
                                                   <div *ngFor="let g of reservedRoomsList">
                                                       <span *ngIf="g.accommodation_name == '1'">Share House</span>
                                                       <span *ngIf="g.accommodation_name == '4'">Share Room</span>
                                                       <span *ngIf="g.accommodation_name == '5'">Executive Room</span>
                                                       <span *ngIf="g.accommodation_name == '6'">Deluxe Room</span>
                                                       <span *ngIf="g.accommodation_name == '7'">Walk In</span>
                                                       <span *ngIf="g.accommodation_name == '8'">Walk In</span>
                                                       <span *ngIf="g.accommodation_name == '-1'">Walk In</span>
                                                       <span style="width:80px;font-size:10pt;">({{g.room_type | uppercase}})</span>
                                                   </div>
                                                   <div *ngFor="let g of reservedCondoRoomsList">
                                                       <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                       <span *ngIf="g.accommodation_name == '9'">Condo</span>
                                                   </div>
                                                   <div *ngFor="let g of reservedHotelsRoomsList">
                                                       <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                       <span *ngIf="g.accommodation_name == '2'">Alba Uno</span>
                                                       <span *ngIf="g.accommodation_name == '3'">Waterfront</span>
                                                   </div>
                                                   <div *ngFor="let g of reservedWalkinRoomsList">
                                                       <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                       <span *ngIf="g.accommodation_name == '7' || g.accommodation_name == '8'">Walk In</span>
                                                   </div>
                                                   <div *ngFor="let a of reservedHotelsList">
                                                       {{a.accommodation}}
                                                   </div>
                                                   <div *ngFor="let b of courseList">
                                                       {{b.memo | slice:4:100}}
                                                   </div>
                                               </span>
                                            </td>
                                            <td>1</td>
                                            <td>¥{{invoiceModel.sub_total}}</td>
                                        </tr>
                                        <tr>
                                            <td>Special Holiday</td>
                                            <td>{{invoiceModel.holiday_fee?1:0}}</td>
                                            <td>¥{{invoiceModel.holiday_fee}}</td>
                                        </tr>
                                        <tr>
                                            <td>Transfer fee</td>
                                            <td>{{invoiceModel.transfer_fee?1:0}}</td>
                                            <td>¥{{invoiceModel.transfer_fee}}</td>
                                        </tr>
                                        <tr>
                                            <td>Remittance fee</td>
                                            <td>{{invoiceModel.remittance_fee?1:0}}</td>
                                            <td>¥{{invoiceModel.remittance_fee}}</td>
                                        </tr>
                                        <tr>
                                            <td>{{invoiceModel.custom1_label?invoiceModel.custom1_label:''}}</td>
                                            <td>{{invoiceModel.custom1_fee?1:''}}</td>
                                            <td>{{invoiceModel.custom1_fee?'¥':''}}{{invoiceModel.custom1_fee?invoiceModel.custom1_fee:''}}</td>
                                        </tr>
                                        <tr style="color:red;" *ngFor="let g of invoiceDiscountList">
                                            <td>{{g.reason}}</td>
                                            <td></td>
                                            <td>-¥{{g.discount}}</td>
                                        </tr>
                                        <tr style="line-height: 30px;font-weight:bolder;font-size:12pt;border-top: 1px solid #000;">
                                            <td>Total Amount:</td>
                                            <td></td>
                                            <td>
                                                ¥{{ (invoiceModel.sub_total + invoiceModel.entrance_fee + invoiceModel.transfer_fee
                                                + invoiceModel.remittance_fee + invoiceModel.holiday_fee + invoiceModel.custom1_fee) - (invoiceModel.discount) }}
                                            </td>
                                        </tr>
                                    </table>
                                    <br>
                                    <div style="width: 45%; float:left">
                                        <span style="margin-left:5em"><strong style="color:blue">Payment In the School</strong></span>
                                        <table frame="box" style="width:70%;text-align: center;font-size: 11pt;font-weight: bolder;
                                            float:right; margin-left:45%;margin-right:11%;outline-style: solid;margin-bottom: 30px;" border="0">
                                            <tr>
                                                <th>Visa Extention Fee</th>
                                                <th>Vary</th>
                                            </tr>
                                            <tr>
                                                <td>SSP</td>
                                                <td>Php {{invoiceModel.ssp_fee_php}}</td>
                                            </tr>
                                            <tr>
                                                <td>Student ID</td>
                                                <td>Php {{invoiceModel.id_card}}</td>
                                            </tr>
                                            <tr>
                                                <td>Electricity Fee</td>
                                                <td>Php {{invoiceModel.electrical_fee_php}}</td>
                                            </tr>
                                            <tr>
                                                <td>I-Card</td>
                                                <td>Php {{invoiceModel.i_card_cost}}</td>
                                            </tr>
                                            <tr>
                                                <td>ECC</td>
                                                <td>Php {{invoiceModel.ecc}}</td>
                                            </tr>
                                            <tr>
                                                <td>Extension Fee</td>
                                                <td>Php {{invoiceModel.extention_fee_php}}</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div style="width: 55%; float:right">
                                        <span style="margin-left:8em">【VISA fee】</span>
                                        <table frame="box" style="width:70%;text-align: center;font-size: 11pt;font-weight: bolder;
                                            float:right; margin-left:45%;margin-right:20%;outline-style: solid;
                                            margin-bottom: 30px;" border="0">
                                            <tr>
                                                <th style="text-align: center;">Visit duration</th>
                                                <th style="text-align: center;">Additional</th>
                                                <th style="text-align: center;">Total</th>
                                            </tr>
                                            <tr>
                                                <td>30days</td>
                                                <td>Free</td>
                                                <td>Free</td>
                                            </tr>
                                            <tr>
                                                <td>59days</td>
                                                <td>3340</td>
                                                <td>3340 PHP</td>
                                            </tr>
                                            <tr>
                                                <td>89days</td>
                                                <td>4310</td>
                                                <td>7650 PHP</td>
                                            </tr>
                                            <tr>
                                                <td>119days</td>
                                                <td>2640</td>
                                                <td>10290 PHP</td>
                                            </tr>
                                            <tr>
                                                <td>149days</td>
                                                <td>2640</td>
                                                <td>12930 PHP</td>
                                            </tr>
                                            <tr>
                                                <td>179days</td>
                                                <td>2640</td>
                                                <td>15570 PHP</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div style="width: 100%;">
                                        <table style="width:70%;text-align: left;font-size: 11pt;font-weight: bolder;
                                            float:left; margin-left:11%;margin-right:20%;margin-bottom: 10px;" border="0">
                                                <tr><strong style="color:blue">Account Number</strong></tr>
                                                <tr>カ）キュウキュウイングリッシュ</tr>
                                                <tr>三菱UFJ銀行</tr>
                                                <tr>笹塚支店</tr>
                                                <tr>当座　0741396</tr>
                                                <tr>Due date {{invoiceModel.due_date | date : 'MM/dd/yyyy'}}</tr>
                                        </table>
                                    </div>
                            </span>
                        </span>
                        <span id="non-jp-dollars-invoice" *ngIf="selectInvoice == 2">
                            <span id="agent-page">
                                <div style="text-align: right;width: 100%; float:right">
                                    <span style="margin-right:4em;font-size: 10pt">
                                        <b>NO. {{invoiceModel.invoice_number}}</b>
                                    </span>
                                </div>
                                <div>
                                    <span><img height="100%" width="100%" src="assets/images/header-invoice.png"/></span>
                                </div>
                                <div style="width:100%;margin-bottom: 20px;font-weight:bold">
                                    <div style="margin-right:5em;font-size: 9pt;float:right">Date: {{invoiceModel.approved_date | date:'longDate'}}</div>
                                    <span *ngIf="studentApply.country_code != 'TW' && studentApply.country_code != 'CN'">
                                        <div style="margin-left:5em;font-size: 9pt;float:left">{{studentApply.agent_name}}</div>
                                    </span>
                                </div>
                                <div style="width:100%;text-align: center;font-size: 12pt">
                                    <span style="font-weight: bold"><span style="font-size: 20px;">INVOICE</span><br>
                                        This is to bill {{studentApply.sex==1?'Mr.':'Ms.'}} {{studentApply.passport_name}}
                                    </span>
                                </div>
                                <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt"> for the following breakdown:</div>
                                <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt;
                                    margin-bottom: 20px;"> Period Covered:
                                    <b>{{invoiceModel.term}} week(s) &nbsp;&nbsp;{{invoiceModel.checkin_date | date: 'dd-MMM-yyyy'}} ~ {{invoiceModel.checkout_date | date: 'dd-MMM-yyyy'}}</b>
                                </div>
                                <table style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;
                                            float:right; margin-left:45%;margin-right:11%;margin-bottom: 20px;" border="0">
                                    <tr style="font-size: 13pt;line-height: 30px;border-bottom: 1px solid #000;">
                                        <th style="text-align: center;">Description</th>
                                        <th style="text-align: center;">Unit Price</th>
                                        <th style="text-align: center;">Pax</th>
                                        <th style="text-align: center;">Total Amount</th>
                                    </tr>
                                    <tr>
                                        <td>Registration Fee</td>
                                        <td>${{invoiceModel.entrance_fee}}</td>
                                        <td>{{invoiceModel.entrance_fee?1:0}}</td>
                                        <td>${{invoiceModel.entrance_fee}}</td>
                                    </tr>
                                    <tr style="font-size: 10pt">
                                        <td>Tuition & Accommodation
                                            <span style="font-size: 11px;">
                                                <div *ngFor="let g of reservedRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '1'">Share House</span>
                                                    <span *ngIf="g.accommodation_name == '4'">Share Room</span>
                                                    <span *ngIf="g.accommodation_name == '5'">Executive Room</span>
                                                    <span *ngIf="g.accommodation_name == '6'">Deluxe Room</span>
                                                    <span *ngIf="g.accommodation_name == '7'">Walk In</span>
                                                    <span *ngIf="g.accommodation_name == '8'">Walk In</span>
                                                    <span *ngIf="g.accommodation_name == '-1'">Walk In</span>
                                                    <span style="width:80px;font-size:10pt;">({{g.room_type | uppercase}})</span>
                                                </div>
                                                <div *ngFor="let g of reservedCondoRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '9'">Condo</span>
                                                </div>
                                                <div *ngFor="let g of reservedHotelsRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '2'">Alba Uno</span>
                                                    <span *ngIf="g.accommodation_name == '3'">Waterfront</span>
                                                </div>
                                                <div *ngFor="let g of reservedWalkinRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '7' || g.accommodation_name == '8'">Walk In</span>
                                                </div>
                                                <div *ngFor="let a of reservedHotelsList">
                                                    {{a.accommodation}}
                                                </div>
                                                <div *ngFor="let b of courseList">
                                                    {{b.memo | slice:4:100}}
                                                </div>
                                            </span>
                                        </td>
                                        <td>${{invoiceModel.sub_total}}</td>
                                        <td>1</td>
                                        <td>${{invoiceModel.sub_total}}</td>
                                    </tr>
                                    <tr>
                                        <td>Holiday Fee</td>
                                        <td>${{invoiceModel.holiday_fee}}</td>
                                        <td>{{invoiceModel.holiday_fee?1:0}}</td>
                                        <td>${{invoiceModel.holiday_fee}}</td>
                                    </tr>
                                    <tr>
                                        <td style="font-size:9pt;text-align:center;">{{invoiceModel.holidays}}</td>
                                    </tr>
                                    <tr>
                                        <td>Transfer Fee</td>
                                        <td>${{invoiceModel.transfer_fee}}</td>
                                        <td>{{invoiceModel.transfer_fee?1:0}}</td>
                                        <td>${{invoiceModel.transfer_fee}}</td>
                                    </tr>
                                    <tr style="color:red" *ngFor="let g of invoiceDiscountList">
                                        <td>{{g.reason}}</td>
                                        <td>-${{g.discount}}</td>
                                        <td></td>
                                        <td>-${{g.discount}}</td>
                                    </tr>
                                    <tr>
                                        <td style="border-top:1px solid #000;" colspan="3"><b>Sub Total:</b></td>
                                        <td style="border-top:1px solid #000;">
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 11pt;font-weight: bolder">
                                                    <b> ${{ ((invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee + invoiceModel.sub_total) - invoiceModel.discount) }}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr style="color:red;" *ngIf="invoiceModel.commission">
                                        <td>Agent Commission
                                            <span *ngIf="invoiceModel.commission_percentage">
                                                ({{invoiceModel.commission_percentage | number : '1.0-0'}}%)
                                            </span>
                                        </td>
                                        <td>-${{invoiceModel.commission}}</td>
                                        <td></td>
                                        <td>-${{invoiceModel.commission}}</td>
                                    </tr>
                                    <tr style="color:black;font-size:8pt;" *ngIf="invoiceModel.commission_reason">
                                        <td>{{invoiceModel.commission_reason}}</td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr style="line-height: 30px;border-top:1px solid #000;">
                                        <td><strong style="color:blue">Total Amount</strong></td>
                                        <td colspan="2"><b>US DOLLARS:</b></td>
                                        <td>
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 13pt;font-weight: bolder">
                                                    <b>${{ ((invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee + invoiceModel.sub_total) - (invoiceModel.commission + invoiceModel.discount))}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                                <br>
                                <div style="float: right;margin-left: 3em; font-size: 12pt;">
                                    <div style="width: 30%; float:left"><br><strong
                                            style="color:blue">Payment In the School</strong><br><br>
                                        SSP<br>
                                        VISA Extension Fee<br>
                                        Student ID<br>
                                        Electricity Fee<br>
                                        I-Card<br>
                                        Text book<br>
                                    </div>
                                    <div style="width: 70%; float:right"><br><br><br>
                                        Php {{invoiceModel.ssp_fee_php}}<br>
                                        Vary<br>
                                        Php {{invoiceModel.id_card}}<br>
                                        Php {{invoiceModel.electrical_fee_php}}<br>
                                        Php {{invoiceModel.i_card_cost}}<br>
                                        Vary<br>
                                    </div>
                                    <div style="width: 30%; float:left"><br><strong
                                            style="color:blue">ACCOUNT NUMBER</strong><br><br>
                                        BANK NAME:<br>
                                        ACCOUNT NUMBER:<br>
                                        COMPANY NAME:<br>
                                        BANK ADDRESS:<br><br>
                                        SWIFT CODE:<br>
                                        BRANCH CODE:<br>
                                        DUE DATE:<br>
                                    </div>
                                    <div style="width: 70%; float:right"><br><br><br>
                                        METROPOLITAN BANK AND TRUST COMPANY<br>
                                        602-7602-908956<br>
                                        REAL GREATENGLISH CORPORATION<br>CEBU SALINAS BRANCH - AMON TRADING CORP.
                                        BLDG., SALINAS DRIVE, CEBU CITY 6000<br>
                                        MBTCPHMM<br>
                                        602<br>
                                        {{invoiceModel.due_date | date: 'MM/dd/yyyy'}}<br>
                                    </div>
                                </div>
                            </span>
                            <span id="student-page">
                                <div style="text-align: right;width: 100%; float:right">
                                    <span style="margin-right:4em;font-size: 10pt">
                                        <b>NO. {{invoiceModel.invoice_number}}</b>
                                    </span>
                                </div>
                                <div>
                                    <span><img height="100%" width="100%" src="assets/images/header-invoice.png"/></span>
                                </div>
                                <div style="width:100%;text-align: right">
                                    <b><span
                                            style="margin-right:5em;font-size: 9pt">Date: {{invoiceModel.approved_date | date:'longDate'}}</span></b>
                                </div>
                                <div style="width:100%;text-align: center;font-size: 12pt">
                                    <span style="font-weight: bold"><span style="font-size: 20px;">INVOICE</span><br>
                                        This is to bill {{studentApply.sex==1?'Mr.':'Ms.'}} {{studentApply.passport_name}}
                                    </span>
                                </div>
                                <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt"> for the following breakdown:</div>
                                <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt;
                                    margin-bottom: 20px;"> Period Covered:
                                    <b>{{invoiceModel.term}} week(s) &nbsp;&nbsp;{{invoiceModel.checkin_date | date: 'dd-MMM-yyyy'}} ~ {{invoiceModel.checkout_date | date: 'dd-MMM-yyyy'}}</b>
                                </div>
                                <table style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;
                                            float:right; margin-left:45%;margin-right:11%;margin-bottom: 20px;" border="0">
                                    <tr style="font-size: 13pt;line-height: 30px;border-bottom: 1px solid #000;">
                                        <th style="text-align: center;">Description</th>
                                        <th style="text-align: center;">Unit Price</th>
                                        <th style="text-align: center;">Pax</th>
                                        <th style="text-align: center;">Total Amount</th>
                                    </tr>
                                    <tr>
                                        <td>Registration Fee</td>
                                        <td>${{invoiceModel.entrance_fee}}</td>
                                        <td>{{invoiceModel.entrance_fee?1:0}}</td>
                                        <td>${{invoiceModel.entrance_fee}}</td>
                                    </tr>
                                    <tr style="font-size: 10pt">
                                        <td>Tuition & Accommodation
                                            <span style="font-size: 11px;">
                                                <div *ngFor="let g of reservedRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '1'">Share House</span>
                                                    <span *ngIf="g.accommodation_name == '4'">Share Room</span>
                                                    <span *ngIf="g.accommodation_name == '5'">Executive Room</span>
                                                    <span *ngIf="g.accommodation_name == '6'">Deluxe Room</span>
                                                    <span *ngIf="g.accommodation_name == '7'">Walk In</span>
                                                    <span *ngIf="g.accommodation_name == '8'">Walk In</span>
                                                    <span *ngIf="g.accommodation_name == '-1'">Walk In</span>
                                                    <span style="width:80px;font-size:10pt;">({{g.room_type | uppercase}})</span>
                                                </div>
                                                <div *ngFor="let g of reservedCondoRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '9'">Condo</span>
                                                </div>
                                                <div *ngFor="let g of reservedHotelsRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '2'">Alba Uno</span>
                                                    <span *ngIf="g.accommodation_name == '3'">Waterfront</span>
                                                </div>
                                                <div *ngFor="let g of reservedWalkinRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '7' || g.accommodation_name == '8'">Walk In</span>
                                                </div>
                                                <div *ngFor="let a of reservedHotelsList">
                                                    {{a.accommodation}}
                                                </div>
                                                <div *ngFor="let b of courseList">
                                                    {{b.memo | slice:4:100}}
                                                </div>
                                            </span>
                                        </td>
                                        <td>${{invoiceModel.sub_total}}</td>
                                        <td>1</td>
                                        <td>${{invoiceModel.sub_total}}</td>
                                    </tr>
                                    <tr>
                                        <td>Holiday Fee</td>
                                        <td>${{invoiceModel.holiday_fee}}</td>
                                        <td>{{invoiceModel.holiday_fee?1:0}}</td>
                                        <td>${{invoiceModel.holiday_fee}}</td>
                                    </tr>
                                    <tr>
                                        <td style="font-size:9pt;text-align:center;">{{invoiceModel.holidays}}</td>
                                    </tr>
                                    <tr>
                                        <td>Transfer Fee</td>
                                        <td>${{invoiceModel.transfer_fee}}</td>
                                        <td>{{invoiceModel.transfer_fee?1:0}}</td>
                                        <td>${{invoiceModel.transfer_fee}}</td>
                                    </tr>
                                    <tr style="color:red" *ngFor="let g of invoiceDiscountList">
                                        <td>{{g.reason}}</td>
                                        <td>-${{g.discount}}</td>
                                        <td></td>
                                        <td>-${{g.discount}}</td>
                                    </tr>
                                    <tr>
                                        <td style="border-top:1px solid #000;" colspan="3"><b>Sub Total:</b></td>
                                        <td style="border-top:1px solid #000;">
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 11pt;font-weight: bolder">
                                                    <b> ${{ ((invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee + invoiceModel.sub_total) - invoiceModel.discount) }}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr style="line-height: 30px;">
                                        <td><strong style="color:blue">Total Amount</strong></td>
                                        <td colspan="2"><b>US DOLLARS:</b></td>
                                        <td>
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 13pt;font-weight: bolder">
                                                    <b>${{ ((invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee + invoiceModel.sub_total) - invoiceModel.discount)}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                                <br>
                                <div style="float: right;margin-left: 3em; font-size: 12pt;">
                                    <div style="width: 30%; float:left"><br><strong
                                            style="color:blue">Payment In the School</strong><br><br>
                                        SSP<br>
                                        VISA Extension Fee<br>
                                        Student ID<br>
                                        Electricity Fee<br>
                                        I-Card<br>
                                        Text book<br>
                                    </div>
                                    <div style="width: 70%; float:right"><br><br><br>
                                        Php {{invoiceModel.ssp_fee_php}}<br>
                                        Vary<br>
                                        Php {{invoiceModel.id_card}}<br>
                                        Php {{invoiceModel.electrical_fee_php}}<br>
                                        Php {{invoiceModel.i_card_cost}}<br>
                                        Vary<br>
                                    </div>
                                    <div style="width: 30%; float:left"><br><strong
                                            style="color:blue">ACCOUNT NUMBER</strong><br><br>
                                        BANK NAME:<br>
                                        ACCOUNT NUMBER:<br>
                                        COMPANY NAME:<br>
                                        BANK ADDRESS:<br><br>
                                        SWIFT CODE:<br>
                                        BRANCH CODE:<br>
                                        DUE DATE:<br>
                                    </div>
                                    <div style="width: 70%; float:right"><br><br><br>
                                        METROPOLITAN BANK AND TRUST COMPANY<br>
                                        602-7602-908956<br>
                                        REAL GREATENGLISH CORPORATION<br>CEBU SALINAS BRANCH - AMON TRADING CORP.
                                        BLDG., SALINAS DRIVE, CEBU CITY 6000<br>
                                        MBTCPHMM<br>
                                        602<br>
                                        {{invoiceModel.due_date | date: 'MM/dd/yyyy'}}<br>
                                    </div>
                                </div>
                            </span>
                        </span>
                        <span id="int-peso-invoice" *ngIf="selectInvoice == 3">
                            <span id="peso-invoice">
                                <div align="center">
                                    <table style="width:80%;margin-bottom: 15px;font-size:14pt;">
                                        <tr>
                                            <td>Invoice No</td>
                                            <td>{{invoiceModel.invoice_number}}</td>
                                            <td align="right" style="font-size:12pt;">{{today | date: 'MM/dd/yyyy'}}</td>
                                        </tr>
                                    </table>
                                    <table style="width:80%;margin-bottom: 15px;font-size:14pt;">
                                        <tr>
                                            <td style="text-decoration: underline;">Student Name</td>
                                            <td>{{studentApply.passport_name}}</td>
                                            <td align="center">QQ ENGLISH</td>
                                        </tr>
                                    </table>
                                    <table style="width:80%;margin-bottom:15px;">
                                        <tr align="right">
                                            <td colspan="3">
                                                REAL GREATENGLISH CORPORATION
                                            </td>
                                        </tr>
                                        <tr align="right">
                                            <td colspan="3">
                                                7th Floor Skyrise 4 Building, Cebu I.T Park,<br> Apas, Cebu City, Philippines 6000
                                            </td>
                                        </tr>
                                        <tr align="right">
                                            <td colspan="3">
                                                Tel:+63(0)32-479-9042
                                            </td>
                                        </tr>
                                        <tr align="right">
                                            <td colspan="3">
                                                Email: info@qqenglish.jp
                                            </td>
                                        </tr>
                                    </table>
                                    <table style="width:80%;margin-bottom:15px;">
                                        <tr style="font-size:14pt;font-weight: bolder">
                                            <td align="center">TOTAL:</td>
                                            <td align="right" style="border-bottom:1px solid black">{{phRateInvoice}}</td>
                                            <td>PHP</td>
                                        </tr>
                                    </table>
                                </div>
                                <div align="center">
                                    <table style="width:80%;border-collapse: collapse;border: 1px solid black;margin-bottom:10px;">
                                        <tr style="background-color: darkgray">
                                            <th style="border: 1px solid black;text-align:center;">Description</th>
                                            <th style="border: 1px solid black;text-align:center;">Unit Price</th>
                                            <th style="border: 1px solid black;text-align:center;">Pax</th>
                                            <th style="border: 1px solid black;text-align:center;">Amount</th>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;">Tuition fee</td>
                                            <td align="right" style="border: 1px solid black;">{{phRateInvoice}}</td>
                                            <td align="right" style="border: 1px solid black;color: red">1</td>
                                            <td align="center" style="border: 1px solid black;color: red">{{phRateInvoice}}</td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr style="background-color: darkgray">
                                            <td colspan="2" align="left">Total amount to be paid to RGE</td>
                                            <td align="right">PHP</td>
                                            <td align="center" style="border:1px solid black;">{{phRateInvoice}}</td>
                                        </tr>
                                    </table>
                                    <table style="width:80%;margin-bottom: 20px;font-size:12pt;">
                                        <tr>
                                            <td style="font-size:12pt;"><b>Bank account</b></td>
                                            <td align="right" style="font-weight:bolder">Payable to</td>
                                            <td align="center">REAL GREATENGLISH CORPORATION</td>
                                        </tr>
                                        <tr>
                                            <td align="right" colspan="2" style="font-weight:bolder">Bank Name</td>
                                            <td align="center">Unionbank of the Philippines</td>
                                        </tr>
                                        <tr>
                                            <td align="right" colspan="2" style="font-weight:bolder">Branch</td>
                                            <td align="center">Asiatown I.T. Park Branch</td>
                                        </tr>
                                        <tr>
                                            <td align="right" colspan="2" style="font-weight:bolder">Account Number</td>
                                            <td align="center">001430001656</td>
                                        </tr>
                                        <tr>
                                            <td align="right" colspan="2" style="font-weight:bolder">Swift Code</td>
                                            <td align="center">UBPHPHMM</td>
                                        </tr>
                                    </table>
                                </div>
                            </span>
                        </span>
                        <br>
                        <div style="float: right">
                            <button *ngIf="(user.role.id == 1 || user.id == 35) && selectInvoice && studentApply.isInvoiceConfirmed == 1 && (studentApply.country_code != 'JP')"
                                    title="Lock Invoice" type="button" class="btn" data-dismiss="modal" (click)="lockInvoice(studentApply.id)" [disabled]="processing">
                                <img src="assets/img/Locked.svg" style="cursor:pointer;" width="35px" height="35px">
                            </button>
                            <button *ngIf="(user.role.id == 1 || user.id == 35) && selectInvoice && studentApply.isInvoiceConfirmed == 2 && (studentApply.country_code != 'JP')"
                                    title="Unlock Invoice" type="button" class="btn" data-dismiss="modal" (click)="unlockInvoice(studentApply.id)" [disabled]="processing">
                                <img src="assets/img/Unlocked.svg" style="cursor:pointer;" width="35px" height="35px">
                            </button>
                            <button title="Print" type="button" class="btn" data-dismiss="modal" *ngIf="selectInvoice"
                                    (click)="printInvoice(studentApply.age?studentApply.age:'0',studentApply.sex,selectInvoice,studentApply.paid_amount?studentApply.paid_amount:0,invoiceModel.sub_total?invoiceModel.sub_total:0,invoiceModel.entrance_fee?invoiceModel.entrance_fee:0,studentApply.pickup_cost?studentApply.pickup_cost:0,
                                studentApply.meal_cost?studentApply.meal_cost:0,studentApply.special_holiday_jpy?studentApply.special_holiday_jpy:0,invoiceModel.transfer_fee?invoiceModel.transfer_fee:0,studentApply.extension_fee_jpy?studentApply.extension_fee_jpy:0,studentApply.additional_lesson_fee?studentApply.additional_lesson_fee:0,
                                invoiceModel.remittance_fee?invoiceModel.remittance_fee:0,studentApply.special_cost?studentApply.special_cost:0,studentApply.beginner_cost?studentApply.beginner_cost:0,invoiceModel.discount?invoiceModel.discount:0,invoiceModel.commission?invoiceModel.commission:0,studentApply.country_code,studentApply.id_number?studentApply.id_number:0,
                                studentApply.student_name?studentApply.student_name:'',studentApply.passport_name?studentApply.passport_name:'',invoiceModel.checkin_date,invoiceModel.checkout_date,studentApply.course?studentApply.course:'',studentApply.dormitory_room_name?studentApply.dormitory_room_name.toUpperCase():'',studentApply.room_id1?studentApply.room_id1:0,
                                invoiceModel.term?invoiceModel.term:'',invoiceModel.invoice_number?invoiceModel.invoice_number:'',studentApply.accommodation_id1?studentApply.accommodation_id1:'0',invoiceDiscountList,studentApply.entrance_date?studentApply.entrance_date:'1900-01-01 00:00:00',studentApply.graduation_date?studentApply.graduation_date:'1900-01-01 00:00:00',studentApply.campus?studentApply.campus:'',
                                studentApply.options_meals,studentApply.options_pickup,studentApply.arrival_date?studentApply.arrival_date:'1900-01-01 00:00:00',studentApply.flight_no?studentApply.flight_no:'',studentApply.arrival_time?studentApply.arrival_time:'1900-01-01 00:00:00',studentApply.memo?studentApply.memo:'',studentApply.domi_info_campus?studentApply.domi_info_campus:'',
                                invoiceModel.due_date?invoiceModel.due_date:'1900-01-01 00:00:00',invoiceModel.commission_percentage?invoiceModel.commission_percentage:0,invoiceModel.ssp_fee_php?invoiceModel.ssp_fee_php:0,invoiceModel.id_card?invoiceModel.id_card:0,invoiceModel.electrical_fee_php?invoiceModel.electrical_fee_php:0, invoiceModel.i_card_cost?invoiceModel.i_card_cost:0,
                                invoiceModel.ecc?invoiceModel.ecc:0,invoiceModel.extention_fee_php?invoiceModel.extention_fee_php:0,invoiceModel.holiday_fee?invoiceModel.holiday_fee:0,reservedRoomsList,reservedHotelsList,studentApply.option_fee?studentApply.option_fee:0,invoiceModel.holidays?invoiceModel.holidays:'',courseList,
                                invoiceModel.commission_percentage?invoiceModel.commission_percentage:0,phRateInvoice,studentApply.agent_name?studentApply.agent_name:'',studentApply.isInvoiceConfirmed,invoiceModel.custom1_label?invoiceModel.custom1_label:'',invoiceModel.custom1_fee?invoiceModel.custom1_fee:0,reservedCondoRoomsList,
                                reservedHotelsRoomsList,reservedWalkinRoomsList,invoiceModel.commission_reason?invoiceModel.commission_reason:'',invoiceModel.approved_date?invoiceModel.approved_date:'1900-01-01 00:00:00')">
                                <img style="cursor:pointer" width="35px" height="35px" src="assets/img/Printer.svg"/>
                            </button>
                        </div>
                    </tab>
                    <tab heading='Add discount(s)' *ngIf="(user.role.id == 1 || user.role.id == 2) && studentApply.isInvoiceConfirmed == 1">
                        <table class="table table-bordered table-striped">
                            <tr>
                                <th>Student Information</th>
                                <td colspan="3" style="font-size:11pt; font-weight: bolder;">
                                    {{studentApply.passport_name?studentApply.passport_name:studentApply.student_name}}
                                    [{{studentApply.country_code}}] {{studentApply.sex===1?'(Male)':'(Female)'}}
                                </td>
                            </tr>
                        </table>
                        <select [(ngModel)]="selectDiscountBy" style="width: 100%;font-size: 11pt;font-weight: bolder" class="form-control">
                            <option [disabled]="true" [selected]="true">S E L E C T</option>
                            <option  [value]="1" [selected]="selectDiscountBy==1">Discount by Percentage(%)</option>
                            <option  [value]="0" [selected]="selectDiscountBy==0">Discount by Input</option>
                        </select>
                        <span id="discount-edit-module-by-percentage" *ngIf="selectDiscountBy == 1">
                            <table class="table table-bordered table-striped">
                                <tr style="font-family:Helvetica,Arial,serif;color:darkblue;">
                                    <td>
                                        <span style="font-size:11pt;">Registration</span>
                                        <input type="checkbox" [checked]="registerCheckDiscount"
                                               (change)="registerCheckDiscount = !registerCheckDiscount" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Tuition</span>
                                        <input type="checkbox" [checked]="tuitionCheckDiscount"
                                               (change)="tuitionCheckDiscount = !tuitionCheckDiscount" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Holiday</span>
                                        <input type="checkbox" [checked]="holidayCheckDiscount"
                                               (change)="holidayCheckDiscount = !holidayCheckDiscount" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Transfer</span>
                                        <input type="checkbox" [checked]="transferCheckDiscount"
                                               (change)="transferCheckDiscount = !transferCheckDiscount" />
                                    </td>
                                </tr>
                                <tr>
                                    <th>Percentage</th>
                                    <td>
                                        <select style="width: 100px;font-size: 11pt;font-weight: bolder"
                                                class="form-control"[(ngModel)]="percentageDiscount">
                                           <option *ngFor="let number of percentQuantity" value="{{number/100}}">{{number}}%</option>
                                    </select>
                                    </td>
                                    <th>Item(s) X<br> Discount(%) </th>
                                    <td style="font-size: 10pt;font-weight: bolder" *ngIf="percentageDiscount">
                                        <span *ngIf="registerCheckDiscount && !tuitionCheckDiscount && !holidayCheckDiscount && !transferCheckDiscount">
                                                {{invoiceModel.entrance_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (invoiceModel.entrance_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="registerCheckDiscount && tuitionCheckDiscount && !holidayCheckDiscount && !transferCheckDiscount">
                                                {{invoiceModel.sub_total + invoiceModel.entrance_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (invoiceModel.sub_total + invoiceModel.entrance_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="registerCheckDiscount && tuitionCheckDiscount && holidayCheckDiscount && !transferCheckDiscount">
                                                {{invoiceModel.sub_total + invoiceModel.entrance_fee + invoiceModel.holiday_fee}} X
                                                {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (invoiceModel.sub_total + invoiceModel.entrance_fee + invoiceModel.holiday_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="registerCheckDiscount && tuitionCheckDiscount && holidayCheckDiscount && transferCheckDiscount">
                                                {{invoiceModel.sub_total + invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee}} X
                                                {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (invoiceModel.sub_total + invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="tuitionCheckDiscount && !registerCheckDiscount && !holidayCheckDiscount && !transferCheckDiscount">
                                                {{invoiceModel.sub_total}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (invoiceModel.sub_total) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="holidayCheckDiscount && !tuitionCheckDiscount && !registerCheckDiscount && !transferCheckDiscount">
                                                {{invoiceModel.holiday_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (invoiceModel.holiday_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="holidayCheckDiscount && tuitionCheckDiscount && !registerCheckDiscount && !transferCheckDiscount">
                                                {{invoiceModel.holiday_fee + invoiceModel.sub_total}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (invoiceModel.holiday_fee + invoiceModel.sub_total) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="transferCheckDiscount && !registerCheckDiscount && !holidayCheckDiscount && !tuitionCheckDiscount">
                                                {{invoiceModel.transfer_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (invoiceModel.transfer_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="transferCheckDiscount && registerCheckDiscount && !holidayCheckDiscount && !tuitionCheckDiscount">
                                                {{invoiceModel.transfer_fee + invoiceModel.entrance_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (invoiceModel.transfer_fee + invoiceModel.entrance_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="transferCheckDiscount && registerCheckDiscount && holidayCheckDiscount && !tuitionCheckDiscount">
                                                {{invoiceModel.transfer_fee + invoiceModel.entrance_fee + invoiceModel.holiday_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (invoiceModel.transfer_fee + invoiceModel.entrance_fee + invoiceModel.holiday_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="registerCheckDiscount && holidayCheckDiscount && !tuitionCheckDiscount && !transferCheckDiscount">
                                                {{invoiceModel.entrance_fee + invoiceModel.holiday_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (invoiceModel.entrance_fee + invoiceModel.holiday_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="transferCheckDiscount && tuitionCheckDiscount && !registerCheckDiscount && !holidayCheckDiscount">
                                                {{invoiceModel.transfer_fee + invoiceModel.sub_total}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (invoiceModel.transfer_fee + invoiceModel.sub_total) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="holidayCheckDiscount && transferCheckDiscount && !registerCheckDiscount && !tuitionCheckDiscount">
                                                {{invoiceModel.holiday_fee + invoiceModel.transfer_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (invoiceModel.holiday_fee + invoiceModel.transfer_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="registerCheckDiscount && tuitionCheckDiscount && transferCheckDiscount && !holidayCheckDiscount">
                                                {{invoiceModel.entrance_fee + invoiceModel.sub_total + invoiceModel.transfer_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (invoiceModel.entrance_fee + invoiceModel.sub_total + invoiceModel.transfer_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="tuitionCheckDiscount && holidayCheckDiscount && transferCheckDiscount && !registerCheckDiscount">
                                                {{invoiceModel.sub_total + invoiceModel.holiday_fee + invoiceModel.transfer_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (invoiceModel.sub_total + invoiceModel.holiday_fee + invoiceModel.transfer_fee+ invoiceModel.transfer_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                    </td>
                                </tr>
                                <tr>
                                    <th>Reason <br> <span style="font-size:9pt;font-weight: bolder">e.g. JP promotion 10% off</span></th>
                                    <td colspan="3">
                                        <input required style="width: 100%;" placeholder="Reason on giving discount" [(ngModel)]="invoiceDiscountByPercentage.reason"/>
                                    </td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <span *ngIf="invoiceDiscountByPercentage.reason && percentageDiscount">
                                    <button *ngIf="percentageDiscount >= 0 && registerCheckDiscount && !tuitionCheckDiscount && !holidayCheckDiscount && !transferCheckDiscount" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveInvoiceDiscount(studentApply.id, percentageDiscount * (invoiceModel.entrance_fee),
                                invoiceDiscountByPercentage.reason,invoiceModel.invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && registerCheckDiscount && tuitionCheckDiscount && !holidayCheckDiscount && !transferCheckDiscount" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveInvoiceDiscount(studentApply.id, percentageDiscount * (invoiceModel.sub_total + invoiceModel.entrance_fee),
                                invoiceDiscountByPercentage.reason,invoiceModel.invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && registerCheckDiscount && tuitionCheckDiscount && holidayCheckDiscount && !transferCheckDiscount" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveInvoiceDiscount(studentApply.id, percentageDiscount * (invoiceModel.sub_total + invoiceModel.entrance_fee + invoiceModel.holiday_fee),
                                invoiceDiscountByPercentage.reason,invoiceModel.invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && registerCheckDiscount && tuitionCheckDiscount && holidayCheckDiscount && transferCheckDiscount" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveInvoiceDiscount(studentApply.id, percentageDiscount * (invoiceModel.sub_total + invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee),
                                invoiceDiscountByPercentage.reason,invoiceModel.invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && tuitionCheckDiscount && !registerCheckDiscount && !holidayCheckDiscount && !transferCheckDiscount" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveInvoiceDiscount(studentApply.id, percentageDiscount * (invoiceModel.sub_total),
                                invoiceDiscountByPercentage.reason,invoiceModel.invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && holidayCheckDiscount && !tuitionCheckDiscount && !registerCheckDiscount && !transferCheckDiscount" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveInvoiceDiscount(studentApply.id, percentageDiscount * (invoiceModel.holiday_fee),
                                invoiceDiscountByPercentage.reason,invoiceModel.invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && holidayCheckDiscount && tuitionCheckDiscount && !registerCheckDiscount && !transferCheckDiscount" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveInvoiceDiscount(studentApply.id, percentageDiscount * (invoiceModel.holiday_fee + invoiceModel.sub_total),
                                invoiceDiscountByPercentage.reason,invoiceModel.invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && transferCheckDiscount && !registerCheckDiscount && !holidayCheckDiscount && !tuitionCheckDiscount" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveInvoiceDiscount(studentApply.id, percentageDiscount * (invoiceModel.transfer_fee),
                                invoiceDiscountByPercentage.reason,invoiceModel.invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && transferCheckDiscount && registerCheckDiscount && !holidayCheckDiscount && !tuitionCheckDiscount" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveInvoiceDiscount(studentApply.id, percentageDiscount * (invoiceModel.transfer_fee + invoiceModel.entrance_fee),
                                invoiceDiscountByPercentage.reason,invoiceModel.invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && transferCheckDiscount && registerCheckDiscount && holidayCheckDiscount && !tuitionCheckDiscount" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveInvoiceDiscount(studentApply.id, percentageDiscount * (invoiceModel.transfer_fee + invoiceModel.entrance_fee + invoiceModel.holiday_fee),
                                invoiceDiscountByPercentage.reason,invoiceModel.invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && registerCheckDiscount && holidayCheckDiscount && !tuitionCheckDiscount && !transferCheckDiscount" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveInvoiceDiscount(studentApply.id, percentageDiscount * (invoiceModel.entrance_fee + invoiceModel.holiday_fee),
                                invoiceDiscountByPercentage.reason,invoiceModel.invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && transferCheckDiscount && tuitionCheckDiscount && !registerCheckDiscount && !holidayCheckDiscount" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveInvoiceDiscount(studentApply.id, percentageDiscount * (invoiceModel.transfer_fee + invoiceModel.sub_total),
                                invoiceDiscountByPercentage.reason,invoiceModel.invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && holidayCheckDiscount && transferCheckDiscount && !registerCheckDiscount && !tuitionCheckDiscount" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveInvoiceDiscount(studentApply.id, percentageDiscount * (invoiceModel.holiday_fee + invoiceModel.transfer_fee),
                                invoiceDiscountByPercentage.reason,invoiceModel.invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && registerCheckDiscount && tuitionCheckDiscount && transferCheckDiscount && !holidayCheckDiscount" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveInvoiceDiscount(studentApply.id, percentageDiscount * (invoiceModel.entrance_fee + invoiceModel.sub_total + invoiceModel.transfer_fee),
                                invoiceDiscountByPercentage.reason,invoiceModel.invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && tuitionCheckDiscount && holidayCheckDiscount && transferCheckDiscount && !registerCheckDiscount" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveInvoiceDiscount(studentApply.id, percentageDiscount * (invoiceModel.sub_total + invoiceModel.holiday_fee + invoiceModel.transfer_fee+ invoiceModel.transfer_fee),
                                invoiceDiscountByPercentage.reason,invoiceModel.invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                </span>
                            </div>
                        </span>
                        <span id="discount-edit-module-by-input" *ngIf="selectDiscountBy == 0">
                            <table class="table table-bordered table-striped">
                                <tr>
                                    <th>Enter discount</th>
                                    <td><input type="number" min="1" max="999" style="width: 90%;" placeholder="Discount" [(ngModel)]="invoiceDiscountByInput.discount"/></td>
                                    <th>To be discounted</th>
                                    <td style="font-size: 11pt;font-weight: bolder; color: red">{{invoiceDiscountByInput.discount}}</td>
                                </tr>
                                <tr>
                                    <th>Reason <br> <span style="font-size:9pt;font-weight: bolder">e.g. Registration coupon</span></th>
                                    <td colspan="3">
                                        <input style="width: 100%;" placeholder="Reason on giving discount" [(ngModel)]="invoiceDiscountByInput.reason"/>
                                    </td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <button class="btn" type="button btn-secondary" *ngIf="invoiceDiscountByInput.reason && invoiceDiscountByInput.discount"
                                        (click)="saveInvoiceDiscount(studentApply.id, invoiceDiscountByInput.discount,invoiceDiscountByInput.reason,invoiceModel.invoice_number)"
                                        [disabled]="processing">
                                    Add
                                </button>
                            </div>
                        </span>
                    </tab>
                    <tab heading='Discount(s) list' *ngIf="(user.role.id == 1 || user.role.id == 2) && studentApply.isInvoiceConfirmed == 1">
                        <table class="table table-bordered table-striped" id="discountListMenu"
                               style="height: calc( 70vh - 141px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:9pt;text-align: center">
                            <thead class="thead-inverse" style="font-size:12px;text-align: center">
                            <th style="text-align: center">Invoice number</th>
                            <th style="text-align: center">Discount</th>
                            <th style="text-align: center">Who discounted</th>
                            <th style="text-align: center">Reason</th>
                            <th style="text-align: center">Created at</th>
                            <th style="text-align: center">Action</th>
                            </thead>
                            <tbody>
                            <tr *ngFor="let g of invoiceDiscountList">
                                <td>{{g.student_invoice_no}}</td>
                                <td>{{g.discount}}</td>
                                <td style="width:100px;">{{g.who_discounted}}</td>
                                <td style="width:210px;">{{g.reason}}</td>
                                <td style="font-size:9pt;width:100px;">{{g.created_at}}</td>
                                <td style="width:60px;">
                                    <button style="cursor:pointer" type="button"
                                            (click)="removeInvoiceDiscount(g.apply_id,g.id,g.student_invoice_no, g.discount)" [disabled]="processing">
                                        <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading='Agent Commission' *ngIf="(user.role.id == 1 || user.role.id == 2) && studentApply.isInvoiceConfirmed == 1">
                        <table class="table table-bordered table-striped">
                            <tr>
                                <th>Student Information</th>
                                <td colspan="3" style="font-size:11pt; font-weight: bolder;">
                                    {{studentApply.passport_name?studentApply.passport_name:studentApply.student_name}}
                                    [{{studentApply.country_code}}] {{studentApply.sex===1?'(Male)':'(Female)'}} <br>

                                </td>
                            </tr>
                            <tr>
                                <th>Agent Information</th>
                                <td colspan="3" style="font-size:11pt; font-weight: bolder;">
                                    {{studentApply.agent_name}} {{studentApply.agent_email}}
                                </td>
                            </tr>
                        </table>
                        <select [(ngModel)]="selectCommissionBy" style="width: 100%;font-size: 11pt;font-weight: bolder" class="form-control">
                            <option [disabled]="true" [selected]="true">S E L E C T</option>
                            <option  [value]="1" [selected]="selectCommissionBy==1">Commission by Percentage(%)</option>
                            <option  [value]="0" [selected]="selectCommissionBy==0">Commission by Input</option>
                        </select>
                        <span id="commission-edit-module-by-percentage" *ngIf="selectCommissionBy == 1">
                            <table class="table table-bordered table-striped">
                                <tr *ngIf="selectInvoice == 2" style="font-family:Helvetica,Arial,serif;color:darkblue;">
                                    <td>
                                        <span style="font-size:11pt;">Registration</span>
                                        <input type="checkbox" [checked]="registerCheckCommision"
                                               (change)="registerCheckCommision = !registerCheckCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Tuition</span>
                                        <input type="checkbox" [checked]="tuitionCheckCommision"
                                               (change)="tuitionCheckCommision = !tuitionCheckCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Holiday</span>
                                        <input type="checkbox" [checked]="holidayCheckCommision"
                                               (change)="holidayCheckCommision = !holidayCheckCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Transfer</span>
                                        <input type="checkbox" [checked]="transferCheckCommision"
                                               (change)="transferCheckCommision = !transferCheckCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Discount</span>
                                        <input type="checkbox" [checked]="discountCheckCommision"
                                               (change)="discountCheckCommision = !discountCheckCommision" />
                                    </td>
                                </tr>
                                <tr>
                                    <th>Percentage</th>
                                    <td>
                                        <select style="width: 100px;font-size: 11pt;font-weight: bolder"
                                                class="form-control"[(ngModel)]="percentageCommission">
                                           <option *ngFor="let number of percentQuantity" value="{{number/100}}">{{number}}%</option>
                                    </select>
                                    </td>
                                    <th colspan="2">Item(s) X<br> Discount(%)</th>
                                    <td style="font-size: 10pt;font-weight: bolder" *ngIf="invoiceModel.sub_total && percentageCommission">
                                        <span *ngIf="selectInvoice == 0"> <!--JP Yen-->
                                            {{invoiceModel.sub_total}} X {{percentageCommission}} = <br>
                                            <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                {{percentageCommission * (invoiceModel.sub_total)}}
                                            </span>
                                        </span>
                                        <span *ngIf="selectInvoice == 1"> <!--International Yen-->
                                            {{invoiceModel.sub_total + invoiceModel.entrance_fee +
                                            studentApply.special_holiday_jpy + invoiceModel.transfer_fee + studentApply.extension_fee_jpy
                                            + studentApply.additional_lesson_fee + invoiceModel.remittance_fee + studentApply.special_cost  + studentApply.beginner_cost + studentApply.option_fee}} X {{percentageCommission}} = <br>
                                            <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                {{percentageCommission * (invoiceModel.sub_total + invoiceModel.entrance_fee +
                                            studentApply.special_holiday_jpy + invoiceModel.transfer_fee + studentApply.extension_fee_jpy
                                            + studentApply.additional_lesson_fee + invoiceModel.remittance_fee + studentApply.special_cost  + studentApply.beginner_cost + studentApply.option_fee)}}
                                            </span>
                                        </span>
                                        <span *ngIf="selectInvoice == 2"> <!--International USD-->
                                            <span *ngIf="registerCheckCommision && !tuitionCheckCommision && !holidayCheckCommision && !transferCheckCommision && discountCheckCommision">
                                                {{invoiceModel.entrance_fee - invoiceModel.discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.entrance_fee - invoiceModel.discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="registerCheckCommision && tuitionCheckCommision && !holidayCheckCommision && !transferCheckCommision && discountCheckCommision">
                                                {{invoiceModel.sub_total + invoiceModel.entrance_fee - invoiceModel.discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.sub_total + invoiceModel.entrance_fee - invoiceModel.discount) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="registerCheckCommision && tuitionCheckCommision && holidayCheckCommision && !transferCheckCommision && discountCheckCommision">
                                                {{invoiceModel.sub_total + invoiceModel.entrance_fee + invoiceModel.holiday_fee - invoiceModel.discount}} X
                                                {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.sub_total + invoiceModel.entrance_fee + invoiceModel.holiday_fee - invoiceModel.discount) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="registerCheckCommision && tuitionCheckCommision && holidayCheckCommision && transferCheckCommision && discountCheckCommision">
                                                {{invoiceModel.sub_total + invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee - invoiceModel.discount}} X
                                                {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.sub_total + invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee - invoiceModel.discount) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="tuitionCheckCommision && !registerCheckCommision && !holidayCheckCommision && !transferCheckCommision && discountCheckCommision">
                                                {{invoiceModel.sub_total - invoiceModel.discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.sub_total - invoiceModel.discount) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="holidayCheckCommision && !tuitionCheckCommision && !registerCheckCommision && !transferCheckCommision && discountCheckCommision">
                                                {{invoiceModel.holiday_fee - invoiceModel.discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.holiday_fee - invoiceModel.discount) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="holidayCheckCommision && tuitionCheckCommision && !registerCheckCommision && !transferCheckCommision && discountCheckCommision">
                                                {{invoiceModel.holiday_fee + invoiceModel.sub_total - invoiceModel.discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.holiday_fee + invoiceModel.sub_total - invoiceModel.discount) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="transferCheckCommision && !registerCheckCommision && !holidayCheckCommision && !tuitionCheckCommision && discountCheckCommision">
                                                {{invoiceModel.transfer_fee - invoiceModel.discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.transfer_fee - invoiceModel.discount) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="transferCheckCommision && registerCheckCommision && !holidayCheckCommision && !tuitionCheckCommision && discountCheckCommision">
                                                {{invoiceModel.transfer_fee + invoiceModel.entrance_fee - invoiceModel.discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.transfer_fee + invoiceModel.entrance_fee - invoiceModel.discount) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="transferCheckCommision && registerCheckCommision && holidayCheckCommision && !tuitionCheckCommision && discountCheckCommision">
                                                {{invoiceModel.transfer_fee + invoiceModel.entrance_fee + invoiceModel.holiday_fee - invoiceModel.discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.transfer_fee + invoiceModel.entrance_fee + invoiceModel.holiday_fee - invoiceModel.discount) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="registerCheckCommision && holidayCheckCommision && !tuitionCheckCommision && !transferCheckCommision && discountCheckCommision">
                                                {{invoiceModel.entrance_fee + invoiceModel.holiday_fee - invoiceModel.discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.entrance_fee + invoiceModel.holiday_fee - invoiceModel.discount) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="transferCheckCommision && tuitionCheckCommision && !registerCheckCommision && !holidayCheckCommision && discountCheckCommision">
                                                {{invoiceModel.transfer_fee + invoiceModel.sub_total - invoiceModel.discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.transfer_fee + invoiceModel.sub_total - invoiceModel.discount) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="holidayCheckCommision && transferCheckCommision && !registerCheckCommision && !tuitionCheckCommision && discountCheckCommision">
                                                {{invoiceModel.holiday_fee + invoiceModel.transfer_fee - invoiceModel.discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.holiday_fee + invoiceModel.transfer_fee - invoiceModel.discount) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="registerCheckCommision && tuitionCheckCommision && transferCheckCommision && !holidayCheckCommision && discountCheckCommision">
                                                {{invoiceModel.entrance_fee + invoiceModel.sub_total + invoiceModel.transfer_fee - invoiceModel.discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.entrance_fee + invoiceModel.sub_total + invoiceModel.transfer_fee - invoiceModel.discount) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="tuitionCheckCommision && holidayCheckCommision && transferCheckCommision && !registerCheckCommision && discountCheckCommision">
                                                {{invoiceModel.sub_total + invoiceModel.holiday_fee + invoiceModel.transfer_fee - invoiceModel.discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.sub_total + invoiceModel.holiday_fee + invoiceModel.transfer_fee - invoiceModel.discount) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="discountCheckCommision && !registerCheckCommision && !tuitionCheckCommision && !holidayCheckCommision && !transferCheckCommision">
                                                {{invoiceModel.discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckCommision && registerCheckCommision && tuitionCheckCommision && holidayCheckCommision && transferCheckCommision">
                                                {{invoiceModel.entrance_fee + invoiceModel.sub_total + invoiceModel.holiday_fee + invoiceModel.transfer_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.entrance_fee + invoiceModel.sub_total + invoiceModel.holiday_fee + invoiceModel.transfer_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckCommision && registerCheckCommision && !tuitionCheckCommision && !holidayCheckCommision && !transferCheckCommision">
                                                {{invoiceModel.entrance_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.entrance_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckCommision && !registerCheckCommision && tuitionCheckCommision && !holidayCheckCommision && !transferCheckCommision">
                                                {{invoiceModel.sub_total}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.sub_total) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckCommision && !registerCheckCommision && !tuitionCheckCommision && holidayCheckCommision && !transferCheckCommision">
                                                {{invoiceModel.holiday_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckCommision && !registerCheckCommision && !tuitionCheckCommision && !holidayCheckCommision && transferCheckCommision">
                                                {{invoiceModel.transfer_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.transfer_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckCommision && !registerCheckCommision && tuitionCheckCommision && holidayCheckCommision && transferCheckCommision">
                                                {{invoiceModel.sub_total + invoiceModel.holiday_fee + invoiceModel.transfer_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.sub_total + invoiceModel.holiday_fee + invoiceModel.transfer_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckCommision && registerCheckCommision && !tuitionCheckCommision && holidayCheckCommision && transferCheckCommision">
                                                {{invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckCommision && registerCheckCommision && tuitionCheckCommision && !holidayCheckCommision && transferCheckCommision">
                                                {{invoiceModel.entrance_fee + invoiceModel.sub_total + invoiceModel.transfer_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.entrance_fee + invoiceModel.sub_total + invoiceModel.transfer_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckCommision && registerCheckCommision && tuitionCheckCommision && holidayCheckCommision && !transferCheckCommision">
                                                {{invoiceModel.entrance_fee + invoiceModel.sub_total + invoiceModel.holiday_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.entrance_fee + invoiceModel.sub_total + invoiceModel.holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckCommision && !registerCheckCommision && !tuitionCheckCommision && holidayCheckCommision && transferCheckCommision">
                                                {{invoiceModel.holiday_fee + invoiceModel.transfer_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.holiday_fee + invoiceModel.transfer_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckCommision && !registerCheckCommision && tuitionCheckCommision && !holidayCheckCommision && transferCheckCommision">
                                                {{invoiceModel.sub_total + invoiceModel.transfer_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.sub_total + invoiceModel.transfer_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckCommision && !registerCheckCommision && tuitionCheckCommision && holidayCheckCommision && !transferCheckCommision">
                                                {{invoiceModel.sub_total + invoiceModel.holiday_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.sub_total + invoiceModel.holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckCommision && registerCheckCommision && !tuitionCheckCommision && holidayCheckCommision && !transferCheckCommision">
                                                {{invoiceModel.entrance_fee + invoiceModel.holiday_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.entrance_fee + invoiceModel.holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckCommision && registerCheckCommision && !tuitionCheckCommision && !holidayCheckCommision && transferCheckCommision">
                                                {{invoiceModel.entrance_fee + invoiceModel.transfer_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.entrance_fee + invoiceModel.transfer_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckCommision && registerCheckCommision && tuitionCheckCommision && !holidayCheckCommision && !transferCheckCommision">
                                                {{invoiceModel.entrance_fee + invoiceModel.sub_total}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (invoiceModel.entrance_fee + invoiceModel.sub_total) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                        </span>
                                    </td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <span *ngIf="selectInvoice == 0"> <!--JP Yen-->
                                    <button class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id,percentageCommission * (invoiceModel.sub_total))"
                                            [disabled]="processing" *ngIf="percentageCommission >= 0">
                                        Save
                                    </button>
                                </span>
                                <span *ngIf="selectInvoice == 1">
                                    <button class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id,percentageCommission * (invoiceModel.sub_total + invoiceModel.entrance_fee +
                                            studentApply.special_holiday_jpy + invoiceModel.transfer_fee + studentApply.extension_fee_jpy
                                            + studentApply.additional_lesson_fee + invoiceModel.remittance_fee + studentApply.special_cost  + studentApply.beginner_cost + studentApply.option_fee))"
                                            [disabled]="processing" *ngIf="percentageCommission >= 0">
                                        Save
                                    </button>
                                </span>
                                <span *ngIf="selectInvoice == 2"><!--International USD-->
                                    <button *ngIf="percentageCommission >= 0 && registerCheckCommision && !tuitionCheckCommision && !holidayCheckCommision && !transferCheckCommision && discountCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.entrance_fee - invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && registerCheckCommision && tuitionCheckCommision && !holidayCheckCommision && !transferCheckCommision && discountCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.sub_total + invoiceModel.entrance_fee - invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && registerCheckCommision && tuitionCheckCommision && holidayCheckCommision && !transferCheckCommision && discountCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.sub_total + invoiceModel.entrance_fee + invoiceModel.holiday_fee - invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && registerCheckCommision && tuitionCheckCommision && holidayCheckCommision && transferCheckCommision && discountCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.sub_total + invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee - invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && tuitionCheckCommision && !registerCheckCommision && !holidayCheckCommision && !transferCheckCommision && discountCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.sub_total - invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && holidayCheckCommision && !tuitionCheckCommision && !registerCheckCommision && !transferCheckCommision && discountCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.holiday_fee - invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && holidayCheckCommision && tuitionCheckCommision && !registerCheckCommision && !transferCheckCommision && discountCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.holiday_fee + invoiceModel.sub_total - invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && transferCheckCommision && !registerCheckCommision && !holidayCheckCommision && !tuitionCheckCommision && discountCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.transfer_fee - invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && transferCheckCommision && registerCheckCommision && !holidayCheckCommision && !tuitionCheckCommision && discountCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.transfer_fee + invoiceModel.entrance_fee - invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && transferCheckCommision && registerCheckCommision && holidayCheckCommision && !tuitionCheckCommision && discountCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.transfer_fee + invoiceModel.entrance_fee + invoiceModel.holiday_fee - invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && registerCheckCommision && holidayCheckCommision && !tuitionCheckCommision && !transferCheckCommision && discountCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.entrance_fee + invoiceModel.holiday_fee - invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && transferCheckCommision && tuitionCheckCommision && !registerCheckCommision && !holidayCheckCommision && discountCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.transfer_fee + invoiceModel.sub_total - invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && holidayCheckCommision && transferCheckCommision && !registerCheckCommision && !tuitionCheckCommision && discountCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.holiday_fee + invoiceModel.transfer_fee - invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && registerCheckCommision && tuitionCheckCommision && transferCheckCommision && !holidayCheckCommision && discountCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.entrance_fee + invoiceModel.sub_total + invoiceModel.transfer_fee - invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && tuitionCheckCommision && holidayCheckCommision && transferCheckCommision && !registerCheckCommision && discountCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.sub_total + invoiceModel.holiday_fee + invoiceModel.transfer_fee - invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && discountCheckCommision && !registerCheckCommision && !tuitionCheckCommision && !holidayCheckCommision && !transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckCommision && registerCheckCommision && tuitionCheckCommision && holidayCheckCommision && transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.entrance_fee + invoiceModel.sub_total + invoiceModel.holiday_fee + invoiceModel.transfer_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckCommision && registerCheckCommision && !tuitionCheckCommision && !holidayCheckCommision && !transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.entrance_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckCommision && !registerCheckCommision && tuitionCheckCommision && !holidayCheckCommision && !transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.sub_total))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckCommision && !registerCheckCommision && !tuitionCheckCommision && holidayCheckCommision && !transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.holiday_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckCommision && !registerCheckCommision && !tuitionCheckCommision && !holidayCheckCommision && transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.transfer_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckCommision && !registerCheckCommision && tuitionCheckCommision && holidayCheckCommision && transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.sub_total + invoiceModel.holiday_fee + invoiceModel.transfer_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckCommision && registerCheckCommision && !tuitionCheckCommision && holidayCheckCommision && transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckCommision && registerCheckCommision && tuitionCheckCommision && !holidayCheckCommision && transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.entrance_fee + invoiceModel.sub_total + invoiceModel.transfer_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckCommision && registerCheckCommision && tuitionCheckCommision && holidayCheckCommision && !transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.entrance_fee + invoiceModel.sub_total + invoiceModel.holiday_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckCommision && !registerCheckCommision && !tuitionCheckCommision && holidayCheckCommision && transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.holiday_fee + invoiceModel.transfer_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckCommision && !registerCheckCommision && tuitionCheckCommision && !holidayCheckCommision && transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.sub_total + invoiceModel.transfer_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckCommision && !registerCheckCommision && tuitionCheckCommision && holidayCheckCommision && !transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.sub_total + invoiceModel.holiday_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckCommision && registerCheckCommision && !tuitionCheckCommision && holidayCheckCommision && !transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.entrance_fee + invoiceModel.holiday_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckCommision && registerCheckCommision && !tuitionCheckCommision && !holidayCheckCommision && transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.entrance_fee + invoiceModel.transfer_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckCommision && registerCheckCommision && tuitionCheckCommision && !holidayCheckCommision && !transferCheckCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id, percentageCommission * (invoiceModel.entrance_fee + invoiceModel.sub_total))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                </span>
                            </div>
                        </span>
                        <span id="commission-edit-module-by-input" *ngIf="selectCommissionBy == 0">
                            <table class="table table-bordered table-striped">
                                <tr>
                                    <th>Enter commission<br>
                                    <span style="font-size:9pt;font-weight: bolder">e.g. 0, 100, 255</span></th>
                                    <td><input type="number" min="1" max="999" style="width: 90%;" placeholder="Commission" [(ngModel)]="invoiceModel.commission"/></td>
                                    <th>Agent commission</th>
                                    <td style="font-size: 11pt;font-weight: bolder; color: red">{{invoiceModel.commission}}</td>
                                </tr>
                                <tr>
                                    <th>Reason <br> <span style="font-size:9pt;font-weight: bolder">e.g. Long weeks</span></th>
                                    <td colspan="3">
                                        <input required style="width: 100%;" placeholder="Reason on giving commission" [(ngModel)]="invoiceModel.commission_reason"/>
                                    </td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <button class="btn" type="button btn-secondary" style="cursor:pointer"
                                        (click)="saveCommission(studentApply.id,invoiceModel.commission)"
                                        [disabled]="processing" *ngIf="invoiceModel.commission >= 0">
                                    Save
                                </button>
                            </div>
                        </span>
                    </tab>
                </tabset>
            </div>
        </div>
    </div>
</div>
<!-- Print Invoice modal start-->

<!-- Check Available Room start-->
<div bsModal #roomAvailableModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="roomAvailableModal" aria-labelledby="roomAvailableModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 1000px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <table align="center" class="table table-bordered" style="width:58%; margin-bottom:0">
                    <tbody style="text-align: center">
                    <tr align="center">
                        <td colspan="8"  style="border-bottom: thin solid black;border-top: thin solid black;
                            border-right: thin solid black;border-left: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                Available Number of Rooms
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="roomAvailableModal.hide()" >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr>
                        <th>Date from</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input" [(ngModel)]="saveDataLoadEvent.checkRoomFrom" placeholder="Check-In" ngx-mydatepicker name="mydate" #checkRoomFromFilter="ngx-mydatepicker" (click)="checkRoomFromFilter.toggleCalendar()" [options]="myDatePickerOptionsEnabledWeekends" readonly />
                            </div>
                        </td>
                        <th>Campus</th>
                        <td>
                            <div style="float:left">
                               <span *ngIf="campusCodes">
                                   <span class="form-group">
                                       <select style="width: 80px;" class="form-control" name="campcodes" [(ngModel)]="checkRoomCampus" required>
                                           <option *ngFor="let camp of campusCodes" [ngValue]="camp.id"> {{camp.value}} </option>
                                       </select>
                                   </span>
                               </span>
                            </div>
                        </td>
                        <th>Stay type</th>
                        <td>
                            <div style="float:left">
                                <span class="form-group">
                                    <select style="width: 100px;" class="form-control" name="campcodes" [(ngModel)]="checkStayType" required>
                                        <option value=1>Dorm</option>
                                        <option value=2>Condo</option>
                                        <option value=3>Hotel</option>
                                        <option value=4>Walkin</option>
                                    </select>
                                </span>
                            </div>
                        </td>
                        <td>
                            <img  style="cursor:pointer;" (click)="loadAvailableRooms()" title="Find" hspace="3" width="40px" src="./assets/img/Search_system.svg"/>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-body">
                <div *ngIf="availRoomWeek">
                    <table class="table table-bordered table-striped"  *ngFor="let o of availRoomWeek.roomWeekList">
                        <tbody style="text-align: center">
                        <!-- to be continued -->
                        <tr >
                            <th>Room types</th>
                            <td style="font-weight: bolder;" *ngFor="let week of o.weekday">
                                {{week | date: 'MM/dd'}}
                            </td>
                        </tr>
                        <tr *ngFor="let roomTypeKey of availRoomWeek.roomTypeKeyList">
                            <td align="left">
                                <span *ngIf="availRoomWeek.roomTypeList[roomTypeKey].accommodationId == 5 ||
                                        availRoomWeek.roomTypeList[roomTypeKey].accommodationId == 6">
                                    {{availRoomWeek.roomTypeList[roomTypeKey].accommodation_en}}
                                </span>
                                <span *ngIf="availRoomWeek.roomTypeList[roomTypeKey].accommodationId != 5 &&
                                        availRoomWeek.roomTypeList[roomTypeKey].accommodationId != 6">
                                    [{{availRoomWeek.roomTypeList[roomTypeKey].gender===1?'M':'F'}}]
                                    {{availRoomWeek.roomTypeList[roomTypeKey].accommodation_en}}
                                </span>
                                {{availRoomWeek.roomTypeList[roomTypeKey].room_type_en | uppercase}}
                            </td>
                            <td *ngFor="let content of o.weekcontent">{{content.roomList[roomTypeKey].total}}</td>
                        </tr>
                        </tbody>
                    </table>
                    <table class="table table-bordered table-striped"  *ngFor="let o of availRoomWeek.condoWeekList">
                        <tbody style="text-align: center">
                        <!-- to be continued -->
                        <tr >
                            <th>Room types</th>
                            <td style="font-weight: bolder;" *ngFor="let week of o.weekday">
                                {{week | date: 'MM/dd'}}
                            </td>
                        </tr>
                        <tr *ngFor="let roomTypeKey of availRoomWeek.condoKeyList">
                            <td align="left">
                                {{availRoomWeek.condoList[roomTypeKey].accommodation_en}}
                                {{availRoomWeek.condoList[roomTypeKey].room_type_en | uppercase}}
                            </td>
                            <td *ngFor="let content of o.weekcontent">{{content.roomList[roomTypeKey].total}}</td>
                        </tr>
                        </tbody>
                    </table>
                    <table class="table table-bordered table-striped"  *ngFor="let o of availRoomWeek.hotelWeekList">
                        <tbody style="text-align: center">
                        <!-- to be continued -->
                        <tr >
                            <th>Room types</th>
                            <td style="font-weight: bolder;" *ngFor="let week of o.weekday">
                                {{week | date: 'MM/dd'}}
                            </td>
                        </tr>
                        <tr *ngFor="let roomTypeKey of availRoomWeek.hotelKeyList">
                            <td align="left">
                                {{availRoomWeek.hotelList[roomTypeKey].accommodation_en}}
                            </td>
                            <td *ngFor="let content of o.weekcontent">{{content.roomList[roomTypeKey].total}}</td>
                        </tr>
                        </tbody>
                    </table>
                    <table class="table table-bordered table-striped"  *ngFor="let o of availRoomWeek.walkinWeekList">
                        <tbody style="text-align: center">
                        <!-- to be continued -->
                        <tr >
                            <th>Room types</th>
                            <td style="font-weight: bolder;" *ngFor="let week of o.weekday">
                                {{week | date: 'MM/dd'}}
                            </td>
                        </tr>
                        <tr *ngFor="let roomTypeKey of availRoomWeek.walkinKeyList">
                            <td align="left">
                                {{availRoomWeek.walkinList[roomTypeKey].accommodation_en}}
                            </td>
                            <td *ngFor="let content of o.weekcontent">{{content.roomList[roomTypeKey].total}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Check Available Room end-->

<!-- Number of Weeks Report start-->
<div bsModal #weeksCountModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="weeksCountModal" aria-labelledby="weeksCountModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 1000px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <table align="center" class="table table-bordered" style="width:40%; margin-bottom:0">
                    <tbody style="text-align: center">
                    <tr align="center">
                        <td colspan="8"  style="border-bottom: thin solid black;border-top: thin solid black;
                            border-right: thin solid black;border-left: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                Monthly Report of Student Terms
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="weeksCountModal.hide()" >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr align="center">
                        <td>YEAR FROM</td>
                        <td>
                            <span *ngIf="listOfYears">
                                <span class="form-group">
                                    <select style="width: 120px;" (change)="onChangeSelectYear($event)" class="form-control" name="yearsdisplay" [(ngModel)]="selectYear" required>
                                        <option *ngFor="let year of listOfYears" [ngValue]="year"> {{year}} </option>
                                    </select>
                                </span>
                            </span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-body">
                <div *ngIf="numberOfTermsPerMOnthPerNation">
                    <table class="table table-bordered table-striped" *ngFor="let o of numberOfTermsPerMOnthPerNation">
                        <tbody style="text-align: center">
                        <tr>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">NATION</td>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;color:red" *ngFor="let mon of o.month">
                                {{mon | date: 'MMM'  | uppercase}}
                            </td>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;color:red">TOTAL</td>
                        </tr>
                        <tr>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">JP DIRECT</td>
                            <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.monthcontent">{{content.jpdirect}}</td>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">{{o._jpdirect}}</td>
                        </tr>
                        <tr>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">JP AGENT</td>
                            <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.monthcontent">{{content.jpagent}}</td>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">{{o._jpagent}}</td>
                        </tr>
                        <tr>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">TW</td>
                            <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.monthcontent">{{content.tw}}</td>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">{{o._tw}}</td>
                        </tr>
                        <tr>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">CN</td>
                            <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.monthcontent">{{content.cn}}</td>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">{{o._cn}}</td>
                        </tr>
                        <tr>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">KR</td>
                            <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.monthcontent">{{content.kr}}</td>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">{{o._kr}}</td>
                        </tr>
                        <tr>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">ARAB</td>
                            <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.monthcontent">{{content.arab}}</td>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">{{o._arab}}</td>
                        </tr>
                        <tr>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">VN</td>
                            <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.monthcontent">{{content.vn}}</td>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">{{o._vn}}</td>
                        </tr>
                        <tr>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">MN</td>
                            <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.monthcontent">{{content.mn}}</td>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">{{o._mn}}</td>
                        </tr>
                        <tr>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">TH</td>
                            <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.monthcontent">{{content.th}}</td>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">{{o._th}}</td>
                        </tr>
                        <tr>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">RU</td>
                            <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.monthcontent">{{content.ru}}</td>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">{{o._ru}}</td>
                        </tr>
                        <tr>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">OTHERS</td>
                            <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.monthcontent">{{content.others}}</td>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">{{o._others}}</td>
                        </tr>
                        <tr>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">TOTAL</td>
                            <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.monthcontent">{{content.total}}</td>
                            <td style="padding:2px 2px 2px 2px;font-weight:bolder;">{{o._total}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Number of Weeks Report end-->

<!-- Get Students Per Week start-->
<div bsModal #studentsCountModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="studentsCountModal" aria-labelledby="studentsCountModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 1250px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <table align="center" class="table table-bordered" style="width:33%; margin-bottom:0">
                    <tbody style="text-align: center">
                    <tr align="center">
                        <td colspan="8"  style="border-bottom: thin solid black;border-top: thin solid black;
                            border-right: thin solid black;border-left: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                Get Students Per Week
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="studentsCountModal.hide()" >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr>
                        <th>Date from</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input" [(ngModel)]="saveDataLoadEvent.checkRoomFromStudents" placeholder="Check-In" ngx-mydatepicker name="mydate" #checkRoomFromStudentsFilter="ngx-mydatepicker" (click)="checkRoomFromStudentsFilter.toggleCalendar()" [options]="myDatePickerOptionsEnabledWeekends" readonly />
                            </div>
                        </td>
                        <td>
                            <img  style="cursor:pointer;" (click)="loadNumberOfStudentsPerWeeks()" title="Find" hspace="3" width="40px" src="./assets/img/Search_system.svg"/>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-body">
                <div *ngIf="numberOfStudentsPerWeeksByCampus">
                    <table class="table table-bordered table-striped"  *ngFor="let o of numberOfStudentsPerWeeksByCampus">
                        <tbody style="text-align: center">
                        <tr>
                            <td style="font-weight:bolder;">Campus</td>
                            <th style="color:red" *ngFor="let week of o.weekday">
                                {{week | date: 'MM/dd'}}
                            </th>
                        </tr>
                        <tr>
                            <td style="font-weight:bolder;">ITP</td>
                            <td *ngFor="let content of o.weekcontent">{{content.itp}}</td>
                        </tr>
                        <tr>
                            <td style="font-weight:bolder;">SFC</td>
                            <td *ngFor="let content of o.weekcontent">{{content.sfc}}</td>
                        </tr>
                        <tr>
                            <td style="font-weight:bolder;">TOTAL</td>
                            <td *ngFor="let content of o.weekcontent">{{content.total}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Get Students Per Week end-->


<!-- Check Empty Beds start -->
<div bsModal #emptyBedsModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="emptyBedsModal" aria-labelledby="emptyBedsModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 1000px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <table align="center" class="table table-bordered" style="width:58%; margin-bottom:0">
                    <tbody style="text-align: center">
                    <tr align="center">
                        <td colspan="9"  style="border-bottom: thin solid black;border-top: thin solid black;
                            border-right: thin solid black;border-left: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                Total Empty Beds
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="emptyBedsModal.hide()" >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr>
                        <th>From</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input" [(ngModel)]="saveDataLoadEvent.checkEmptyBedFrom" placeholder="Check-In" ngx-mydatepicker name="mydate" #checkEmptyBedFromFilter="ngx-mydatepicker" (click)="checkEmptyBedFromFilter.toggleCalendar()" [options]="myDatePickerOptionsEnabledWeekends" readonly />
                            </div>
                        </td>
                        <th>To</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input" [(ngModel)]="saveDataLoadEvent.checkEmptyBedTo" placeholder="Check-In" ngx-mydatepicker name="mydate" #checkEmptyBedToFilter="ngx-mydatepicker" (click)="checkEmptyBedToFilter.toggleCalendar()" [options]="myDatePickerOptionsEnabledWeekendsSatOnly" readonly />
                            </div>
                        </td>
                        <th>Campus</th>
                        <td>
                            <div style="float:left">
                               <span *ngIf="campusCodes">
                                   <span class="form-group">
                                       <select style="width: 80px;" (change)="onChangeSelectEmptyBedCampus($event)" class="form-control" name="campcodes" [(ngModel)]="checkEmptyBedCampus" required>
                                           <option *ngFor="let camp of campusCodes" [ngValue]="camp.id"> {{camp.value}} </option>
                                       </select>
                                   </span>
                               </span>
                            </div>
                        </td>
                        <th>Stay</th>
                        <td>
                            <div style="float:left">
                                <span class="form-group">
                                    <select style="width: 100px;" (change)="onChangeSelectEmptyBedStay($event)" class="form-control" name="campcodes" [(ngModel)]="checkEmptyBedStayType" required>
                                        <option value=1>Dorm</option>
                                        <option *ngIf="checkEmptyBedCampus == '1'" value=2>Condo</option>
                                        <!--<option *ngIf="checkEmptyBedCampus == '1'" value=3>Hotel</option>-->
                                        <option *ngIf="checkEmptyBedCampus == '1'" value=4>Walkin</option>
                                    </select>
                                </span>
                            </div>
                        </td>
                        <td>
                            <img  style="cursor:pointer;" *ngIf="checkEmptyBedCampus && checkEmptyBedStayType" (click)="loadEmptyBeds()" title="Find" hspace="3" width="40px" src="./assets/img/Search_system.svg"/>
                            <img  style="cursor:not-allowed;" *ngIf="!checkEmptyBedStayType"  title="Find" hspace="3" width="40px" src="./assets/img/Search_system.svg"/>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-body">
                <div *ngIf="emptyBedsWeek">
                    <table class="table table-bordered table-striped">
                        <tbody style="text-align: center">
                        <tr>
                            <td *ngFor="let head of emptyBedsWeek.headers">{{head}}</td>
                        </tr>
                        <tr>
                            <td *ngFor="let content of emptyBedsWeek.contents">{{content}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Check Empty Beds end-->

<!-- Graduating list start-->
<div bsModal #listGraduatingModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="listGraduatingModal" aria-labelledby="listGraduatingModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 1000px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <table align="center" class="table table-bordered" style="width:70%; margin-bottom:0">
                    <tbody style="text-align: center">
                    <tr align="center">
                        <td colspan="6" style="border-bottom: thin solid black;border-top: thin solid black;
                            border-right: thin solid black;border-left: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                Graduating List
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="listGraduatingModal.hide()" >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr>
                        <th>Graduate date from</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input" [(ngModel)]="saveDataLoadEvent.gradFrom"
                                       placeholder="Graduate from" ngx-mydatepicker name="mydate"
                                       #gradFromFilter="ngx-mydatepicker" (click)="gradFromFilter.toggleCalendar()"
                                       [options]="myDatePickerOptionsDisabledWeekends" readonly />
                            </div>
                        </td>
                        <th>Campus</th>
                        <td>
                            <div style="float:left">
                               <span *ngIf="campusCodes">
                                   <span class="form-group">
                                       <select style="width: 100px;" class="form-control" name="campcodes" [(ngModel)]="gradRoomCampus" required>
                                           <option [ngValue]="3" [selected]="true">**ALL</option>
                                           <option *ngFor="let camp of campusCodes" [ngValue]="camp.id"> {{camp.value}} </option>
                                       </select>
                                   </span>
                               </span>
                            </div>
                        </td>
                        <td>
                            <img  style="cursor:pointer;" (click)="loadGraduatingList()" title="Find" hspace="3" width="40px" src="./assets/img/Search_system.svg"/>
                        </td>
                        <td>
                            <img  style="cursor:pointer;" (click)="printGraduateList()"
                                  title="Print" hspace="3" width="40px" src="./assets/img/Printer.svg"/>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <span style="color:red;font-size:9pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                *List displayed is a complete ONE <u>(1)</u> week from Graduation date from chosen.
            </span>
            <div class="modal-body">
                <div *ngIf="listGradStud">
                    <table class="table table-bordered table-striped" style="width:100%; margin-bottom:0;font-size: 10pt;
                        height: calc( 90vh - 141px );overflow-y: auto; display: block;overflow-x: auto;">
                        <tbody style="text-align: center">
                        <tr style="background-color: yellow;font-size: 10pt;color: black;">
                            <th style="text-align:center;">#</th>
                            <th style="text-align:center;">Student Name</th>
                            <th style="text-align:center;">Gender</th>
                            <th style="text-align:center;">Country</th>
                            <th style="text-align:center;">Course</th>
                            <th style="text-align:center;">Campus</th>
                            <th style="text-align:center;">Status</th>
                            <th style="text-align:center;">Graduation</th>
                            <th style="text-align:center;">Room</th>
                        </tr>
                        <tr *ngFor="let o of listGradStud; let i = index">
                            <td>{{ i + 1 }}.</td>
                            <td style="font-weight:bolder;width:200px;">
                                {{o.passport_name?o.passport_name:o.student_name}}
                            </td>
                            <td style="font-weight: bolder;width:20px;">{{o.sex==1?'M':'F'}}</td>
                            <td style="font-weight: bolder;width:100px;">{{o.country_code}}</td>
                            <td style="font-weight: bolder;width:200px;">{{o.course}}</td>
                            <td style="font-weight: bolder;width:100px;">{{o.campus}}</td>
                            <td (click)="editApply(o.id)" style="font-weight: bolder;width:100px;cursor:pointer;">
                                <span *ngIf="o.student_status == '2'" class="badge badge-warning">RESERVED</span>
                                <span *ngIf="o.student_status == '5'" class="badge badge-info">PRESENT</span>
                            </td>
                            <td style="font-size: 9pt;font-weight: bolder;width:100px;">
                                {{o.graduation_date | date: 'EEEE'}}<br>
                                {{o.graduation_date | date: 'yyyy-MM-dd'}}
                            </td>
                            <td style="color:green;cursor:pointer;" (click)="editRoomApply(o.id)">
                                <strong>{{o.dormitory_room_name}}</strong>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Graduating list end-->

<!-- Room Change list start-->
<div bsModal #listRoomChangeModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="listRoomChangeModal" aria-labelledby="listRoomChangeModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 1000px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <table align="center" class="table table-bordered" style="width:73%; margin-bottom:0">
                    <tbody style="text-align: center">
                    <tr align="center">
                        <td colspan="9" style="border-bottom: thin solid black;border-top: thin solid black;
                            border-right: thin solid black;border-left: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                Dormitory & Hotel Change List
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="listRoomChangeModal.hide()" >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr>
                        <th>FROM</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input"
                                       [(ngModel)]="saveDataLoadEvent.changeRoomFrom" placeholder="Change from"
                                       ngx-mydatepicker name="mydate" #changeRoomFromFilter="ngx-mydatepicker"
                                       (click)="changeRoomFromFilter.toggleCalendar()"
                                       [options]="myDatePickerOptions" readonly />
                            </div>
                        </td>
                        <th>TO</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input"
                                       [(ngModel)]="saveDataLoadEvent.changeRoomTo" placeholder="Change to"
                                       ngx-mydatepicker name="mydate" #changeRoomToFilter="ngx-mydatepicker"
                                       (click)="changeRoomToFilter.toggleCalendar()"
                                       [options]="myDatePickerOptions" readonly />
                            </div>
                        </td>
                        <th>Campus</th>
                        <td>
                            <select style="width: 115px;font-size:10pt;" class="form-control" [(ngModel)]="selectCampus">
                                <option [ngValue]=1>IT Park</option>
                                <option [ngValue]=2>Sea Front</option>
                            </select>
                        </td>
                        <td>
                            <img  style="cursor:pointer;" (click)="loadChangeRoomList()" title="Find" hspace="3" width="40px" src="./assets/img/Search_system.svg"/>
                        </td>
                        <td>
                            <select style="width: 107px;font-size:8pt;" class="form-control" [(ngModel)]="selectPrint">
                                <option [ngValue]=1>All</option>
                                <option [ngValue]=2>Dormitory</option>
                                <option [ngValue]=3>Hotel</option>
                                <option [ngValue]=4>Walkin</option>
                                <option [ngValue]=5>Condo</option>
                            </select>
                        </td>
                        <td *ngIf="selectPrint">
                            <img  style="cursor:pointer;" (click)="printDormChangeList()"
                                  title="Print" hspace="3" width="40px" src="./assets/img/Printer.svg"/>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <span style="color:red;font-size:9pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                *List displayed is from Change room check-in from and check-in to.
            </span>
            <div class="modal-body">
                <tabset>
                    <tab heading='Dormitory'>
                        <div *ngIf="listChangeDormRoom">
                            <table class="table table-bordered table-striped" style="width:100%; margin-bottom:0;font-size: 11pt;
                                height: calc( 80vh - 121px );overflow-y: auto;overflow-x: auto; display: block;">
                                <tbody style="text-align: center">
                                <tr style="background-color: yellow;font-size: 10pt;color: black;">
                                    <th style="text-align:center;">#</th>
                                    <th style="text-align:center;">Name</th>
                                    <th style="text-align:center;">Status</th>
                                    <th style="text-align:center;">Gender</th>
                                    <th style="text-align:center;">Country</th>
                                    <th style="text-align:center;">Original<br>Check-in</th>
                                    <th style="text-align:center;">Original<br>Check-out</th>
                                    <th style="text-align:center;">Previous<br>stay (bldg)</th>
                                    <th style="text-align:center;">Change<br>Check-in</th>
                                    <th style="text-align:center;">Change<br>Check-out</th>
                                    <th style="text-align:center;">Room Type</th>
                                    <th style="text-align:center;">Room Name</th>
                                </tr>
                                <tr *ngFor="let o of listChangeDormRoom; let i = index">
                                    <td>{{i + 1}}.</td>
                                    <td style="font-weight: bolder;width:150px;">{{o.passport_name?o.passport_name:o.student_name}}</td>
                                    <td (click)="editRoomApply(o.id)" style="cursor:pointer;">
                                        <span *ngIf="o.student_status == '2'" class="badge badge-warning">RESERVED</span>
                                        <span *ngIf="o.student_status == '5'" class="badge badge-info">PRESENT</span>
                                    </td>
                                    <td style="font-weight: bolder;">{{o.sex==1?'M':'F'}}</td>
                                    <td style="font-weight: bolder;">{{o.country_code}}</td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkblue;">
                                        {{o.checkin_date | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.checkin_date | date: 'EE'}})
                                    </td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkblue;">
                                        {{o.checkout_date | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.checkout_date | date: 'EE'}})
                                    </td>
                                    <td style="font-weight: bolder;width:100px;color:green;font-size:9pt;">
                                        <span *ngIf="o.dormitory_room_name.split(',')[1] != o.current_dormitory_room_name && !o.hotel_name">
                                            {{o.dormitory_room_name.split(',')[1]}}<br>{{o.building_id==1?'(ITP)':'(SFC)'}}
                                        </span>
                                        <span *ngIf="o.dormitory_room_name.split(',')[1] == o.current_dormitory_room_name && o.hotel_name">
                                            {{o.hotel_name.split(',')[1]}}<br>{{o.building_id==1?'(ITP)':'(SFC)'}}
                                        </span>
                                    </td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkred;">
                                        {{o.reservation_checkin | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.reservation_checkin | date: 'EE'}})
                                    </td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkred;">
                                        {{o.reservation_checkout | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.reservation_checkout | date: 'EE'}})
                                    </td>
                                    <td style="font-weight: bolder;width:100px;">{{o.room_type | uppercase}}</td>
                                    <td style="font-weight: bolder;width:100px;color:green">
                                        {{o.current_dormitory_room_name}}(#{{o.bed_name}})
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </tab>
                    <tab heading='Hotel'>
                        <div *ngIf="listChangeHotelsRoom">
                            <table class="table table-bordered table-striped" style="width:100%; margin-bottom:0;font-size: 11pt;
                                height: calc( 80vh - 121px );overflow-y: auto;overflow-x: auto; display: block;">
                                <tbody style="text-align: center">
                                <tr style="background-color: yellow;font-size: 10pt;color: black;">
                                    <th style="text-align:center;">#</th>
                                    <th style="text-align:center;">Name</th>
                                    <th style="text-align:center;">Status</th>
                                    <th style="text-align:center;">Gender</th>
                                    <th style="text-align:center;">Country</th>
                                    <th style="text-align:center;">Original<br>Check-in</th>
                                    <th style="text-align:center;">Original<br>Check-out</th>
                                    <th style="text-align:center;">Previous<br>stay (bldg)</th>
                                    <th style="text-align:center;">Change<br>Check-in</th>
                                    <th style="text-align:center;">Change<br>Check-out</th>
                                    <th style="text-align:center;">Room Type</th>
                                    <th style="text-align:center;">Room Name</th>
                                </tr>
                                <tr *ngFor="let o of listChangeHotelsRoom; let i = index">
                                    <td>{{i + 1}}.</td>
                                    <td style="font-weight: bolder;width:150px;">{{o.passport_name?o.passport_name:o.student_name}}</td>
                                    <td (click)="editRoomApply(o.id)" style="cursor:pointer;">
                                        <span *ngIf="o.student_status == '2'" class="badge badge-warning">RESERVED</span>
                                        <span *ngIf="o.student_status == '5'" class="badge badge-info">PRESENT</span>
                                    </td>
                                    <td style="font-weight: bolder;">{{o.sex==1?'M':'F'}}</td>
                                    <td style="font-weight: bolder;">{{o.country_code}}</td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkblue;">
                                        {{o.checkin_date | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.checkin_date | date: 'EE'}})
                                    </td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkblue;">
                                        {{o.checkout_date | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.checkout_date | date: 'EE'}})
                                    </td>
                                    <td style="font-weight: bolder;width:100px;color:green;font-size:9pt;">
                                        <span *ngIf="o.dormitory_room_name.split(',')[1] != o.current_dormitory_room_name && !o.hotel_name">
                                            {{o.dormitory_room_name.split(',')[1]}}<br>{{o.building_id==1?'(ITP)':'(SFC)'}}
                                        </span>
                                        <span *ngIf="o.dormitory_room_name.split(',')[1] == o.current_dormitory_room_name && o.hotel_name">
                                            {{o.hotel_name.split(',')[1]}}<br>{{o.building_id==1?'(ITP)':'(SFC)'}}
                                        </span>
                                    </td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkred;">
                                        {{o.reservation_checkin | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.reservation_checkin | date: 'EE'}})
                                    </td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkred;">
                                        {{o.reservation_checkout | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.reservation_checkout | date: 'EE'}})
                                    </td>
                                    <td style="font-weight: bolder;width:100px;">{{o.room_type | uppercase}}</td>
                                    <td style="font-weight: bolder;width:100px;color:green">
                                        {{o.current_dormitory_room_name}}(#{{o.bed_name}})
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </tab>
                    <tab heading='Walkin'>
                        <div *ngIf="listChangeWalkinsRoom">
                            <table class="table table-bordered table-striped" style="width:100%; margin-bottom:0;font-size: 11pt;
                                height: calc( 80vh - 121px );overflow-y: auto;overflow-x: auto; display: block;">
                                <tbody style="text-align: center">
                                <tr style="background-color: yellow;font-size: 10pt;color: black;">
                                    <th style="text-align:center;">#</th>
                                    <th style="text-align:center;">Name</th>
                                    <th style="text-align:center;">Status</th>
                                    <th style="text-align:center;">Gender</th>
                                    <th style="text-align:center;">Country</th>
                                    <th style="text-align:center;">Original<br>Check-in</th>
                                    <th style="text-align:center;">Original<br>Check-out</th>
                                    <th style="text-align:center;">Previous<br>stay (bldg)</th>
                                    <th style="text-align:center;">Change<br>Check-in</th>
                                    <th style="text-align:center;">Change<br>Check-out</th>
                                    <th style="text-align:center;">Room Type</th>
                                    <th style="text-align:center;">Room Name</th>
                                </tr>
                                <tr *ngFor="let o of listChangeWalkinsRoom; let i = index">
                                    <td>{{i + 1}}.</td>
                                    <td style="font-weight: bolder;width:150px;">{{o.passport_name?o.passport_name:o.student_name}}</td>
                                    <td (click)="editRoomApply(o.id)" style="cursor:pointer;">
                                        <span *ngIf="o.student_status == '2'" class="badge badge-warning">RESERVED</span>
                                        <span *ngIf="o.student_status == '5'" class="badge badge-info">PRESENT</span>
                                    </td>
                                    <td style="font-weight: bolder;">{{o.sex==1?'M':'F'}}</td>
                                    <td style="font-weight: bolder;">{{o.country_code}}</td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkblue;">
                                        {{o.checkin_date | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.checkin_date | date: 'EE'}})
                                    </td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkblue;">
                                        {{o.checkout_date | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.checkout_date | date: 'EE'}})
                                    </td>
                                    <td style="font-weight: bolder;width:100px;color:green;font-size:9pt;">
                                        <span *ngIf="o.dormitory_room_name.split(',')[1] != o.current_dormitory_room_name && !o.hotel_name">
                                            {{o.dormitory_room_name.split(',')[1]}}<br>{{o.building_id==1?'(ITP)':'(SFC)'}}
                                        </span>
                                        <span *ngIf="o.dormitory_room_name.split(',')[1] == o.current_dormitory_room_name && o.hotel_name">
                                            {{o.hotel_name.split(',')[1]}}<br>{{o.building_id==1?'(ITP)':'(SFC)'}}
                                        </span>
                                    </td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkred;">
                                        {{o.reservation_checkin | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.reservation_checkin | date: 'EE'}})
                                    </td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkred;">
                                        {{o.reservation_checkout | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.reservation_checkout | date: 'EE'}})
                                    </td>
                                    <td style="font-weight: bolder;width:100px;">{{o.room_type | uppercase}}</td>
                                    <td style="font-weight: bolder;width:100px;color:green">
                                        {{o.current_dormitory_room_name}}(#{{o.bed_name}})
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </tab>
                    <tab heading='Condo'>
                        <div *ngIf="listChangeCondosRoom">
                            <table class="table table-bordered table-striped" style="width:100%; margin-bottom:0;font-size: 11pt;
                                height: calc( 80vh - 121px );overflow-y: auto;overflow-x: auto; display: block;">
                                <tbody style="text-align: center">
                                <tr style="background-color: yellow;font-size: 10pt;color: black;">
                                    <th style="text-align:center;">#</th>
                                    <th style="text-align:center;">Name</th>
                                    <th style="text-align:center;">Status</th>
                                    <th style="text-align:center;">Gender</th>
                                    <th style="text-align:center;">Country</th>
                                    <th style="text-align:center;">Original<br>Check-in</th>
                                    <th style="text-align:center;">Original<br>Check-out</th>
                                    <th style="text-align:center;">Previous<br>stay (bldg)</th>
                                    <th style="text-align:center;">Change<br>Check-in</th>
                                    <th style="text-align:center;">Change<br>Check-out</th>
                                    <th style="text-align:center;">Room Type</th>
                                    <th style="text-align:center;">Room Name</th>
                                </tr>
                                <tr *ngFor="let o of listChangeCondosRoom; let i = index">
                                    <td>{{i + 1}}.</td>
                                    <td style="font-weight: bolder;width:150px;">{{o.passport_name?o.passport_name:o.student_name}}</td>
                                    <td (click)="editRoomApply(o.id)" style="cursor:pointer;">
                                        <span *ngIf="o.student_status == '2'" class="badge badge-warning">RESERVED</span>
                                        <span *ngIf="o.student_status == '5'" class="badge badge-info">PRESENT</span>
                                    </td>
                                    <td style="font-weight: bolder;">{{o.sex==1?'M':'F'}}</td>
                                    <td style="font-weight: bolder;">{{o.country_code}}</td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkblue;">
                                        {{o.checkin_date | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.checkin_date | date: 'EE'}})
                                    </td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkblue;">
                                        {{o.checkout_date | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.checkout_date | date: 'EE'}})
                                    </td>
                                    <td style="font-weight: bolder;width:100px;color:green;font-size:9pt;">
                                        <span *ngIf="o.dormitory_room_name.split(',')[1] != o.current_dormitory_room_name && !o.hotel_name">
                                            {{o.dormitory_room_name.split(',')[1]}}<br>{{o.building_id==1?'(ITP)':'(SFC)'}}
                                        </span>
                                        <span *ngIf="o.dormitory_room_name.split(',')[1] == o.current_dormitory_room_name && o.hotel_name">
                                            {{o.hotel_name.split(',')[1]}}<br>{{o.building_id==1?'(ITP)':'(SFC)'}}
                                        </span>
                                    </td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkred;">
                                        {{o.reservation_checkin | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.reservation_checkin | date: 'EE'}})
                                    </td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkred;">
                                        {{o.reservation_checkout | date: 'yyyy-MM-dd'}}<br>
                                        ({{o.reservation_checkout | date: 'EE'}})
                                    </td>
                                    <td style="font-weight: bolder;width:100px;">{{o.room_type | uppercase}}</td>
                                    <td style="font-weight: bolder;width:100px;color:green">
                                        {{o.current_dormitory_room_name}}(#{{o.bed_name}})
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </tab>
                </tabset>
            </div>
        </div>
    </div>
</div>
<!-- Room Change list end-->

<!-- Plan Change list start-->
<div bsModal #listPlanChangeModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="listPlanChangeModal" aria-labelledby="listPlanChangeModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 1000px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <table align="center" class="table table-bordered" style="width:70%; margin-bottom:0">
                    <tbody style="text-align: center">
                    <tr align="center">
                        <td colspan="7" style="border-bottom: thin solid black;border-top: thin solid black;
                            border-right: thin solid black;border-left: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                Plan Change List
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="listPlanChangeModal.hide()" >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr>
                        <th>FROM</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input"
                                       [(ngModel)]="saveDataLoadEvent.changePlanFrom" placeholder="Change from"
                                       ngx-mydatepicker name="mydate" #changePlanFromFilter="ngx-mydatepicker"
                                       (click)="changePlanFromFilter.toggleCalendar()"
                                       [options]="myDatePickerOptions" readonly />
                            </div>
                        </td>
                        <th>TO</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input"
                                       [(ngModel)]="saveDataLoadEvent.changePlanTo" placeholder="Change to"
                                       ngx-mydatepicker name="mydate" #changePlanToFilter="ngx-mydatepicker"
                                       (click)="changePlanToFilter.toggleCalendar()"
                                       [options]="myDatePickerOptions" readonly />
                            </div>
                        </td>
                        <th>Campus</th>
                        <td>
                            <select style="width: 115px;font-size:10pt;" class="form-control" [(ngModel)]="selectCampus">
                                <option [ngValue]=1>IT Park</option>
                                <option [ngValue]=2>Sea Front</option>
                            </select>
                        </td>
                        <td>
                            <img  style="cursor:pointer;" (click)="loadChangePlanList()" title="Find" hspace="3" width="40px" src="./assets/img/Search_system.svg"/>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <span style="color:red;font-size:9pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                *List displayed is from Change plan check-in from and check-in to.
            </span>
            <div class="modal-body">
                <div *ngIf="listChangePlan">
                    <table class="table table-bordered table-striped" style="width:100%; margin-bottom:0;font-size: 11pt;
                                height: calc( 80vh - 121px );overflow-y: auto;overflow-x: hidden; display: block;">
                        <tbody style="text-align: center">
                        <tr style="background-color: yellow;font-size: 10pt;color: black;">
                            <th style="text-align:center;">#</th>
                            <th style="text-align:center;">Name</th>
                            <th style="text-align:center;">Status</th>
                            <th style="text-align:center;">Gender</th>
                            <th style="text-align:center;">Country</th>
                            <th style="text-align:center;">Original<br>Plan start</th>
                            <th style="text-align:center;">Original<br>Plan end</th>
                            <th style="text-align:center;">Original Plan<br>(Campus)</th>
                            <th style="text-align:center;">Plan Change<br>start</th>
                            <th style="text-align:center;">Plan Change<br>end</th>
                            <th style="text-align:center;">Next Campus</th>
                            <th style="text-align:center;">Next Plan/Course</th>
                        </tr>
                        <tr *ngFor="let o of listChangePlan; let i = index">
                            <td>{{i + 1}}.</td>
                            <td style="font-weight: bolder;width:150px;">
                                {{o.passport_name?o.passport_name:o.student_name}}
                            </td>
                            <td (click)="editCourseApply(o.id)" style="cursor:pointer;">
                                <span *ngIf="o.student_status == '2'" class="badge badge-warning">RESERVED</span>
                                <span *ngIf="o.student_status == '5'" class="badge badge-info">PRESENT</span>
                            </td>
                            <td style="font-weight: bolder;">{{o.sex==1?'M':'F'}}</td>
                            <td style="font-weight: bolder;">{{o.country_code}}</td>
                            <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkblue;">
                                {{o.checkin_date | date: 'yyyy-MM-dd'}}<br>
                                ({{o.checkin_date | date: 'EE'}})
                            </td>
                            <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkblue;">
                                {{o.checkout_date | date: 'yyyy-MM-dd'}}<br>
                                ({{o.checkout_date | date: 'EE'}})
                            </td>
                            <td style="font-weight: bolder;width:100px;color:green">
                                {{o.course.split(',')[1]}}
                                <br>{{o.building_id==1?'(ITP)':'(SFC)'}}
                            </td>
                            <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkred;">
                                {{o.course_from | date: 'yyyy-MM-dd'}}<br>
                                ({{o.course_from | date: 'EE'}})
                            </td>
                            <td style="font-size: 9pt;font-weight: bolder;width:200px;color:darkred;">
                                {{o.course_to | date: 'yyyy-MM-dd'}}<br>
                                ({{o.course_to | date: 'EE'}})
                            </td>
                            <td style="font-weight: bolder;width:100px;">
                                {{o.course_campus===1?'ITP':'SFC'}}
                            </td>
                            <td style="font-weight: bolder;width:100px;color:green">
                                {{o.course_plan}}
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Plan Change list end-->

<!-- Plan Count list start-->
<div bsModal #listPlanCountModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="listPlanCountModal" aria-labelledby="listPlanCountModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 400px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <table class="table table-bordered" style="width:95%; margin-bottom:0">
                    <tbody style="text-align: center">
                    <tr align="center">
                        <td colspan="3" style="border-bottom: thin solid black;border-top: thin solid black;
                            border-right: thin solid black;border-left: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                Plan Counter
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="listPlanCountModal.hide()" >
                                    <span aria-hidden="true" style="text-align:center">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr>
                        <th width="30%">Plan From</th>
                        <td colspan="2">
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input"
                                       [(ngModel)]="saveDataLoadEvent.countPlanFrom" placeholder="Plan from"
                                       ngx-mydatepicker name="mydate" #countPlanFromFilter="ngx-mydatepicker"
                                       (click)="countPlanFromFilter.toggleCalendar()"
                                       [options]="myDatePickerOptions" readonly />
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>Plan To</th>
                        <td colspan="2">
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input"
                                       [(ngModel)]="saveDataLoadEvent.countPlanTo" placeholder="Plan to"
                                       ngx-mydatepicker name="mydate" #countPlanToFilter="ngx-mydatepicker"
                                       (click)="countPlanToFilter.toggleCalendar()"
                                       [options]="myDatePickerOptions" readonly />
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>Campus</th>
                        <td colspan="2">
                            <span *ngIf="campusCodes">
                                   <span class="form-group">
                                       <select style="width: 100px;" class="form-control" name="campcodes" [(ngModel)]="countPlanCampus" required>
                                           <option *ngFor="let camp of campusCodes" [ngValue]="camp.id"> {{camp.value}} </option>
                                       </select>
                                   </span>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <th>Country</th>
                        <td>
                            <span class="form-group">
                                <select style="font-size:11pt;cursor:pointer;" class="form-control" (change)="onChangeCountrySelection($event)"
                                        [(ngModel)]="countCntCode" name="countryCodes" placeholder="Status">
                                    <option [ngValue]="1"> International </option>
                                    <option [ngValue]="2"> Japanese </option>
                                </select>
                            </span>
                        </td>
                        <td>
                            <img  style="cursor:pointer;" (click)="loadPlanCountList()" title="Find" hspace="3" width="40px" src="./assets/img/Search_system.svg"/>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <span style="color:red;font-size:9pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                *List displayed is from Course/Plan from until Course/Plan to.
            </span>
            <div class="modal-body">
                <div *ngIf="listCountPlan && countCntCode == '1'">
                    <table class="table table-bordered table-striped" style="width:100%; margin-bottom:0;font-size: 11pt;
                                height: calc( 80vh - 121px );overflow-y: auto;overflow-x: hidden; display: block;">
                        <tbody style="text-align: center">
                        <tr style="background-color: yellow;font-size: 10pt;color: black;">
                            <th style="text-align:center;width:160px;">Plan Name</th>
                            <th style="text-align:center;width:220px;">Number of Students</th>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Standard</th>
                            <td>{{o.standard}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Superior</th>
                            <td>{{o.superior}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Light</th>
                            <td>{{o.light}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>TOEIC</th>
                            <td>{{o.toeic}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>IELTS 4 Plan</th>
                            <td>{{o.ielts4plan}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>IELTS 6 Plan</th>
                            <td>{{o.ielts6plan}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Business</th>
                            <td>{{o.business}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Family</th>
                            <td>{{o.family}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Super Light</th>
                            <td>{{o.superlight}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>INTERN</th>
                            <td>{{o.intern}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;" style="font-size:12pt;font-weight:bolder">
                            <th>TOTAL PLANS</th>
                            <td style="color:darkgreen;text-decoration:underline">{{o.totalIntPlan}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div *ngIf="listCountPlan && countCntCode == '2'">
                    <table class="table table-bordered table-striped" style="width:100%; margin-bottom:0;font-size: 11pt;
                                height: calc( 80vh - 121px );overflow-y: auto;overflow-x: hidden; display: block;">
                        <tbody style="text-align: center">
                        <tr style="background-color: yellow;font-size: 10pt;color: black;">
                            <th style="text-align:center;">Plan Name</th>
                            <th style="text-align:center;width:165px;">Number of Students</th>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Standard</th>
                            <td>{{o.standard}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Superior</th>
                            <td>{{o.superior}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Light</th>
                            <td>{{o.light}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Super Short Light</th>
                            <td>{{o.supershortlight}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Super Short</th>
                            <td>{{o.supershort}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Super Short + Online</th>
                            <td>{{o.supershortonline}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Business</th>
                            <td>{{o.business}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>TOEIC w/out guarantee</th>
                            <td>{{o.toeicwithout}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>TOEIC with guarantee</th>
                            <td>{{o.toeicwith}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>IELTS</th>
                            <td>{{o.ielts}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Family</th>
                            <td>{{o.family}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Special</th>
                            <td>{{o.special}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Super Light</th>
                            <td>{{o.superlight}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>Body Make ST</th>
                            <td>{{o.bodymakest}}</td>
                        </tr>

                        <tr *ngFor="let o of listCountPlan;">
                            <th>Body Make HL</th>
                            <td>{{o.bodymakehl}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;">
                            <th>INTERN</th>
                            <td>{{o.intern}}</td>
                        </tr>
                        <tr *ngFor="let o of listCountPlan;" style="font-size:12pt;font-weight:bolder">
                            <th>TOTAL PLANS</th>
                            <td style="color:darkgreen;text-decoration:underline">{{o.totalJpPlan}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Plan Count list end-->

<!-- QQ Cafe list start-->
<div bsModal #listCafeModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="listCafeModal" aria-labelledby="listCafeModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 1100px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <table align="center" class="table table-bordered" style="width:57%; margin-bottom:0">
                    <tbody style="text-align: center">
                    <tr align="center">
                        <td colspan="8" style="border-bottom: thin solid black;border-top: thin solid black;
                            border-right: thin solid black;border-left: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                QQ Cafe List
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="listCafeModal.hide()" >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr>
                        <th>From (SUN)</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input"
                                       [(ngModel)]="saveDataLoadEvent.cafeFrom" placeholder="From"
                                       ngx-mydatepicker name="mydate" #cafeFromFilter="ngx-mydatepicker"
                                       (click)="cafeFromFilter.toggleCalendar()"
                                       [options]="myDatePickerOptionsEnabledWeekends" readonly />
                            </div>
                        </td>
                        <th>Campus</th>
                        <td>
                            <span *ngIf="campusCodes">
                                   <span class="form-group">
                                       <select style="width: 100px;" class="form-control"
                                               name="campcodes" (change)="onChangeCafeCampus($event)" [(ngModel)]="cafeCampus" required>
                                           <option *ngFor="let camp of campusCodes" [ngValue]="camp.id"> {{camp.value}} </option>
                                       </select>
                                   </span>
                            </span>
                        </td>
                        <td>
                            <img style="cursor:pointer;" (click)="printCafeList()" title="Print QQE Cafe List" hspace="3" width="40px" src="./assets/img/Printer.svg"/>
                        </td>
                        <td>
                            <img  style="cursor:pointer;" (click)="loadCafeList()" title="Find" hspace="3" width="40px" src="./assets/img/Search_system.svg"/>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <span style="color:red;font-size:9pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                *List displayed is From (Sunday).
            </span>
            <div class="modal-body">
                <table class="table table-bordered table-striped" style="width:100%; margin-bottom:0;font-size: 11pt;
                                height: calc( 70vh - 91px );overflow-y: auto;overflow-x: auto; display: block;">
                    <tbody style="text-align: center">
                    <tr style="background-color: lightpink;font-size:10pt;color: black;">
                        <th style="text-align:center;width:190px;">Date</th>
                        <th style="text-align:center;width:130px;">
                            STUDENTS<br>({{cafeCampus=='1'?'ITP':'SFC'}})
                        </th>
                        <th colspan="2" style="text-align:center;width:100px;">JP</th>
                        <th colspan="2" style="text-align:center;width:100px;">TW</th>
                        <th colspan="2" style="text-align:center;width:100px;">CN</th>
                        <th colspan="2" style="text-align:center;width:100px;">KR</th>
                        <th colspan="2" style="text-align:center;width:100px;">RUS</th>
                        <th colspan="2" style="text-align:center;width:100px;">VN</th>
                        <th colspan="2" style="text-align:center;width:100px;">ARAB</th>
                        <th colspan="2" style="text-align:center;width:100px;">OTHERS</th>
                        <th style="text-align:center;width:100px;">TOTAL</th>
                        <th style="text-align:center;width:100px;">
                            INTERN<br>({{cafeCampus=='1'?'ITP':'SFC'}})
                        </th>
                        <th style="text-align:center;width:100px;">
                            NON-STUDENTS<br>({{cafeCampus=='1'?'ITP':'SFC'}})
                        </th>
                    </tr>
                    <tr *ngFor="let o of listCountCafeFirst;" style="font-size:10pt;font-weight:bold">
                        <td>{{o.cafeFrom | date: 'MM/dd'}} ~ {{o.cafeTo | date: 'MM/dd'}}</td>
                        <td><b>{{o.total}}</b></td>
                        <td>{{o.jpTotal}}</td>
                        <td>{{o.jpPercent}}%</td>
                        <td>{{o.twTotal}}</td>
                        <td>{{o.twPercent}}%</td>
                        <td>{{o.cnTotal}}</td>
                        <td>{{o.cnPercent}}%</td>
                        <td>{{o.krTotal}}</td>
                        <td>{{o.krPercent}}%</td>
                        <td>{{o.ruTotal}}</td>
                        <td>{{o.ruPercent}}%</td>
                        <td>{{o.vnTotal}}</td>
                        <td>{{o.vnPercent}}%</td>
                        <td>{{o.arabTotal}}</td>
                        <td>{{o.arabPercent}}%</td>
                        <td>{{o.othersTotal}}</td>
                        <td>{{o.othersPercent}}%</td>
                        <td>{{o.total==0?'0%':'100%'}}</td>
                        <td><b>{{o.internTotal}}</b></td>
                        <td><b>{{o.guardTotal}}</b></td>
                    </tr>
                    <tr *ngFor="let o of listCountCafeSecond;" style="font-size:10pt;font-weight:bold">
                        <td>{{o.cafeFrom | date: 'MM/dd'}} ~ {{o.cafeTo | date: 'MM/dd'}}</td>
                        <td><b>{{o.total}}</b></td>
                        <td>{{o.jpTotal}}</td>
                        <td>{{o.jpPercent}}%</td>
                        <td>{{o.twTotal}}</td>
                        <td>{{o.twPercent}}%</td>
                        <td>{{o.cnTotal}}</td>
                        <td>{{o.cnPercent}}%</td>
                        <td>{{o.krTotal}}</td>
                        <td>{{o.krPercent}}%</td>
                        <td>{{o.ruTotal}}</td>
                        <td>{{o.ruPercent}}%</td>
                        <td>{{o.vnTotal}}</td>
                        <td>{{o.vnPercent}}%</td>
                        <td>{{o.arabTotal}}</td>
                        <td>{{o.arabPercent}}%</td>
                        <td>{{o.othersTotal}}</td>
                        <td>{{o.othersPercent}}%</td>
                        <td>{{o.total==0?'0%':'100%'}}</td>
                        <td><b>{{o.internTotal}}</b></td>
                        <td><b>{{o.guardTotal}}</b></td>
                    </tr>
                    <tr *ngFor="let o of listCountCafeThird;" style="font-size:10pt;font-weight:bold">
                        <td>{{o.cafeFrom | date: 'MM/dd'}} ~ {{o.cafeTo | date: 'MM/dd'}}</td>
                        <td><b>{{o.total}}</b></td>
                        <td>{{o.jpTotal}}</td>
                        <td>{{o.jpPercent}}%</td>
                        <td>{{o.twTotal}}</td>
                        <td>{{o.twPercent}}%</td>
                        <td>{{o.cnTotal}}</td>
                        <td>{{o.cnPercent}}%</td>
                        <td>{{o.krTotal}}</td>
                        <td>{{o.krPercent}}%</td>
                        <td>{{o.ruTotal}}</td>
                        <td>{{o.ruPercent}}%</td>
                        <td>{{o.vnTotal}}</td>
                        <td>{{o.vnPercent}}%</td>
                        <td>{{o.arabTotal}}</td>
                        <td>{{o.arabPercent}}%</td>
                        <td>{{o.othersTotal}}</td>
                        <td>{{o.othersPercent}}%</td>
                        <td>{{o.total==0?'0%':'100%'}}</td>
                        <td><b>{{o.internTotal}}</b></td>
                        <td><b>{{o.guardTotal}}</b></td>
                    </tr>
                    <tr *ngFor="let o of listCountCafeFourth;" style="font-size:10pt;font-weight:bold">
                        <td>{{o.cafeFrom | date: 'MM/dd'}} ~ {{o.cafeTo | date: 'MM/dd'}}</td>
                        <td><b>{{o.total}}</b></td>
                        <td>{{o.jpTotal}}</td>
                        <td>{{o.jpPercent}}%</td>
                        <td>{{o.twTotal}}</td>
                        <td>{{o.twPercent}}%</td>
                        <td>{{o.cnTotal}}</td>
                        <td>{{o.cnPercent}}%</td>
                        <td>{{o.krTotal}}</td>
                        <td>{{o.krPercent}}%</td>
                        <td>{{o.ruTotal}}</td>
                        <td>{{o.ruPercent}}%</td>
                        <td>{{o.vnTotal}}</td>
                        <td>{{o.vnPercent}}%</td>
                        <td>{{o.arabTotal}}</td>
                        <td>{{o.arabPercent}}%</td>
                        <td>{{o.othersTotal}}</td>
                        <td>{{o.othersPercent}}%</td>
                        <td>{{o.total==0?'0%':'100%'}}</td>
                        <td><b>{{o.internTotal}}</b></td>
                        <td><b>{{o.guardTotal}}</b></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<!-- QQ Cafe list end-->


<!-- Weekly Report list start-->
<div bsModal #listWeeklyReportModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="listWeeklyReportModal" aria-labelledby="listWeeklyReportModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 990px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <table align="center" class="table table-bordered" style="width:57%; margin-bottom:0">
                    <tbody style="text-align: center">
                    <tr align="center">
                        <td colspan="8" style="border-bottom: thin solid black;border-top: thin solid black;
                            border-right: thin solid black;border-left: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                Weekly Report List
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="listWeeklyReportModal.hide()" >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr>
                        <th>From (SUN)</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input"
                                       [(ngModel)]="saveDataLoadEvent.weeklyFrom" placeholder="From"
                                       ngx-mydatepicker name="mydate" #weeklyFromFilter="ngx-mydatepicker"
                                       (click)="weeklyFromFilter.toggleCalendar()"
                                       [options]="myDatePickerOptionsEnabledWeekends" readonly />
                            </div>
                        </td>
                        <th>Campus</th>
                        <td>
                            <span *ngIf="campusCodes">
                                   <span class="form-group">
                                       <select style="width: 100px;" class="form-control"
                                               name="campcodes" (change)="onChangeCafeCampus($event)" [(ngModel)]="weeklyCampus" required>
                                           <option *ngFor="let camp of campusCodes" [ngValue]="camp.id"> {{camp.value}} </option>
                                       </select>
                                   </span>
                            </span>
                        </td>
                        <td>
                            <img  style="cursor:pointer;" (click)="loadWeeklyReportList()" title="Find" hspace="3" width="40px" src="./assets/img/Search_system.svg"/>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-body">
                <table class="table table-bordered table-striped" *ngFor="let o of numberOfStudentsPerWeeksPerNationWithInternsGuardians">
                    <tbody style="text-align: center">
                    <tr>
                        <td style="background-color:white;padding:2px 2px 2px 2px;font-weight:bolder;"></td>
                        <td style="padding:2px 2px 2px 2px;font-weight:bolder;color:red" *ngFor="let week of o.weekday">
                            {{week | date: 'MM/dd'  | uppercase}}
                        </td>
                    </tr>
                    <tr>
                        <td style="padding:2px 2px 2px 2px;font-weight:bolder;">Japan</td>
                        <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.weekcontent">{{content._jp}} ({{content._jppercent}})</td>
                    </tr>
                    <tr>
                        <td style="padding:2px 2px 2px 2px;font-weight:bolder;">Taiwan</td>
                        <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.weekcontent">{{content._tw}} ({{content._twpercent}})</td>
                    </tr>
                    <tr>
                        <td style="padding:2px 2px 2px 2px;font-weight:bolder;">China</td>
                        <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.weekcontent">{{content._cn}} ({{content._cnpercent}})</td>
                    </tr>
                    <tr>
                        <td style="padding:2px 2px 2px 2px;font-weight:bolder;">Korea</td>
                        <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.weekcontent">{{content._kr}} ({{content._krpercent}})</td>
                    </tr>
                    <tr>
                        <td style="padding:2px 2px 2px 2px;font-weight:bolder;">Russia</td>
                        <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.weekcontent">{{content._ru}} ({{content._rupercent}})</td>
                    </tr>
                    <tr>
                        <td style="padding:2px 2px 2px 2px;font-weight:bolder;">Vietnam</td>
                        <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.weekcontent">{{content._vn}} ({{content._vnpercent}})</td>
                    </tr>
                    <tr>
                        <td style="padding:2px 2px 2px 2px;font-weight:bolder;">Arab</td>
                        <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.weekcontent">{{content._arab}} ({{content._arabpercent}})</td>
                    </tr>
                    <tr>
                        <td style="padding:2px 2px 2px 2px;font-weight:bolder;">Thailand</td>
                        <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.weekcontent">{{content._th}} ({{content._thpercent}})</td>
                    </tr>
                    <tr>
                        <td style="padding:2px 2px 2px 2px;font-weight:bolder;">Mongolia</td>
                        <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.weekcontent">{{content._mn}} ({{content._mnpercent}})</td>
                    </tr>
                    <tr>
                        <td style="padding:2px 2px 2px 2px;font-weight:bolder;">Others</td>
                        <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.weekcontent">{{content._others}} ({{content._otherspercent}})</td>
                    </tr>
                    <tr>
                        <td style="padding:2px 2px 2px 2px;font-weight:bolder;">Total</td>
                        <td style="padding:2px 2px 2px 2px;font-weight:bolder;" *ngFor="let content of o.weekcontent">{{content.total}}</td>
                    </tr>
                    <tr>
                        <td style="background-color:lightblue;padding:2px 2px 2px 2px;font-weight:bolder;">TENTATIVES</td>
                        <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.weekcontent">{{content.tentatives}}</td>
                    </tr>
                    <tr>
                        <td style="background-color:lightblue;padding:2px 2px 2px 2px;font-weight:bolder;">INTERNS</td>
                        <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.weekcontent">{{content.interns}}</td>
                    </tr>
                    <tr>
                        <td style="background-color:lightblue;padding:2px 2px 2px 2px;font-weight:bolder;">NON - STUDENTS</td>
                        <td style="padding:2px 2px 2px 2px;" *ngFor="let content of o.weekcontent">{{content.nonstudents}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<!-- Weekly Report list end-->

<!-- Sales Report list start-->
<div bsModal #listSalesReportModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="listSalesReportModal" aria-labelledby="listSalesReportModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 900px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <table align="center" class="table table-bordered" style="width:70%; margin-bottom:0">
                    <tbody style="text-align: center">
                    <tr align="center">
                        <td colspan="8" style="border-bottom: thin solid black;border-top: thin solid black;
                            border-right: thin solid black;border-left: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                Sales Report List
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="listSalesReportModal.hide()" >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr>
                        <th>Sales From</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 85px;" class="form-control date-input"
                                       [(ngModel)]="saveDataLoadEvent.salesFrom" placeholder="From"
                                       ngx-mydatepicker name="mydate" #salesFromFilter="ngx-mydatepicker"
                                       (click)="salesFromFilter.toggleCalendar()"
                                       [options]="myDatePickerOptions" readonly />
                            </div>
                        </td>
                        <th>Sales To</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 85px;" class="form-control date-input"
                                       [(ngModel)]="saveDataLoadEvent.salesTo" placeholder="To"
                                       ngx-mydatepicker name="mydate" #salesToFilter="ngx-mydatepicker"
                                       (click)="salesToFilter.toggleCalendar()"
                                       [options]="myDatePickerOptions" readonly />
                            </div>
                        </td>
                        <td>
                            <img  style="cursor:pointer;" (click)="loadSalesReportList()" title="Report" hspace="3" width="40px" src="./assets/img/Search_system.svg"/>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <span style="color:darkblue;font-size:12pt;text-align: center;font-weight: bolder" *ngIf="saveDataLoadEvent.salesFrom">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                {{saveDataLoadEvent.salesFrom.jsdate | date : 'MMMM'}} {{saveDataLoadEvent.salesFrom.jsdate | date : 'y'}}
            </span>
            <div style="padding: 1px 20px 1px 20px">
                <table class="table table-bordered table-striped" style="width:100%; margin-bottom:0;font-size: 10pt;
                                height: calc( 88vh - 109px );overflow-y: auto;overflow-x: auto; display: block;"
                       *ngFor="let o of listSalesReport">
                    <tbody style="text-align: center">
                    <tr style="background-color:darkgray;font-size:8pt;color: black;">
                        <th style="background-color:deepskyblue;padding:1px 20px 1px 20px;text-align: center">STUDENTS</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let day of o.allDatesHeader">
                            {{day | slice:3:6}}
                        </td>
                        <td style="background-color:yellow;padding:1px 20px 1px 20px;font-weight: bolder;">TOTAL</td>
                        <td style="background-color:yellow;padding:1px 20px 1px 20px;font-weight: bolder;">
                            Last Year
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:deepskyblue;padding:1px 1px 1px 1px;text-align: center">JP Direct</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let jpdirect of o.jpDirect">
                            {{jpdirect}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalJPDRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalJPDRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:deepskyblue;padding:1px 1px 1px 1px;text-align: center">JP Agent</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let jpAgent of o.jpAgent">
                            {{jpAgent}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalJPARow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalJPARow}}
                        </td>
                    </tr><tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:deepskyblue;padding:1px 1px 1px 1px;text-align: center">Taiwan</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let tw of o.tw">
                            {{tw}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalTWRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalTWRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:deepskyblue;padding:1px 1px 1px 1px;text-align: center">Korea</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let kr of o.kr">
                            {{kr}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalKRRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalKRRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:deepskyblue;padding:1px 1px 1px 1px;text-align: center">China</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let cn of o.cn">
                            {{cn}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalCNRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalCNRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:deepskyblue;padding:1px 1px 1px 1px;text-align: center">Russia</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let ru of o.ru">
                            {{ru}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalRURow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalRURow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:deepskyblue;padding:1px 1px 1px 1px;text-align: center">Vietnam</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let vn of o.vn">
                            {{vn}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalVNRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalVNRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:deepskyblue;padding:1px 1px 1px 1px;text-align: center">Arab</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let arab of o.arab">
                            {{arab}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalARABRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalARABRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:deepskyblue;padding:1px 1px 1px 1px;text-align: center">Thailand</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let th of o.th">
                            {{th}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalTHRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalTHRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:deepskyblue;padding:1px 1px 1px 1px;text-align: center">Mongolia</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let mn of o.mn">
                            {{mn}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalMNRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalMNRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:deepskyblue;padding:1px 1px 1px 1px;text-align: center">Others</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let others of o.others">
                            {{others}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalOTHERSRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalOTHERSRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:yellow;padding:1px 1px 1px 1px;text-align: center">TOTAL</th>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let allTotalStudents of o.allTotalStudents">
                            {{allTotalStudents}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalSTUDALLRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lastYearTotalPerLineStudent}}
                        </td>
                    </tr>
                    <tr style="background-color:darkgray;font-size:8pt;color: black;">
                        <th style="background-color:lightpink;padding:1px 1px 1px 1px;text-align: center">W E E K S</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let day of o.allDatesHeader">
                            {{day | slice:3:6}}
                        </td>
                        <td style="background-color:yellow;padding:1px 1px 1px 1px;font-weight: bolder;">TOTAL</td>
                        <td style="background-color:yellow;padding:1px 1px 1px 1px;font-weight: bolder;">
                            Last year
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:lightpink;padding:1px 1px 1px 1px;text-align: center">JP Direct</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let jpWeeksDS of o.jpWeeksDS">
                            {{jpWeeksDS}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalJPDWkRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalJPDWkRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:lightpink;padding:1px 1px 1px 1px;text-align: center">JP Agent</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let jpWeeksAS of o.jpWeeksAS">
                            {{jpWeeksAS}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalJPAWkRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalJPAWkRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:lightpink;padding:1px 1px 1px 1px;text-align: center">Taiwan</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let twWeeks of o.twWeeks">
                            {{twWeeks}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalTWWkRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalTWWkRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:lightpink;padding:1px 1px 1px 1px;text-align: center">Korea</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let krWeeks of o.krWeeks">
                            {{krWeeks}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalKRWkRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalKRWkRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:lightpink;padding:1px 1px 1px 1px;text-align: center">China</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let cnWeeks of o.cnWeeks">
                            {{cnWeeks}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalCNWkRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalCNWkRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:lightpink;padding:1px 1px 1px 1px;text-align: center">Russia</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let ruWeeks of o.ruWeeks">
                            {{ruWeeks}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalRUWkRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalRUWkRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:lightpink;padding:1px 1px 1px 1px;text-align: center">Vietnam</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let vnWeeks of o.vnWeeks">
                            {{vnWeeks}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalVNWkRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalVNWkRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:lightpink;padding:1px 1px 1px 1px;text-align: center">Arab</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let arabWeeks of o.arabWeeks">
                            {{arabWeeks}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalARABWkRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalARABWkRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:lightpink;padding:1px 1px 1px 1px;text-align: center">Thailand</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let thWeeks of o.thWeeks">
                            {{thWeeks}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalTHWkRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalTHWkRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:lightpink;padding:1px 1px 1px 1px;text-align: center">Mongolia</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let mnWeeks of o.mnWeeks">
                            {{mnWeeks}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalMNWkRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalMNWkRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:lightpink;padding:1px 1px 1px 1px;text-align: center">Others</th>
                        <td style="font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let othersWeeks of o.othersWeeks">
                            {{othersWeeks}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalOTHERSWkRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lytotalOTHERSWkRow}}
                        </td>
                    </tr>
                    <tr style="font-size:8pt;font-weight:bold">
                        <th style="background-color:yellow;padding:1px 1px 1px 1px;text-align: center">TOTAL</th>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;" *ngFor="let allTotalWeeks of o.allTotalWeeks">
                            {{allTotalWeeks}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.totalALLWkRow}}
                        </td>
                        <td style="background-color:yellow;font-weight: bolder;padding:1px 1px 1px 1px;">
                            {{o.lastYearTotalPerLineWeeks}}
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <!--<div *ngIf="loading" [config]="{ show: true , keyboard: false, focus: true, ignoreBackdropClick: true, backdrop: false}"
         (onHidden)="onHidden()" bsModal #autoShownModal="bs-modal" class="modal fade modal-loading" tabindex="-1" role="dialog"
         aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content uil-poi-css">
                <img src="/assets/images/favicon/favicon.ico">
            </div>
        </div>
    </div>-->
</div>
<!-- Sales Report list end-->

<!-- Campus Booking Report list start-->
<div bsModal #listCampBookingReportModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="listCampBookingReportModal" aria-labelledby="listCampBookingReportModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 700px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <table align="center" class="table table-bordered" style="width:94%; margin-bottom:0">
                    <tbody style="text-align: center">
                    <tr align="center">
                        <td colspan="8" style="border-bottom: thin solid black;border-top: thin solid black;
                            border-right: thin solid black;border-left: thin solid black;">
                            <h5 class="modal-title" style="font-family:Helvetica,Arial,serif;color:darkblue">
                                Campus Booking Report List
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="listCampBookingReportModal.hide()" >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h5>
                        </td>
                    </tr>
                    <tr>
                        <th>Camp From</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 85px;" class="form-control date-input"
                                       [(ngModel)]="saveDataLoadEvent.campBookFrom" placeholder="From"
                                       ngx-mydatepicker name="mydate" #campBookFromFilter="ngx-mydatepicker"
                                       (click)="campBookFromFilter.toggleCalendar()"
                                       [options]="myDatePickerOptionsEnabledWeekends" readonly />
                            </div>
                        </td>
                        <th>Campus</th>
                        <td>
                            <span *ngIf="campusCodes">
                                   <span class="form-group">
                                       <select style="width: 100px;" class="form-control"
                                               name="campcodes" (change)="onChangeCafeCampus($event)" [(ngModel)]="weeklyCampus" required>
                                           <option *ngFor="let camp of campusCodes" [ngValue]="camp.id"> {{camp.value}} </option>
                                       </select>
                                   </span>
                            </span>
                        </td>
                        <td>
                            <img  style="cursor:pointer;" (click)="loadCampBookingReportList()" title="Report" hspace="3" width="40px" src="./assets/img/Search_system.svg"/>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <span style="color:darkblue;font-size:12pt;text-align: center;font-weight: bolder" *ngIf="saveDataLoadEvent.campBookFrom">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                {{saveDataLoadEvent.campBookFrom.jsdate | date : 'MMMM'}} {{saveDataLoadEvent.campBookFrom.jsdate | date : 'y'}}
            </span>
            <div style="padding: 1px 20px 1px 20px" *ngFor="let o of listCampBookReport">
                <tabset>
                    <tab heading="{{o.firstWeek | date : 'MM-dd'}} ~ {{o.firstWeekEnd | date : 'MM-dd'}}">
                        <table class="table table-bordered table-striped" style="width:100%; margin-bottom:0;font-size: 10pt;
                                height: calc( 88vh - 109px );overflow-y: auto;overflow-x: auto; display: block;">
                            <tbody style="text-align: center">
                                <tr style="background-color:lightblue;font-size:10pt;color: black;">
                                    <th style="text-align:center;width:100px;">Campus</th>
                                    <th style="text-align:center;width:70px;">Nationality</th>
                                    <th style="text-align:center;width:150px;">Status</th>
                                    <th style="text-align:center;width:165px;">Camp Name</th>
                                    <th style="text-align:center;width:165px;">Checkin</th>
                                    <th style="text-align:center;width:150px;">Total Students</th>
                                </tr>
                                <tr *ngFor="let details of o.listAgentsCampsFirst" style="font-size:10pt;color: black;">
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['campus']}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['country_code']}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        <span *ngIf="details['student_status']==1" class="badge badge-primary">New</span>
                                        <span *ngIf="details['student_status']==2" class="badge badge-warning">Reserved</span>
                                        <span *ngIf="details['student_status']==5" class="badge badge-info">Present</span>
                                        <span *ngIf="details['student_status']==6" class="badge badge-default">Graduate</span>
                                        <span *ngIf="details['student_status']==10" class="badge badge-success">Tentative</span>
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['camp_name']}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['checkin_date'] | date : 'MMM dd'}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['countCamp']}}
                                    </td>
                                </tr>
                                <tr style="font-size:10pt;color: black;">
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td style="color:red"> TOTAL </td>
                                    <td style="color:green;font-weight:bolder;">
                                        {{o.totalFirstWk}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading="{{o.secondWeek | date : 'MM-dd'}} ~ {{o.secondWeekEnd | date : 'MM-dd'}}">
                        <table class="table table-bordered table-striped" style="width:100%; margin-bottom:0;font-size: 10pt;
                                height: calc( 88vh - 109px );overflow-y: auto;overflow-x: auto; display: block;">
                            <tbody style="text-align: center">
                                <tr style="background-color:lightblue;font-size:10pt;color: black;">
                                    <th style="text-align:center;width:100px;">Campus</th>
                                    <th style="text-align:center;width:70px;">Nationality</th>
                                    <th style="text-align:center;width:150px;">Status</th>
                                    <th style="text-align:center;width:165px;">Camp Name</th>
                                    <th style="text-align:center;width:165px;">Checkin</th>
                                    <th style="text-align:center;width:150px;">Total Students</th>
                                </tr>
                                <tr *ngFor="let details of o.listAgentsCampsSecond" style="font-size:10pt;color: black;">
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['campus']}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['country_code']}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        <span *ngIf="details['student_status']==1" class="badge badge-primary">New</span>
                                        <span *ngIf="details['student_status']==2" class="badge badge-warning">Reserved</span>
                                        <span *ngIf="details['student_status']==5" class="badge badge-info">Present</span>
                                        <span *ngIf="details['student_status']==6" class="badge badge-default">Graduate</span>
                                        <span *ngIf="details['student_status']==10" class="badge badge-success">Tentative</span>
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['camp_name']}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['checkin_date'] | date : 'MMM dd'}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['countCamp']}}
                                    </td>
                                </tr>
                                <tr style="font-size:10pt;color: black;">
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td style="color:red"> TOTAL </td>
                                    <td style="color:green;font-weight:bolder;">
                                        {{o.totalSecondWk}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading="{{o.thirdWeek | date : 'MM-dd'}} ~ {{o.thirdWeekEnd | date : 'MM-dd'}}">
                        <table class="table table-bordered table-striped" style="width:100%; margin-bottom:0;font-size: 10pt;
                                height: calc( 88vh - 109px );overflow-y: auto;overflow-x: auto; display: block;">
                            <tbody style="text-align: center">
                                <tr style="background-color:lightblue;font-size:10pt;color: black;">
                                    <th style="text-align:center;width:100px;">Campus</th>
                                    <th style="text-align:center;width:70px;">Nationality</th>
                                    <th style="text-align:center;width:150px;">Status</th>
                                    <th style="text-align:center;width:165px;">Camp Name</th>
                                    <th style="text-align:center;width:165px;">Checkin</th>
                                    <th style="text-align:center;width:150px;">Total Students</th>
                                </tr>
                                <tr *ngFor="let details of o.listAgentsCampsThird" style="font-size:10pt;color: black;">
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['campus']}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['country_code']}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        <span *ngIf="details['student_status']==1" class="badge badge-primary">New</span>
                                        <span *ngIf="details['student_status']==2" class="badge badge-warning">Reserved</span>
                                        <span *ngIf="details['student_status']==5" class="badge badge-info">Present</span>
                                        <span *ngIf="details['student_status']==6" class="badge badge-default">Graduate</span>
                                        <span *ngIf="details['student_status']==10" class="badge badge-success">Tentative</span>
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['camp_name']}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['checkin_date'] | date : 'MMM dd'}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['countCamp']}}
                                    </td>
                                </tr>
                                <tr style="font-size:10pt;color: black;">
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td style="color:red"> TOTAL </td>
                                    <td style="color:green;font-weight:bolder;">
                                        {{o.totalThirdWk}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading="{{o.fourthWeek | date : 'MM-dd'}} ~ {{o.fourthWeekEnd | date : 'MM-dd'}}">
                        <table class="table table-bordered table-striped" style="width:100%; margin-bottom:0;font-size: 10pt;
                                height: calc( 88vh - 109px );overflow-y: auto;overflow-x: auto; display: block;">
                            <tbody style="text-align: center">
                                <tr style="background-color:lightblue;font-size:10pt;color: black;">
                                    <th style="text-align:center;width:100px;">Campus</th>
                                    <th style="text-align:center;width:70px;">Nationality</th>
                                    <th style="text-align:center;width:150px;">Status</th>
                                    <th style="text-align:center;width:165px;">Camp Name</th>
                                    <th style="text-align:center;width:165px;">Checkin</th>
                                    <th style="text-align:center;width:150px;">Total Students</th>
                                </tr>
                                <tr *ngFor="let details of o.listAgentsCampsFourth" style="font-size:10pt;color: black;">
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['campus']}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['country_code']}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        <span *ngIf="details['student_status']==1" class="badge badge-primary">New</span>
                                        <span *ngIf="details['student_status']==2" class="badge badge-warning">Reserved</span>
                                        <span *ngIf="details['student_status']==5" class="badge badge-info">Present</span>
                                        <span *ngIf="details['student_status']==6" class="badge badge-default">Graduate</span>
                                        <span *ngIf="details['student_status']==10" class="badge badge-success">Tentative</span>
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['camp_name']}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['checkin_date'] | date : 'MMM dd'}}
                                    </td>
                                    <td style="padding:1px 1px 1px 1px;text-align: center">
                                        {{details['countCamp']}}
                                    </td>
                                </tr>
                                <tr style="font-size:10pt;color: black;">
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td style="color:red"> TOTAL </td>
                                    <td style="color:green;font-weight:bolder;">
                                        {{o.totalFourthWk}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </tab>
                </tabset>
            </div>
        </div>
    </div>
</div>
<!-- Campus Booking Report list end-->

<!--edit Course Apply Modal start-->
<div bsModal #editCourseApplyModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="editCourseApplyModal"
     aria-labelledby="editCourseApplyModal" aria-hidden="true" style="font-family:Helvetica,Arial,serif;color:darkblue;max-width: 100%;">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleCourseModalLabel">Course Select: {{studentApply.apply_no?studentApply.apply_no:studentApply.id_number}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                        (click)="closeEditCourseApplyModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <tabset>
                    <tab heading='Course'>
                        <table class="table table-bordered">
                            <tr>
                                <th>Student Information</th>
                                <td colspan="4" style="text-align:center;font-size:11pt;">{{studentApply.passport_name?studentApply.passport_name:studentApply.student_name}}
                                    ({{studentApply.country_code}})&emsp;{{studentApply.sex===1?'M':'F'}}&emsp;&emsp;|&emsp;&emsp;
                                    {{studentApply.checkin_date | date: 'yyyy-MM-dd'}} ~ {{studentApply.checkout_date |
                                    date: 'yyyy-MM-dd'}}<br>
                                    {{studentApply.campus==='ITP'?'IT Park':'Sea Front'}}<br>
                                    <span *ngIf="courseList">
                                        Plan/Course:
                                        <span *ngFor="let a of courseList">
                                            <u>{{a.memo | slice:4:100}}</u><br>
                                        </span>
                                    </span>
                                </td>
                            </tr>
                        </table>
                        <table class="table table-bordered" style="margin-bottom:5px">
                            <tr>
                                <th>Date from</th>
                                <td style="width: 160px;">
                                    <div class="input-group input-form">
                                        <input class="form-control date-input" style="cursor:pointer;"
                                               [(ngModel)]="saveDataLoadEvent.selectCheckIn_date"
                                               ngx-mydatepicker name="mydate" #filterCourseFrom="ngx-mydatepicker"
                                               (click)="filterCourseFrom.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Date to</th>
                                <td style="width: 160px;">
                                    <div class="input-group input-form">
                                        <input class="form-control date-input" style="cursor:pointer;"
                                               [(ngModel)]="saveDataLoadEvent.selectCheckOut_date"
                                               ngx-mydatepicker name="mydate" #filterCourseTo="ngx-mydatepicker"
                                               (click)="filterCourseTo.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Building</th>
                                <td>
                                    <div *ngIf="saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date">
                                        <select style="width: 150px;font-size:10pt;" class="form-control" [(ngModel)]="selectDormBldg">
                                            <option value=1>IT Park</option>
                                            <option value=2>Sea Front</option>
                                        </select>
                                    </div>
                                </td>
                                <th>Course</th>
                                <td>
                                    <div *ngIf="saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date
                                    && (studentApply.country_code == 'JP')">
                                        <span>
                                            <span class="form-group">
                                                <select style="width: 180px;font-size:10pt;" class="form-control" [(ngModel)]="selectPlan" required>
                                                    <option value=1>STANDARD</option>
                                                    <option value=2>SUPERIOR</option>
                                                    <option value=3>LIGHT</option>
                                                    <!--<option value=4>SUPER SHORT LIGHT</option>
                                                    <option value=5>SUPER SHORT</option>-->
                                                    <option value=7>BUSINESS</option>
                                                    <option value=8>TOEIC<!-- W/OUT Guarantee--></option>
                                                    <!--<option value=9>TOEIC W/ Guarantee</option>-->
                                                    <option value=10>IELTS</option>
                                                    <!--<option value=11>FAMILY</option>-->
                                                    <option value=12>SPECIAL</option>
                                                    <option value=16>SUPER LIGHT</option>
                                                    <option value=99>INTERN</option>
                                                    <option *ngIf="studentApply.building_id == 2" value=14>Body Make ST</option>
                                                    <option *ngIf="studentApply.building_id == 2" value=15>Body Make HL</option>
                                                    <option value=-1>GUARDIAN</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                    <div *ngIf="saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date
                                    && (studentApply.country_code == 'IT' || studentApply.country_code == 'BH' || studentApply.country_code == 'BR'
                                    || studentApply.country_code == 'IR' || studentApply.country_code == 'KR' || studentApply.country_code == 'MY'
                                    || studentApply.country_code == 'RU' || studentApply.country_code == 'ARAB' || studentApply.country_code == 'SP'
                                    || studentApply.country_code == 'SW' || studentApply.country_code == 'TK' || studentApply.country_code == 'UAE'
                                    || studentApply.country_code == 'VN' || studentApply.country_code == 'Others' || studentApply.country_code == 'GUARD'
                                    || studentApply.country_code == 'MN' || studentApply.country_code == 'TH' || studentApply.country_code == 'EN')">
                                        <span>
                                            <span class="form-group">
                                                <select style="width: 145px;font-size:10pt;" class="form-control"
                                                        [(ngModel)]="selectPlan" required>
                                                    <option value=1>Standard</option>
                                                    <option value=2>Superior</option>
                                                    <option value=3>Light</option>
                                                    <option value=8>TOEIC</option>
                                                    <option value=12>IELTS (4 PLAN)</option>
                                                    <option value=13>IELTS (6 PLAN)</option>
                                                    <option value=7>Business</option>
                                                    <!--<option value=11>Family</option>-->
                                                    <option value=16>Super Light</option>
                                                    <option value=99>INTERN</option>
                                                    <option value=-1>GUARDIAN</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                    <div *ngIf="saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date
                                    && (studentApply.country_code == 'TW' || studentApply.country_code == 'CN')">
                                        <span>
                                            <span class="form-group">
                                                <select style="width: 145px;font-size:10pt;" class="form-control" [(ngModel)]="selectPlan" required>
                                                    <option value=1>Standard</option>
                                                    <option value=2>Superior</option>
                                                    <option value=3>Light</option>
                                                    <option value=8>TOEIC</option>
                                                    <option value=12>IELTS (4 PLAN)</option>
                                                    <option value=13>IELTS (6 PLAN)</option>
                                                    <option value=7>Business</option>
                                                    <!--<option value=11>Family</option>-->
                                                    <option value=16>Super Light</option>
                                                    <option value=99>INTERN</option>
                                                    <option value=-1>GUARDIAN</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </tab>
                    <tab heading="List">
                        <table style="height: calc( 80vh - 151px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:8pt;text-align: center" class="table table-bordered table-striped">
                            <thead class="thead-inverse">
                            <th style="text-align: center">ID</th>
                            <th style="text-align: center">Bldg</th>
                            <th style="text-align: center">Plan</th>
                            <th style="text-align: center">Date from</th>
                            <th style="text-align: center">Date to</th>
                            <th style="text-align: center">Memo</th>
                            <th style="text-align: center">Created by/at</th>
                            <th style="text-align: center">Actions</th>
                            </thead>
                            <tbody>
                            <tr *ngFor="let a of courseList">
                                <td style="width:50px;">{{a.id}}</td>
                                <td style="font-size:10pt;">{{a.bldg_id===1?'ITP':'SFC'}}</td>
                                <td style="width:100px;font-size:10pt;">{{a.course_name}}</td>
                                <td style="width:120px;font-size:9pt;">{{a.date_from | date: 'yyyy-MM-dd' }}</td>
                                <td style="width:120px;font-size:9pt;">{{a.date_to | date: 'yyyy-MM-dd'}}</td>
                                <td style="width:250px;">{{a.memo}}</td>
                                <td style="width:150px;"><b>{{a.created_by}}</b><br>({{a.created_at}})</td>
                                <td style="width:5px;">
                                    <button style="cursor:pointer" type="button" Title="Delete"
                                            (click)="removeCourse(a.id,studentApply.id)" [disabled]="processing">
                                        <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading="Logs">
                        <table style="height: calc( 80vh - 151px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:8pt;text-align: center" class="table table-bordered table-striped">
                            <thead class="thead-inverse">
                            <th style="text-align: center">Id</th>
                            <th style="text-align: center">User</th>
                            <th style="text-align: center">Action</th>
                            <th style="text-align: center">Course</th>
                            <th style="text-align: center">From</th>
                            <th style="text-align: center">To</th>
                            <th style="text-align: center">Date & time<br>of action</th>
                            </thead>
                            <tbody>
                            <tr *ngFor="let a of courseLogsList">
                                <td style="width:50px;">{{a.id}}</td>
                                <td style="font-size:10pt;width:100px;">{{a.user}}</td>
                                <td style="width:120px;font-size:9pt;">
                                    <span *ngIf="a.action == 'Add'" class="badge badge-success">ADD</span>
                                    <span *ngIf="a.action == 'Delete'" class="badge badge-danger">DELETE</span>
                                </td>
                                <td style="width:250px;font-size:9pt;">{{a.course}}</td>
                                <td style="width:100px;font-size:8pt;">{{a.start_date | date:'yyyy-MM-dd'}}</td>
                                <td style="width:100px;font-size:8pt;">{{a.end_date | date:'yyyy-MM-dd'}}</td>
                                <td style="width:250px;">{{a.created_at}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                </tabset>
            </div>
            <div class="modal-footer">
                <button *ngIf="selectPlan" style="cursor:pointer;" type="button" (click)="saveCourseSelection()" title="Save Course" [disabled]="processing">
                    <img width="40px" src="./assets/img/Save.svg"/>
                </button>
                <button style="cursor:pointer;" type="button" (click)="closeEditCourseApplyModal()" title="Exit">
                    <img width="40px" src="./assets/img/Close_round.svg"/>
                </button>
            </div>
        </div>
    </div>
</div>
<!--edit Course Apply Modal end-->

<!--edit Room Apply Modal start-->
<div bsModal #editRoomApplyModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="editRoomApplyModal"
     aria-labelledby="editRoomApplyModal" aria-hidden="true" style="font-family:Helvetica,Arial,serif;color:darkblue;max-width: 100%;">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleRoomModalLabel">Room Reservation: {{studentApply.apply_no?studentApply.apply_no:studentApply.id_number}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                        (click)="closeEditRoomApplyModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <tabset>
                    <tab heading='Reserve'>
                        <table class="table table-bordered">
                            <tr>
                                <th>Reservation information</th>
                                <td colspan="4" style="text-align:center;font-size:11pt;">{{studentApply.passport_name?studentApply.passport_name:studentApply.student_name}}
                                    ({{studentApply.country_code}})&emsp;{{studentApply.sex===1?'M':'F'}}&emsp;&emsp;|&emsp;&emsp;
                                    {{studentApply.checkin_date | date: 'yyyy-MM-dd'}} ~ {{studentApply.checkout_date |
                                    date: 'yyyy-MM-dd'}}<br>
                                    {{studentApply.campus==='ITP'?'IT Park':'Sea Front'}}&emsp;
                                    <span *ngIf="stayTypes">
                                        <span *ngFor="let stay of stayTypes">
                                            <span *ngIf='studentApply.accommodation_id1==stay.value'>
                                                {{stay.name}}&emsp;
                                            </span>
                                        </span>
                                    </span>
                                    <span *ngIf="studentApply.accommodation_id1 == '1' || studentApply.accommodation_id1 == '4'">
                                        <span *ngIf="roomTypes">
                                            <span *ngFor="let room of roomTypes">
                                                <span *ngIf='studentApply.room_id1==room.value' style="color: black">
                                                    {{room.name}}&emsp;
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                    <span *ngIf="studentApply.accommodation_id1 == '2'">
                                        <span *ngIf="roomTypesZ">
                                            <span *ngFor="let room of roomTypesZ">
                                                <span *ngIf='studentApply.room_id1==room.value' style="color: black">
                                                    {{room.name}}&emsp;
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                    <span *ngIf="studentApply.accommodation_id1 == '3'">
                                        <span *ngIf="roomTypesWF">
                                            <span *ngFor="let room of roomTypesWF">
                                                <span *ngIf='studentApply.room_id1==room.value' style="color: black">
                                                    {{room.name}}&emsp;
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                    <span *ngIf="studentApply.accommodation_id1 == '5'">
                                        <span *ngIf="roomTypesEX">
                                            <span *ngFor="let room of roomTypesEX">
                                                <span *ngIf='studentApply.room_id1==room.value' style="color: black">
                                                    {{room.name}}&emsp;
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                    <span *ngIf="studentApply.accommodation_id1 == '6'">
                                        <span *ngIf="roomTypesDX">
                                            <span *ngFor="let room of roomTypesDX">
                                                <span *ngIf='studentApply.room_id1==room.value' style="color: black">
                                                    {{room.name}}&emsp;
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th>Reserved Rooms-Hotels-Walkin:</th>
                                <td colspan="4" style="text-align:center;font-size:11pt;">
                                    Rooms:
                                    <u>{{studentApply.dormitory_room_name?studentApply.dormitory_room_name:'[No-Room]'}}</u>
                                    <br>
                                    Hotels/Walkin:
                                    <u>{{studentApply.hotel_name?studentApply.hotel_name:'[No-Hotel-Walkin]'}}</u>
                                </td>
                            </tr>
                        </table>
                        <table class="table table-bordered" style="margin-bottom:5px">
                            <tr>
                                <th>Check-in</th>
                                <td style="width: 160px;">
                                    <div class="input-group input-form">
                                        <input class="form-control date-input" style="cursor:pointer;"
                                               [(ngModel)]="saveDataLoadEvent.selectCheckIn_date"
                                               ngx-mydatepicker name="mydate" #filterDormCheckin="ngx-mydatepicker"
                                               (click)="filterDormCheckin.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Check-out</th>
                                <td style="width: 160px;">
                                    <div class="input-group input-form">
                                        <input class="form-control date-input" style="cursor:pointer;"
                                               [(ngModel)]="saveDataLoadEvent.selectCheckOut_date"
                                               ngx-mydatepicker name="mydate" #filterDormCheckout="ngx-mydatepicker"
                                               (click)="filterDormCheckout.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>School building</th>
                                <td>
                                    <div *ngIf="saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date">
                                        <select style="width: 150px;font-size:10pt;"
                                                (change)="onChangeSchoolSelection($event)" class="form-control" [(ngModel)]="selectDormBldg">
                                            <option [ngValue]=1>IT Park</option>
                                            <option [ngValue]=2>Sea Front</option>
                                        </select>
                                    </div>
                                </td>
                                <th>Accommodation</th>
                                <td *ngIf="selectDormBldg == 1">
                                    <div *ngIf="saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date">
                                        <span>
                                            <span class="form-group">
                                                <select style="width: 145px;font-size:10pt;" class="form-control"
                                                        (change)="onChangeDormitorySelection($event)" [(ngModel)]="selectAccommodation" required>
                                                    <option *ngFor="let stay of stayTypesItp"
                                                            [ngValue]="stay.value"> {{stay.name}} </option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                                <td *ngIf="selectDormBldg == 2">
                                    <div *ngIf="saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date">
                                        <span>
                                            <span class="form-group">
                                                <select style="width: 145px;font-size:10pt;" class="form-control"
                                                        (change)="onChangeDormitorySelection($event)" [(ngModel)]="selectAccommodation" required>
                                                    <option *ngFor="let stay of stayTypesSfc"
                                                            [ngValue]="stay.value"> {{stay.name}} </option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                            </tr>
                            <tr *ngIf="selectDormBldg && selectAccommodation && saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date">
                                <th>Room type</th>
                                <td *ngIf="selectAccommodation != '9'">
                                    <div style="float:left" *ngIf="selectAccommodation != '2' && selectAccommodation != '3' && selectAccommodation != '7' && selectAccommodation != '8'">
                                        <span *ngIf="roomTypes">
                                            <span class="form-group">
                                                <select style="width: 100px;font-size: 10pt;"
                                                        class="form-control" (change)="onChangeDormitorySelection($event)"
                                                        name="room" [(ngModel)]="selectDormRoomType" required>
                                                    <option *ngFor="let room of roomTypes"
                                                            [ngValue]="room.value">{{room.name}}
                                                    </option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                    <div style="float:left" *ngIf="selectAccommodation == '2' || selectAccommodation == '3'">
                                        <span *ngIf="roomTypes">
                                            <span class="form-group">
                                                <select style="width: 100px;font-size: 10pt;"
                                                        class="form-control" (change)="onChangeDormitorySelection($event)"
                                                        name="room" [(ngModel)]="selectDormRoomType" required>
                                                    <option [ngValue]="3">Triple</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                    <div style="float:left" *ngIf="selectAccommodation == '7' || selectAccommodation == '8'">
                                        <span *ngIf="roomTypes">
                                            <span class="form-group">
                                                <select style="width: 100px;font-size: 10pt;"
                                                        class="form-control" (change)="onChangeDormitorySelection($event)"
                                                        name="room" [(ngModel)]="selectDormRoomType" required>
                                                    <option [ngValue]="1">Single</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                                <td *ngIf="selectAccommodation == '9'">
                                    <div style="float:left">
                                        <span *ngIf="roomTypes">
                                            <span class="form-group">
                                                <select style="width: 100px;font-size: 10pt;"
                                                        class="form-control" (change)="onChangeDormitorySelection($event)"
                                                        name="room" [(ngModel)]="selectDormRoomType" required>
                                                    <option [ngValue]="4">Quad</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                                <th>Visitor type</th>
                                <td>
                                    <div style="float:left">
                                        <span *ngIf="selectDormRoomType">
                                            <span class="form-group">
                                                <select style="width: 130px;font-size: 8pt;"
                                                        class="form-control" (change)="onChangeDormitorySelection($event)"
                                                        name="room" [(ngModel)]="selectVisitorType" required>
                                                    <option value=1>STUDENT</option>
                                                    <option value=2>GUARDIAN</option>
                                                    <option value=3>INTERN</option>
                                                    <option value=4>STAFF</option>
                                                    <option value=5>GUEST</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                                <td align="center" *ngIf="selectDormBldg && selectDormRoomType && selectAccommodation && (selectAccommodation != '1' && selectAccommodation != '4' && selectAccommodation != '5' && selectAccommodation != '6') &&
                                            saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date && selectVisitorType">
                                    <img (click)="loadRoomList(studentApply.id)" width="40" height="40" src="assets/img/Search.svg" style="cursor:pointer;" title="Find!">
                                </td>
                            </tr>
                            <tr *ngIf="selectDormBldg && selectAccommodation && saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date">
                                <th *ngIf="selectAccommodation == '1' || selectAccommodation == '4' || selectAccommodation == '5' || selectAccommodation == '6'">Filter</th>
                                <td *ngIf="selectAccommodation == '1' || selectAccommodation == '4' || selectAccommodation == '5' || selectAccommodation == '6'">
                                    <div style="float:left">
                                        <span *ngIf="selectVisitorType">
                                            <span class="form-group">
                                                <select style="width: 130px;font-size: 8pt;"
                                                        class="form-control" (change)="onChangeDormitorySelection($event)"
                                                        name="room" [(ngModel)]="selectSearchFilter" required>
                                                    <option value=1>FIXED</option>
                                                    <option value=2>FLEXIBLE</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                                <td align="center" *ngIf="selectDormBldg && selectDormRoomType && (selectAccommodation == '1' || selectAccommodation == '4' || selectAccommodation == '5' || selectAccommodation == '6') &&
                                            saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date && selectVisitorType && selectSearchFilter">
                                    <img (click)="loadRoomList(studentApply.id)" width="40" height="40" src="assets/img/Search.svg" style="cursor:pointer;" title="Find!">
                                </td>
                            </tr>
                            <!--<tr *ngIf="(selectAccommodation == '2' || selectAccommodation == '3' || selectAccommodation == '7' || selectAccommodation == '8') &&
                                selectDormBldg && selectAccommodation && saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date">
                                <th>Visitor type (Hotel&Walkin)</th>
                                <td>
                                    <div style="float:left">
                                        <span>
                                            <span class="form-group">
                                                <select style="width: 130px;font-size: 8pt;"
                                                        class="form-control" (change)="onChangeDormitorySelection($event)"
                                                        name="room" [(ngModel)]="selectVisitorType" required>
                                                    <option value=1>STUDENT</option>
                                                    <option value=2>GUARDIAN</option>
                                                    <option value=3>INTERN</option>
                                                    <option value=4>STAFF</option>
                                                    <option value=5>GUEST</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                                <td align="center">
                                    <span *ngIf="selectDormBldg && selectAccommodation &&
                                            saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date && selectVisitorType">
                                        <img (click)="loadRoomList(studentApply.id)" width="40" height="40" src="assets/img/Search.svg"
                                             style="cursor:pointer;" title="Find!">
                                    </span>
                                </td>
                            </tr>-->
                        </table>
                        <table class="table table-bordered table-striped">
                            <!--<tr *ngIf="selectVisitorType == 1 && countRestrictStudentDorm && (selectAccommodation != '2' && selectAccommodation != '3' && selectAccommodation != '7' && selectAccommodation != '8')">
                                <td style="color:red;font-size:10pt;text-align:center">
                                    There is a total number(#)
                                    <span style="font-size:12pt;text-decoration:underline">
                                        <b>{{countRestrictStudentDorm}}</b>
                                    </span>
                                    of STUDENTS in this selection of DORMITORY<br>
                                    *Note: If STUDENT exceeds to 280 per selection, you cannot book anymore!
                                </td>
                            </tr>-->
                            <!--<tr *ngIf="selectVisitorType == 1 && countRestrictStudentOthers && (selectAccommodation == '2' || selectAccommodation == '3')">
                                <td style="color:red;font-size:10pt;text-align:center">
                                    There is a total number(#)
                                    <span style="font-size:12pt;text-decoration:underline">
                                        <b>{{countRestrictStudentOthers}}</b>
                                    </span>
                                    of STUDENTS in this selection of HOTEL<br>
                                    *Note: If STUDENT exceeds to 50 per selection, you cannot book anymore!
                                </td>
                            </tr>-->
                            <!--<tr *ngIf="selectVisitorType == 1 && countRestrictStudentWalkin && (selectAccommodation == '7' || selectAccommodation == '8')">
                                <td style="color:red;font-size:10pt;text-align:center">
                                    There is a total number(#)
                                    <span style="font-size:12pt;text-decoration:underline">
                                        <b>{{countRestrictStudentWalkin}}</b>
                                    </span>
                                    of STUDENTS in this selection of WALK-IN<br>
                                    *Note: If STUDENT exceeds to 30 per selection, you cannot book anymore!
                                </td>
                            </tr>-->
                        </table>
                        <table class="table table-bordered" style="margin-bottom:2px;" >
                            <tr *ngIf="availableRoomList" style="text-align:center;">
                                <td><span style="color:darkblue;font-weight:bold;font-size:14px;">Select</span></td>
                                <td><span style="color:green;font-weight:bold;font-size:14px;">Name of the Room</span></td>
                                <td><span style="color:green;font-weight:bold;font-size:14px;">Bed #</span></td>
                                <td><span style="color:green;font-weight:bold;font-size:14px;">Type of Room</span></td>
                            </tr>
                        </table>
                        <table *ngIf="availableRoomList" class="table table-bordered table-striped" >
                            <tbody style="height:190px;overflow-y: auto;overflow-x:hidden;display: block; text-align:center;cursor:pointer;">
                            <tr *ngFor="let o of availableRoomList;">
                                <td style="width:126px">
                                    <input type="radio" name="optradio" [(ngModel)]="dormitory_room_id" class="form-control"
                                           [value]="o.id">
                                </td>
                                <td style="width:291px">{{o.dormitory_room_name}}</td>
                                <td style="width:125px">#{{o.name}}</td>
                                <td style="width:207px">{{o.room_type | uppercase}}</td>
                            </tr>
                            </tbody>
                        </table>
                        <table *ngIf="availableRoomList" class="table table-bordered table-striped">
                            <tr *ngIf="availableRoomList">
                                <td *ngIf="studentApply.student_status != '10'" style="font-family:Helvetica,Arial,serif;float:right;font-size:10pt;">
                                    Reserved <img src="./assets/img/Reserved_s.svg"/>
                                    <input type="radio" name="reserveId" [(ngModel)]="reserveStatusId" class="form-control" [value]="3">
                                </td>
                                <td *ngIf="studentApply.student_status == '10'" style="font-family:Helvetica,Arial,serif;float:right;font-size:10pt;"><!--10 Tentative Status-->
                                    Tentative <img src="./assets/img/Tentative_s.svg"/>
                                    <input type="radio" name="reserveId" [(ngModel)]="reserveStatusId" class="form-control" [value]="2">
                                </td>
                                <td style="font-family:Helvetica,Arial,serif;float:right;font-size:10pt;">
                                    Memo <input [(ngModel)]="roomMemo" placeholder="Additional Memo"/>
                                </td>
                            </tr>
                        </table>
                    </tab>
                    <tab heading="Dormitory">
                        <table style="height: calc( 90vh - 161px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:8pt;text-align: center" class="table table-bordered table-striped">
                            <thead class="thead-inverse">
                            <th style="text-align: center">Bed id</th>
                            <th style="text-align: center">Room name<br>(type)</th>
                            <th style="text-align: center">Status</th>
                            <th style="text-align: center">Date from</th>
                            <th style="text-align: center">Date to</th>
                            <th style="text-align: center">Memo/<br>Visitor type</th>
                            <th style="text-align: center">Created by/at</th>
                            <th style="text-align: center">Actions</th>
                            </thead>
                            <tbody>
                            <tr *ngFor="let g of reservedRoomsList">
                                <td style="width:80px;">{{g.bed_id}}</td>
                                <td style="width:90px;font-size:10pt;">{{g.room_name}}<br>({{g.room_type | uppercase}})</td>
                                <td style="width:80px;font-size:9pt;">
                                    <span *ngIf="g.reservation_status_id==2">
                                        Tentative <img src="./assets/img/Tentative_s.svg"/>
                                    </span>
                                    <span *ngIf="g.reservation_status_id==3">
                                        Reserved <img src="./assets/img/Reserved_s.svg"/>
                                    </span>
                                    <span *ngIf="g.reservation_status_id==4">
                                        Present <img width="21px" height="21px" src="./assets/img/Present.svg"/>
                                    </span>
                                </td>
                                <td style="width:120px;font-size:8pt;">{{g.date_from | date: 'yyyy-MM-dd' }}</td>
                                <td style="width:120px;font-size:8pt;">{{g.date_to | date: 'yyyy-MM-dd'}}</td>
                                <td style="width:240px;">
                                    {{g.memo}}<br>
                                    <span style="text-decoration:underline;">
                                        ( <span *ngIf="g.visitor_type == 1">STUDENT</span>
                                        <span *ngIf="g.visitor_type == 2">GUARDIAN</span>
                                        <span *ngIf="g.visitor_type == 3">INTERN</span>
                                        <span *ngIf="g.visitor_type == 4">STAFF</span>
                                        <span *ngIf="g.visitor_type == 5">GUEST</span> )
                                    </span>
                                </td>
                                <td style="width:150px;"><b>{{g.created_by}}</b><br>({{g.created_at}})</td>
                                <td style="width:120px;">
                                    <span *ngIf="g.reservation_status_id==3">
                                        <button style="cursor:pointer" type="button"
                                                [disabled]="false" (click)="changeToPresentStatus(g.id)">
                                            <img title="Present" width="15px" height="20px" src="./assets/img/Present.svg"/>
                                        </button>
                                    </span>
                                    <span *ngIf="g.reservation_status_id==2">
                                        <button style="cursor:pointer" type="button"
                                                [disabled]="false" (click)="changeToReservedStatus(g.id)">
                                            <img title="Reserved" width="15px" height="20px" src="./assets/img/Reserved.svg"/>
                                        </button>
                                    </span>
                                    <button style="cursor:pointer" type="button"
                                            (click)="removeRoomReserved(g.room_name,g.room_type,g.id,studentApply.id)" [disabled]="processing">
                                        <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading="Hotels">
                        <table style="height: calc( 90vh - 161px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:8pt;text-align: center" class="table table-bordered table-striped">
                            <thead class="thead-inverse">
                            <th style="text-align: center">Bed id</th>
                            <th style="text-align: center">Room name<br>(type)</th>
                            <th style="text-align: center">Status</th>
                            <th style="text-align: center">Date from</th>
                            <th style="text-align: center">Date to</th>
                            <th style="text-align: center">Memo/<br>Visitor type</th>
                            <th style="text-align: center">Created by/at</th>
                            <th style="text-align: center">Actions</th>
                            </thead>
                            <tbody>
                            <tr *ngFor="let g of reservedHotelsRoomsList">
                                <td style="width:80px;">{{g.hotels_bed_id}}</td>
                                <td style="width:90px;font-size:10pt;">{{g.room_name}}<br>({{g.room_type | uppercase}})</td>
                                <td style="width:80px;font-size:9pt;">
                                    <span *ngIf="g.reservation_status_id==2">
                                        Tentative <img src="./assets/img/Tentative_s.svg"/>
                                    </span>
                                    <span *ngIf="g.reservation_status_id==3">
                                        Reserved <img src="./assets/img/Reserved_s.svg"/>
                                    </span>
                                    <span *ngIf="g.reservation_status_id==4">
                                        Present <img width="21px" height="21px" src="./assets/img/Present.svg"/>
                                    </span>
                                </td>
                                <td style="width:120px;font-size:8pt;">{{g.date_from | date: 'yyyy-MM-dd' }}</td>
                                <td style="width:120px;font-size:8pt;">{{g.date_to | date: 'yyyy-MM-dd'}}</td>
                                <td style="width:240px;">
                                    {{g.memo}}<br>
                                    <span style="text-decoration:underline;">
                                        ( <span *ngIf="g.visitor_type == 1">STUDENT</span>
                                        <span *ngIf="g.visitor_type == 2">GUARDIAN</span>
                                        <span *ngIf="g.visitor_type == 3">INTERN</span>
                                        <span *ngIf="g.visitor_type == 4">STAFF</span>
                                        <span *ngIf="g.visitor_type == 5">GUEST</span> )
                                    </span>
                                </td>
                                <td style="width:150px;"><b>{{g.created_by}}</b><br>({{g.created_at}})</td>
                                <td style="width:120px;">
                                    <span *ngIf="g.reservation_status_id==3">
                                        <button style="cursor:pointer" type="button"
                                                [disabled]="false" (click)="changeToHotelsPresentStatus(g.id)">
                                            <img title="Present" width="15px" height="20px" src="./assets/img/Present.svg"/>
                                        </button>
                                    </span>
                                    <span *ngIf="g.reservation_status_id==2">
                                        <button style="cursor:pointer" type="button"
                                                [disabled]="false" (click)="changeToHotelsReservedStatus(g.id)">
                                            <img title="Reserved" width="15px" height="20px" src="./assets/img/Reserved.svg"/>
                                        </button>
                                    </span>
                                    <button style="cursor:pointer" type="button"
                                            (click)="removeHotelsRoomReserved(g.room_name,g.room_type,g.id,studentApply.id)" [disabled]="processing">
                                        <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading="Condos">
                        <table style="height: calc( 90vh - 161px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:8pt;text-align: center" class="table table-bordered table-striped">
                            <thead class="thead-inverse">
                            <th style="text-align: center">Bed id</th>
                            <th style="text-align: center">Room name<br>(type)</th>
                            <th style="text-align: center">Status</th>
                            <th style="text-align: center">Date from</th>
                            <th style="text-align: center">Date to</th>
                            <th style="text-align: center">Memo/<br>Visitor type</th>
                            <th style="text-align: center">Created by/at</th>
                            <th style="text-align: center">Actions</th>
                            </thead>
                            <tbody>
                            <tr *ngFor="let g of reservedCondoRoomsList">
                                <td style="width:80px;">{{g.condo_bed_id}}</td>
                                <td style="width:90px;font-size:10pt;">{{g.room_name}}<br>({{g.room_type | uppercase}})</td>
                                <td style="width:80px;font-size:9pt;">
                                    <span *ngIf="g.reservation_status_id==2">
                                        Tentative <img src="./assets/img/Tentative_s.svg"/>
                                    </span>
                                    <span *ngIf="g.reservation_status_id==3">
                                        Reserved <img src="./assets/img/Reserved_s.svg"/>
                                    </span>
                                    <span *ngIf="g.reservation_status_id==4">
                                        Present <img width="21px" height="21px" src="./assets/img/Present.svg"/>
                                    </span>
                                </td>
                                <td style="width:120px;font-size:8pt;">{{g.date_from | date: 'yyyy-MM-dd' }}</td>
                                <td style="width:120px;font-size:8pt;">{{g.date_to | date: 'yyyy-MM-dd'}}</td>
                                <td style="width:240px;">
                                    {{g.memo}}<br>
                                    <span style="text-decoration:underline;">
                                        ( <span *ngIf="g.visitor_type == 1">STUDENT</span>
                                        <span *ngIf="g.visitor_type == 2">GUARDIAN</span>
                                        <span *ngIf="g.visitor_type == 3">INTERN</span>
                                        <span *ngIf="g.visitor_type == 4">STAFF</span>
                                        <span *ngIf="g.visitor_type == 5">GUEST</span> )
                                    </span>
                                </td>
                                <td style="width:150px;"><b>{{g.created_by}}</b><br>({{g.created_at}})</td>
                                <td style="width:120px;">
                                    <span *ngIf="g.reservation_status_id==3">
                                        <button style="cursor:pointer" type="button"
                                                [disabled]="false" (click)="changeToCondoPresentStatus(g.id)">
                                            <img title="Present" width="15px" height="20px" src="./assets/img/Present.svg"/>
                                        </button>
                                    </span>
                                    <span *ngIf="g.reservation_status_id==2">
                                        <button style="cursor:pointer" type="button"
                                                [disabled]="false" (click)="changeToCondoReservedStatus(g.id)">
                                            <img title="Reserved" width="15px" height="20px" src="./assets/img/Reserved.svg"/>
                                        </button>
                                    </span>
                                    <button style="cursor:pointer" type="button"
                                            (click)="removeCondoRoomReserved(g.room_name,g.room_type,g.id,studentApply.id)" [disabled]="processing">
                                        <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading="Walk-ins">
                        <table style="height: calc( 90vh - 161px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:8pt;text-align: center" class="table table-bordered table-striped">
                            <thead class="thead-inverse">
                            <th style="text-align: center">Bed id</th>
                            <th style="text-align: center">Room name<br>(type)</th>
                            <th style="text-align: center">Status</th>
                            <th style="text-align: center">Date from</th>
                            <th style="text-align: center">Date to</th>
                            <th style="text-align: center">Memo/<br>Visitor type</th>
                            <th style="text-align: center">Created by/at</th>
                            <th style="text-align: center">Actions</th>
                            </thead>
                            <tbody>
                            <tr *ngFor="let g of reservedWalkinRoomsList">
                                <td style="width:80px;">{{g.walkin_bed_id}}</td>
                                <td style="width:90px;font-size:10pt;">{{g.room_name}}<br>({{g.room_type | uppercase}})</td>
                                <td style="width:80px;font-size:9pt;">
                                    <span *ngIf="g.reservation_status_id==2">
                                        Tentative <img src="./assets/img/Tentative_s.svg"/>
                                    </span>
                                    <span *ngIf="g.reservation_status_id==3">
                                        Reserved <img src="./assets/img/Reserved_s.svg"/>
                                    </span>
                                    <span *ngIf="g.reservation_status_id==4">
                                        Present <img width="21px" height="21px" src="./assets/img/Present.svg"/>
                                    </span>
                                </td>
                                <td style="width:120px;font-size:8pt;">{{g.date_from | date: 'yyyy-MM-dd' }}</td>
                                <td style="width:120px;font-size:8pt;">{{g.date_to | date: 'yyyy-MM-dd'}}</td>
                                <td style="width:240px;">
                                    {{g.memo}}<br>
                                    <span style="text-decoration:underline;">
                                        ( <span *ngIf="g.visitor_type == 1">STUDENT</span>
                                        <span *ngIf="g.visitor_type == 2">GUARDIAN</span>
                                        <span *ngIf="g.visitor_type == 3">INTERN</span>
                                        <span *ngIf="g.visitor_type == 4">STAFF</span>
                                        <span *ngIf="g.visitor_type == 5">GUEST</span> )
                                    </span>
                                </td>
                                <td style="width:150px;"><b>{{g.created_by}}</b><br>({{g.created_at}})</td>
                                <td style="width:120px;">
                                    <span *ngIf="g.reservation_status_id==3">
                                        <button style="cursor:pointer" type="button"
                                                [disabled]="false" (click)="changeToWalkinPresentStatus(g.id)">
                                            <img title="Present" width="15px" height="20px" src="./assets/img/Present.svg"/>
                                        </button>
                                    </span>
                                    <span *ngIf="g.reservation_status_id==2">
                                        <button style="cursor:pointer" type="button"
                                                [disabled]="false" (click)="changeToWalkinReservedStatus(g.id)">
                                            <img title="Reserved" width="15px" height="20px" src="./assets/img/Reserved.svg"/>
                                        </button>
                                    </span>
                                    <button style="cursor:pointer" type="button"
                                            (click)="removeWalkinRoomReserved(g.room_name,g.room_type,g.id,studentApply.id)" [disabled]="processing">
                                        <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading="Logs">
                        <table style="height: calc( 90vh - 161px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:8pt;text-align: center" class="table table-bordered table-striped">
                            <thead class="thead-inverse">
                            <th style="text-align: center">Id</th>
                            <th style="text-align: center">User</th>
                            <th style="text-align: center">Action</th>
                            <th style="text-align: center">Campus</th>
                            <th style="text-align: center">Dormitory/<br>Accommodation</th>
                            <th style="text-align: center">From</th>
                            <th style="text-align: center">To</th>
                            <th style="text-align: center">Date & time<br>of action</th>
                            </thead>
                            <tbody>
                            <tr *ngFor="let a of reservedRoomsLogs">
                                <td style="width:50px;">{{a.id}}</td>
                                <td style="font-size:10pt;width:100px;">{{a.user}}</td>
                                <td style="width:120px;font-size:9pt;">
                                    <span *ngIf="a.action == 'Add'" class="badge badge-success">ADD</span>
                                    <span *ngIf="a.action == 'Delete'" class="badge badge-danger">DELETE</span>
                                </td>
                                <td style="width:50px;font-size:9pt;">{{a.bldg}}</td>
                                <td style="width:200px;font-size:9pt;">{{a.room}}</td>
                                <td style="width:120px;font-size:8pt;">{{a.start_date | date:'yyyy-MM-dd'}}</td>
                                <td style="width:120px;font-size:8pt;">{{a.end_date | date:'yyyy-MM-dd'}}</td>
                                <td style="width:250px;">{{a.created_at}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                </tabset>
            </div>
            <div class="modal-footer">
                <span *ngIf="dormitory_room_id && reserveStatusId && selectVisitorType">
                    <!--<img style="cursor:pointer;" (click)="saveRoomSelection()" title="Save Room"
                         *ngIf="countRestrictStudentDorm < 280" width="40px" src="./assets/img/Save.svg"/>
                    <img style="cursor:pointer;" (click)="saveRoomSelection()" title="Save Room"
                         *ngIf="selectVisitorType != 1 && countRestrictStudentDorm >= 280" width="40px" src="./assets/img/Save.svg"/>-->
                     <button style="cursor:pointer;" type="button" (click)="saveRoomSelection()" title="Save Room" [disabled]="processing">
                         <img width="40px" src="./assets/img/Save.svg"/>
                     </button>
                </span>
                <!--<span *ngIf="(selectAccommodation == '2' || selectAccommodation == '3') && selectVisitorType && countRestrictStudentOthers">
                    &lt;!&ndash;<img style="cursor:pointer;" (click)="saveHotelSelection()" title="Save Hotel"
                         *ngIf="countRestrictStudentOthers < 50" width="40px" src="./assets/img/Save.svg"/>
                    <img style="cursor:pointer;" (click)="saveHotelSelection()" title="Save Hotel"
                         *ngIf="selectVisitorType != 1 && countRestrictStudentOthers >= 50" width="40px" src="./assets/img/Save.svg"/>&ndash;&gt;
                    <img style="cursor:pointer;" (click)="saveHotelSelection()" title="Save Hotel" width="40px" src="./assets/img/Save.svg"/>
                </span>
                <span *ngIf="(selectAccommodation == '7' || selectAccommodation == '8') && selectVisitorType && countRestrictStudentWalkin">
                    &lt;!&ndash;<img style="cursor:pointer;" (click)="saveRoomSelection()" title="Save Walk-in"
                         *ngIf="countRestrictStudentWalkin < 30" width="40px" src="./assets/img/Save.svg"/>
                    <img style="cursor:pointer;" (click)="saveRoomSelection()" title="Save Walk-in"
                         *ngIf="selectVisitorType != 1 && countRestrictStudentWalkin >= 30" width="40px" src="./assets/img/Save.svg"/>&ndash;&gt;
                    <img style="cursor:pointer;" (click)="saveRoomSelection()" title="Save Walk-in" width="40px" src="./assets/img/Save.svg"/>
                </span>
                &lt;!&ndash;NO RESERVATIONS YET&ndash;&gt;
                <span *ngIf="dormitory_room_id && reserveStatusId && selectVisitorType && countRestrictStudentDorm == 0">
                    &lt;!&ndash;<img style="cursor:pointer;" (click)="saveRoomSelection()" title="Save Room"
                         *ngIf="countRestrictStudentDorm < 280" width="40px" src="./assets/img/Save.svg"/>
                    <img style="cursor:pointer;" (click)="saveRoomSelection()" title="Save Room"
                         *ngIf="selectVisitorType != 1 && countRestrictStudentDorm >= 280" width="40px" src="./assets/img/Save.svg"/>&ndash;&gt;
                    <img style="cursor:pointer;" (click)="saveRoomSelection()" title="Save Room" width="40px" src="./assets/img/Save.svg"/>
                </span>
                <span *ngIf="(selectAccommodation == '2' || selectAccommodation == '3') && selectVisitorType && countRestrictStudentOthers == 0">
                    &lt;!&ndash;<img style="cursor:pointer;" (click)="saveHotelSelection()" title="Save Hotel"
                         *ngIf="countRestrictStudentOthers < 50" width="40px" src="./assets/img/Save.svg"/>
                    <img style="cursor:pointer;" (click)="saveHotelSelection()" title="Save Hotel"
                         *ngIf="selectVisitorType != 1 && countRestrictStudentOthers >= 50" width="40px" src="./assets/img/Save.svg"/>&ndash;&gt;
                    <img style="cursor:pointer;" (click)="saveHotelSelection()" title="Save Hotel" width="40px" src="./assets/img/Save.svg"/>
                </span>
                <span *ngIf="(selectAccommodation == '7' || selectAccommodation == '8') && selectVisitorType && countRestrictStudentWalkin == 0">
                    &lt;!&ndash;<img style="cursor:pointer;" (click)="saveRoomSelection()" title="Save Walk-in"
                         *ngIf="countRestrictStudentWalkin < 30" width="40px" src="./assets/img/Save.svg"/>
                    <img style="cursor:pointer;" (click)="saveRoomSelection()" title="Save Walk-in"
                         *ngIf="selectVisitorType != 1 && countRestrictStudentWalkin >= 30" width="40px" src="./assets/img/Save.svg"/>&ndash;&gt;
                    <img style="cursor:pointer;" (click)="saveRoomSelection()" title="Save Walk-in" width="40px" src="./assets/img/Save.svg"/>
                </span>-->
                <button style="cursor:pointer;" type="button" (click)="closeEditRoomApplyModal()" title="Exit" [disabled]="processing">
                    <img width="40px" src="./assets/img/Close_round.svg"/>
                </button>
            </div>
        </div>
    </div>
</div>
<!--edit Room Apply Modal end-->

<!--edit Apply Modal start-->
<div bsModal #editApplyModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="editApplyModal"
     aria-labelledby="editApplyModal" aria-hidden="true" style="max-width: 100%;font-family:Helvetica,Arial,serif;color:darkblue">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">
                    Edit: {{studentApply.apply_no?studentApply.apply_no:studentApply.id_number}}
                    Plan:
                    <span *ngIf="studentApply.plan_id">
                        <span> {{studentApply.course}}</span>
                    </span>
                    <span *ngIf="!studentApply.plan_id">
                        <span> {{studentApply.course}}</span>
                    </span>
                    <b></b>
                </h5>
                <button style="cursor:pointer" type="button" class="close" data-dismiss="modal" aria-label="Close"
                        (click)="editApplyModal.hide()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <tabset>
                    <tab heading='Basic'>
                        <table class="table table-striped">
                            <tbody style="height:430px;overflow-y: auto;overflow-x: hidden; display: block; text-align:left;
                            font-size: 12pt">
                            <tr>
                                <th>ID No.</th>
                                <td>
                                    <input [(ngModel)]="studentApply.id_number" placeholder="Id no"/>
                                </td>
                                <th>Visit type</th>
                                <td>
                                    <span class="form-group">
                                        <select style="width: 140px;" class="form-control" name="visitType" [(ngModel)]="studentApply.visit_id" required>
                                            <option value=1>STUDENT</option>
                                            <option value=2>GUARDIAN</option>
                                            <option value=3>INTERN</option>
                                            <option value=4>STAFF</option>
                                            <option value=5>GUEST</option>
                                        </select>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th>Student name</th>
                                <td><input [(ngModel)]="studentApply.student_name" placeholder="Student name"/></td>
                                <th>Student Status</th>
                                <td>
                                    <div style="float:left;width: 200px;">
                                            <span *ngIf="studentStatus">
                                                <span class="form-group">
                                                    <select class="form-control"
                                                            name="studentStatus"
                                                            [(ngModel)]="studentApply.student_status" required>
                                                    <option *ngFor="let status of studentStatus" [ngValue]="status.id"> {{status.name}} </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Passport name</th>
                                <td><input [(ngModel)]="studentApply.passport_name" placeholder="Passport name"/></td>
                                <th>Passport number</th>
                                <td><input [(ngModel)]="studentApply.passport_id" placeholder="Passport number"/></td>
                            </tr>
                            <tr>
                                <th>Nationality [code]</th>
                                <td>
                                    <div style="float:left">{{studentApply.nationality}}</div>
                                    <div style="float:right">
                                            <span *ngIf="countryCodes">
                                                <span class="form-group">
                                                  <select style="width: 140px;" class="form-control" name="ccodes"
                                                          [(ngModel)]="studentApply.country_code" required>
                                                    <option *ngFor="let c of countryCodes" [ngValue]="c.value"> [{{c.value}}] {{c.name}} </option>
                                                  </select>
                                                </span>
                                            </span>
                                    </div>
                                </td>
                                <th>Gender</th>
                                <td>
                                    <span class="form-group">
                                        <select style="width: 140px;" class="form-control" name="gendercode"
                                                [(ngModel)]="studentApply.sex" required>
                                            <option value=1>Male</option>
                                            <option value=2>Female</option>
                                        </select>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th>Birthday</th>
                                <td>
                                    <div class="input-group input-form">
                                        <input style="width: 110px;" class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.birthday_date" placeholder="Birthdate"
                                               ngx-mydatepicker name="mydate" #filterBirthdate="ngx-mydatepicker"
                                               (click)="filterBirthdate.toggleCalendar()"
                                               [options]="myDatePickerOptions" readonly/>
                                    </div>
                                </td>
                                <th>Age</th>
                                <td>{{studentApply.age}}</td>
                            </tr>
                            <tr>
                                <th>Course</th>
                                <td style="width:150px;">
                                    <input [(ngModel)]="studentApply.course" placeholder="course"/>
                                </td>
                                <th>Campus</th>
                                <td>
                                    <div style="float:left">
                                            <span *ngIf="campusCodes">
                                                <span class="form-group">
                                                    <select style="width: 80px;" class="form-control" name="campcodes"
                                                            [(ngModel)]="studentApply.campus" required>
                                                        <option *ngFor="let camp of campusCodes"
                                                                [ngValue]="camp.value"> {{camp.value}} </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Skype</th>
                                <td style="width:110px;"><input [(ngModel)]="studentApply.skype_id" placeholder="skype id"/></td>
                                <th>Phone</th>
                                <td style="width:110px;"><input [(ngModel)]="studentApply.phone" placeholder="phone number"/></td>
                            </tr>
                            <tr>
                                <th>Email</th>
                                <td style="width:110px; word-break: break-all;">
                                    <input [(ngModel)]="studentApply.email" placeholder="email address"/>
                                </td>
                                <th>Camp Name</th>
                                <td  style="width:110px; word-break: break-all;">
                                    <input [(ngModel)]="studentApply.camp_name" placeholder="camp name"/>
                                </td>
                            </tr>
                            <tr>
                                <th>Address</th>
                                <td colspan="3" style="width:230px;">
                                    <input size="60" [(ngModel)]="studentApply.address" placeholder="home address"/>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading='Additional'>
                        <table class="table table-striped">
                            <tbody style="height:430px;overflow-y: auto;overflow-x: hidden; display: block; text-align:left;
                            font-size: 11pt">
                            <tr *ngIf="studentApply.edit_id">
                                <th>Edit Link</th>
                                <td colspan="3">
                                    <span style="font-size: 9pt;color: blue;text-decoration: underline">
                                        <a target="_blank" href="{{originUrl}}/studentinfo/?id={{studentApply.edit_id}}&lan={{studentApply.country_code  | lowercase}}">
                                            {{originUrl}}/studentinfo/?id={{studentApply.edit_id}}&lan={{studentApply.country_code  | lowercase}}
                                        </a>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th>Agent name</th>
                                <td><input [(ngModel)]="studentApply.agent_name" placeholder="Agent name"/></td>
                                <th>Agent email</th>
                                <td>{{studentApply.agent_email}}</td>
                            </tr>
                            <tr>
                                <th>Check-In</th>
                                <td>
                                    <div class="input-group input-form">
                                        <input style="width: 110px;" class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.checkIn_date" placeholder="Checkin"
                                               ngx-mydatepicker name="mydate" #filterCheckin="ngx-mydatepicker"
                                               (click)="filterCheckin.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Weeks</th>
                                <td>{{studentApply.term}} </td>
                            </tr>
                            <tr>
                                <th>Check-Out</th>
                                <td>
                                    <div class="input-group input-form">
                                        <input style="width: 110px;" class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.checkOut_date" placeholder="Checkout"
                                               ngx-mydatepicker name="mydate" #filterCheckout="ngx-mydatepicker"
                                               (click)="filterCheckout.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Flight no</th>
                                <td>
                                    <input [(ngModel)]="studentApply.flight_no" placeholder="flight no"/>
                                </td>
                            </tr>
                            <tr>
                                <th>Entrance/Start date</th>
                                <td>
                                    <div class="input-group input-form">
                                        <input style="width: 110px;" class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.start_date" placeholder="Start date"
                                               ngx-mydatepicker name="mydate" #filterStartDate="ngx-mydatepicker"
                                               (click)="filterStartDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Meal</th>
                                <td>
                                    <span class="form-group">
                                        <select style="width: 100px;" class="form-control"
                                                [(ngModel)]="studentApply.options_meals" required>
                                            <option value=1>Yes</option>
                                            <option value=0>No</option>
                                        </select>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th>Graduation date</th>
                                <td>
                                    <div class="input-group input-form">
                                        <input style="width: 110px;" class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.graduate_date" placeholder="Graduation date"
                                               ngx-mydatepicker name="mydate" #filterGraduateDate="ngx-mydatepicker"
                                               (click)="filterGraduateDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Pick-up</th>
                                <td>
                                    <span class="form-group">
                                        <select style="width: 100px;" class="form-control"
                                                [(ngModel)]="studentApply.options_pickup" required>
                                            <option value=1>Yes</option>
                                            <option value=0>No</option>
                                        </select>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th>Building id</th>
                                <td>{{studentApply.building_id}} {{studentApply.building_id==1?'(ITP)':'(SFC)'}}</td>
                                <th>Repeater</th>
                                <td>
                                    <span class="form-group">
                                        <select style="width: 100px;" class="form-control"
                                                [(ngModel)]="studentApply.repeater" required>
                                            <option value=1>Yes</option>
                                            <option value=0>No</option>
                                        </select>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th>Transfer date<br>SFC to ITP</th>
                                <td>
                                    <div class="input-group input-form">
                                        <input style="width: 110px;" class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.sfctoitp_date" placeholder="SFC to ITP date"
                                               ngx-mydatepicker name="mydate" #filterSfctoitpDate="ngx-mydatepicker"
                                               (click)="filterSfctoitpDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                        <button style="cursor:pointer;" type="button" (click)="filterSfctoitpDate.clearDate()">
                                            <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                                        </button>
                                    </div>
                                </td>
                                <th>Transfer date<br>ITP to SFC</th>
                                <td>
                                    <div class="input-group input-form">
                                        <input style="width: 110px;" class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.itptosfc_date" placeholder="ITP to SFC date"
                                               ngx-mydatepicker name="mydate" #filterItptosfcDate="ngx-mydatepicker"
                                               (click)="filterItptosfcDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                        <button style="cursor:pointer;" type="button" (click)="filterItptosfcDate.clearDate()">
                                            <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Accommodation<br>(1st option)</th>
                                <td>
                                    <div style="float:left" *ngIf="studentApply.building_id==1">
                                        <span *ngIf="stayTypesItp">
                                            <span class="form-group">
                                                <select style="width: 190px;" class="form-control" name="stay"
                                                        [(ngModel)]="studentApply.accommodation_id1" required>
                                                    <option *ngFor="let stay of stayTypesItp"
                                                            [ngValue]="stay.value"> {{stay.name}} </option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                    <div style="float:left" *ngIf="studentApply.building_id==2">
                                        <span *ngIf="stayTypesSfc">
                                            <span class="form-group">
                                                <select style="width: 190px;" class="form-control" name="stay"
                                                        [(ngModel)]="studentApply.accommodation_id1" required>
                                                    <option *ngFor="let stay of stayTypesSfc"
                                                            [ngValue]="stay.value"> {{stay.name}} </option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                                <th>Accommodation<br>(2nd option)</th>
                                <td>
                                    <span *ngIf="stayTypes">
                                        <span class="form-group">
                                            <select style="width: 190px;" class="form-control" name="stay"
                                            [(ngModel)]="studentApply.accommodation_id2" required>
                                                <option *ngFor="let stay of stayTypes"
                                              [ngValue]="stay.value"> {{stay.name}} </option>
                                            </select>
                                        </span>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th>Room Type<br>(1st option)</th>
                                <td>
                                    <div *ngIf="studentApply.accommodation_id1 == '1' || studentApply.accommodation_id1 == '4'" style="float:left">
                                            <span *ngIf="roomTypes">
                                                <span class="form-group">
                                                    <select style="width: 100px;" class="form-control" name="room"
                                                          [(ngModel)]="studentApply.room_id1" required>
                                                        <option *ngFor="let room of roomTypes"
                                                            [ngValue]="room.value">{{room.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id1 == '2'" style="float:left">
                                            <span *ngIf="roomTypesZ">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomZ"
                                                            [(ngModel)]="studentApply.room_id1" required>
                                                        <option *ngFor="let roomZ of roomTypesZ"
                                                                [ngValue]="roomZ.value">{{roomZ.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id1 == '3'" style="float:left">
                                            <span *ngIf="roomTypesWF">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomWF"
                                                            [(ngModel)]="studentApply.room_id1" required>
                                                        <option *ngFor="let roomWF of roomTypesWF"
                                                                [ngValue]="roomWF.value">{{roomWF.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id1 == '5'" style="float:left">
                                            <span *ngIf="roomTypesEX">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomEX"
                                                            [(ngModel)]="studentApply.room_id1" required>
                                                        <option *ngFor="let roomEX of roomTypesEX"
                                                                [ngValue]="roomEX.value">{{roomEX.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id1 == '6'" style="float:left">
                                            <span *ngIf="roomTypesDX">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomDX"
                                                            [(ngModel)]="studentApply.room_id1" required>
                                                        <option *ngFor="let roomDX of roomTypesDX"
                                                                [ngValue]="roomDX.value">{{roomDX.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id1 == '9'" style="float:left">
                                            <span class="form-group">
                                                <select style="width: 130px;" class="form-control" name="condoRoomType" [(ngModel)]="studentApply.room_id1" required>
                                                    <option value="1">C-Single</option>
                                                    <option value="2">C-Twin</option>
                                                    <option value="3">C-Triple</option>
                                                    <option value="4">C-Quad</option>
                                                </select>
                                            </span>
                                    </div>
                                </td>
                                <th>Room Type<br>(2nd option)</th>
                                <td>
                                    <div *ngIf="studentApply.accommodation_id2 == '1' || studentApply.accommodation_id2 == '4'" style="float:left">
                                            <span *ngIf="roomTypes">
                                                <span class="form-group">
                                                    <select style="width: 100px;" class="form-control" name="room"
                                                            [(ngModel)]="studentApply.room_id2" required>
                                                        <option *ngFor="let room of roomTypes"
                                                                [ngValue]="room.value">{{room.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id2 == '2'" style="float:left">
                                            <span *ngIf="roomTypesZ">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomZ"
                                                            [(ngModel)]="studentApply.room_id2" required>
                                                        <option *ngFor="let roomZ of roomTypesZ"
                                                                [ngValue]="roomZ.value">{{roomZ.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id2 == '3'" style="float:left">
                                            <span *ngIf="roomTypesWF">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomWF"
                                                            [(ngModel)]="studentApply.room_id2" required>
                                                        <option *ngFor="let roomWF of roomTypesWF"
                                                                [ngValue]="roomWF.value">{{roomWF.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id2 == '5'" style="float:left">
                                            <span *ngIf="roomTypesEX">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomEX"
                                                            [(ngModel)]="studentApply.room_id2" required>
                                                        <option *ngFor="let roomEX of roomTypesEX"
                                                                [ngValue]="roomEX.value">{{roomEX.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id2 == '6'" style="float:left">
                                            <span *ngIf="roomTypesDX">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomDX"
                                                            [(ngModel)]="studentApply.room_id2" required>
                                                        <option *ngFor="let roomDX of roomTypesDX"
                                                                [ngValue]="roomDX.value">{{roomDX.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id2 == '9'" style="float:left">
                                            <span class="form-group">
                                                <select style="width: 130px;" class="form-control" name="condoRoomType" [(ngModel)]="studentApply.room_id2" required>
                                                    <option value="1">C-Single</option>
                                                    <option value="2">C-Twin</option>
                                                    <option value="3">C-Triple</option>
                                                    <option value="4">C-Quad</option>
                                                </select>
                                            </span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Email family</th>
                                <td>{{studentApply.email_family}}</td>
                                <th>Emergency contact</th>
                                <td>{{studentApply.emergency_contact}}</td>
                            </tr>
                            <tr>
                                <th>Application from</th>
                                <td>{{studentApply.application_from}}</td>
                                <th>Studied before</th>
                                <td>{{studentApply.studied_before}}</td>
                            </tr>
                            <tr>
                                <th>Arrival date</th>
                                <td>
                                    <div class="input-group input-form">
                                        <input style="width: 110px;" class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.arrive_date" placeholder="Arrive date"
                                               ngx-mydatepicker name="mydate" #filterArriveDate="ngx-mydatepicker"
                                               (click)="filterArriveDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Arrival time<br>
                                    <span style="text-decoration: underline;font-size: 10pt;font-weight: bold;font-family: 'Helvetica', Arial, serif;margin-left: 1em;">
                                        {{studentApply.arrival_time | date : 'HH:mm'}}
                                    </span>
                                </th>
                                <td>
                                    <select style="width:70px;font-size:9pt;font-weight: bolder;float: left"
                                            class="form-control"[(ngModel)]="arriveTimeHour">
                                        <option [ngValue]=-1>NIL</option>
                                        <option [ngValue]=00>00</option>
                                        <option [ngValue]=01>01</option>
                                        <option [ngValue]=02>02</option>
                                        <option [ngValue]=03>03</option>
                                        <option [ngValue]=04>04</option>
                                        <option [ngValue]=05>05</option>
                                        <option [ngValue]=06>06</option>
                                        <option [ngValue]=07>07</option>
                                        <option [ngValue]=08>08</option>
                                        <option [ngValue]=09>09</option>
                                        <option [ngValue]=10>10</option>
                                        <option [ngValue]=11>11</option>
                                        <option [ngValue]=12>12</option>
                                        <option [ngValue]=13>13</option>
                                        <option [ngValue]=14>14</option>
                                        <option [ngValue]=15>15</option>
                                        <option [ngValue]=16>16</option>
                                        <option [ngValue]=17>17</option>
                                        <option [ngValue]=18>18</option>
                                        <option [ngValue]=19>19</option>
                                        <option [ngValue]=20>20</option>
                                        <option [ngValue]=21>21</option>
                                        <option [ngValue]=22>22</option>
                                        <option [ngValue]=23>23</option>
                                    </select>
                                    <select style="width:70px;font-size:9pt;font-weight: bolder;float: right;margin-right: 3em;"
                                            class="form-control"[(ngModel)]="arriveTimeMin">
                                        <option [ngValue]=-1>NIL</option>
                                        <option [ngValue]=00>00</option>
                                        <option [ngValue]=01>01</option>
                                        <option [ngValue]=02>02</option>
                                        <option [ngValue]=03>03</option>
                                        <option [ngValue]=04>04</option>
                                        <option [ngValue]=05>05</option>
                                        <option [ngValue]=06>06</option>
                                        <option [ngValue]=07>07</option>
                                        <option [ngValue]=08>08</option>
                                        <option [ngValue]=09>09</option>
                                        <option [ngValue]=10>10</option>
                                        <option [ngValue]=11>11</option>
                                        <option [ngValue]=12>12</option>
                                        <option [ngValue]=13>13</option>
                                        <option [ngValue]=14>14</option>
                                        <option [ngValue]=15>15</option>
                                        <option [ngValue]=16>16</option>
                                        <option [ngValue]=17>17</option>
                                        <option [ngValue]=18>18</option>
                                        <option [ngValue]=19>19</option>
                                        <option [ngValue]=20>20</option>
                                        <option [ngValue]=21>21</option>
                                        <option [ngValue]=22>22</option>
                                        <option [ngValue]=23>23</option>
                                        <option [ngValue]=24>24</option>
                                        <option [ngValue]=25>25</option>
                                        <option [ngValue]=26>26</option>
                                        <option [ngValue]=27>27</option>
                                        <option [ngValue]=28>28</option>
                                        <option [ngValue]=29>29</option>
                                        <option [ngValue]=30>30</option>
                                        <option [ngValue]=31>31</option>
                                        <option [ngValue]=32>32</option>
                                        <option [ngValue]=33>33</option>
                                        <option [ngValue]=34>34</option>
                                        <option [ngValue]=35>35</option>
                                        <option [ngValue]=36>36</option>
                                        <option [ngValue]=37>37</option>
                                        <option [ngValue]=38>38</option>
                                        <option [ngValue]=39>39</option>
                                        <option [ngValue]=40>40</option>
                                        <option [ngValue]=41>41</option>
                                        <option [ngValue]=42>42</option>
                                        <option [ngValue]=43>43</option>
                                        <option [ngValue]=44>44</option>
                                        <option [ngValue]=45>45</option>
                                        <option [ngValue]=46>46</option>
                                        <option [ngValue]=47>47</option>
                                        <option [ngValue]=48>48</option>
                                        <option [ngValue]=49>49</option>
                                        <option [ngValue]=50>50</option>
                                        <option [ngValue]=51>51</option>
                                        <option [ngValue]=52>52</option>
                                        <option [ngValue]=53>53</option>
                                        <option [ngValue]=54>54</option>
                                        <option [ngValue]=55>55</option>
                                        <option [ngValue]=56>56</option>
                                        <option [ngValue]=57>57</option>
                                        <option [ngValue]=58>58</option>
                                        <option [ngValue]=59>59</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <th>English skill</th>
                                <td>{{studentApply.english_skill}}</td>
                                <th>Autumn Campaign</th>
                                <td>
                                    <span class="form-group">
                                        <select style="width: 100px;" class="form-control"
                                                [(ngModel)]="studentApply.autumn_campaign" required>
                                            <option value=1>Yes</option>
                                            <option value=0>No</option>
                                        </select>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th>Where did you know QQ?</th>
                                <td>{{studentApply.how_know_qqe}}</td>
                                <th>Line id</th>
                                <td>{{studentApply.line_id}}</td>
                            </tr>
                            <tr>
                                <th>ID</th>
                                <td>{{studentApply.id}}</td>
                                <th>ID card</th>
                                <td>{{studentApply.id_card}}</td>
                            </tr>
                            <tr>
                                <th>Job</th>
                                <td>{{studentApply.job}}</td>
                                <th>Life overseas</th>
                                <td>{{studentApply.life_overseas}}</td>
                            </tr>
                            <tr>
                                <th>Number of person</th>
                                <td>{{studentApply.num_of_person}}</td>
                                <th>Beginner option</th>
                                <td>
                                    <span class="form-group">
                                        <select style="width: 100px;" class="form-control"
                                                [(ngModel)]="studentApply.options_beginner_option" required>
                                            <option value=1>Yes</option>
                                            <option value=0>No</option>
                                        </select>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th>Island Hopping</th>
                                <td>
                                    <span class="form-group">
                                        <select style="width: 100px;" class="form-control"
                                                [(ngModel)]="studentApply.options_island_hopping" required>
                                            <option value=1>Yes</option>
                                            <option value=0>No</option>
                                        </select>
                                    </span>
                                </td>
                                <th>Oslob</th>
                                <td>
                                    <span class="form-group">
                                        <select style="width: 100px;" class="form-control"
                                                [(ngModel)]="studentApply.options_oslob" required>
                                            <option value=1>Yes</option>
                                            <option value=0>No</option>
                                        </select>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th>Options special option</th>
                                <td>
                                    <span class="form-group">
                                        <select style="width: 100px;" class="form-control"
                                                [(ngModel)]="studentApply.options_special_option" required>
                                            <option value=1>Yes</option>
                                            <option value=0>No</option>
                                        </select>
                                    </span>
                                </td>
                                <th>Plan id</th>
                                <td><strong>{{studentApply.plan_id}}</strong></td>
                            </tr>
                            <tr>
                                <th>Campaign code</th>
                                <td>{{studentApply.campaign_code}}</td>
                                <th>Add/Create date</th>
                                <td>{{studentApply.created_at | date: 'yyyy-MM-dd'}}</td>
                            </tr>
                            <tr>
                                <th>Driver</th>
                                <td>{{studentApply.driver}}</td>
                                <th>Staff</th>
                                <td>{{studentApply.staff}}</td>
                            </tr>
                            <tr>
                                <th colspan="4">Student Remarks</th>
                            </tr>
                            <tr>
                                <td colspan="4">
                                    <textarea [(ngModel)]="studentApply.memo" style="width:100%"
                                              maxlength="1000">{{studentApply.memo}}</textarea>
                                </td>
                            </tr>
                            <tr>
                                <th colspan="4">Staff Remarks</th>
                            </tr>
                            <tr>
                                <td colspan="4">
                                    <textarea [(ngModel)]="studentApply.note_for_op" style="width:100%"
                                              maxlength="1000">{{studentApply.note_for_op}}</textarea>
                                </td>
                            </tr>
                            <tr>
                                <th colspan="4">Note for Teacher</th>
                            </tr>
                            <tr>
                                <td colspan="4">
                                    <textarea [(ngModel)]="studentApply.note_for_teacher" style="width:100%"
                                              maxlength="1000">{{studentApply.note_for_teacher}}</textarea>
                                </td>
                            </tr>
                            <tr>
                                <th colspan="4">Note for Student</th>
                            </tr>
                            <tr>
                                <td colspan="4">
                                    <textarea [(ngModel)]="studentApply.note_for_student" style="width:100%"
                                              maxlength="1000">{{studentApply.note_for_student}}</textarea>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading='Payment & Rate' *ngIf="(user.role.id == 1 || user.role.id == 2) && !studentApply.invoice_payment_status">
                        <table class="table table-bordered" style="height:calc( 65vh - 136px );overflow-y: auto;overflow-x: hidden; display: block; text-align:left;
                            font-size: 11pt;width:100%;">
                            <tbody>
                            <tr bgcolor="#228b22" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="5">
                                    Payment & Exchange rate details (₱)
                                </td>
                            </tr>
                            <tr>
                                <th style="width: 180px;">Paid date</th>
                                <td>
                                    <div class="input-group input-form" style="width: 150px;">
                                        <input class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.paid_date" placeholder="Paid date"
                                               ngx-mydatepicker name="mydate" #filterPaidDate="ngx-mydatepicker"
                                               (click)="filterPaidDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th style="width: 220px;">Amount paid</th>
                                <td><input [(ngModel)]="studentApply.paid_amount" placeholder="paid amount" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Exchange rate</th>
                                <td><input [(ngModel)]="studentApply.exc_rate_php" placeholder="exchange rate" type="number"/></td>
                                <th>Mode of payment</th>
                                <td><input [(ngModel)]="studentApply.mode_payment" placeholder="mode of payment"/></td>
                            </tr>
                            <tr>
                                <th>Status payment</th>
                                <td><input [(ngModel)]="studentApply.status_payment" placeholder="status of payment"/></td>
                                <th>Paid by</th>
                                <td><input [(ngModel)]="studentApply.paid_by" placeholder="paid by"/></td>
                            </tr>
                            <tr>
                                <th>Receipt number</th>
                                <td colspan="2"><input [(ngModel)]="studentApply.receipt_number" placeholder="account/receipt number"/></td>
                                <td colspan="3" *ngIf="(user.role.id == 1 || user.id == 79 || user.id == 88)"> <!-- Admin, Maddy, Hannah -->
                                    <img *ngIf="studentApply.invoice_payment_status == '0'" title="Confirm Invoice Payment" style="cursor:pointer" width="35px" height="35px"
                                         (click)="confirmInvoicePayment(studentApply.id)" src="./assets/img/Pay.svg"/>
                                    <img *ngIf="studentApply.invoice_payment_status == '1'" title="Paid Invoice Already" style="cursor: not-allowed"  width="35px" height="35px"
                                         src="./assets/img/Pay.svg"/>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <!--<span style="color:red;font-size:9pt;">* List of payments not yet confirmed.</span>-->
                        <!--<table class="table table-striped" id="unconfirmedPaymentList"
                                   style="height: calc( 50vh - 121px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:9pt;text-align: center">
                                <thead class="thead-inverse" style="font-size:12px;text-align: center">
                                <th style="text-align: center">Status</th>
                                <th style="text-align: center">Currency</th>
                                <th style="text-align: center">Amount paid</th>
                                <th style="text-align: center">Paid date/time</th>
                                <th style="text-align: center">Action</th>
                                </thead>
                                <tbody>
                                <tr *ngFor="let p of paymentUnconfirmedList">
                                    <td style="width:210px;">{{p.confirm==0?"CONFIRMED":"NOT CONFIRMED"}}</td>
                                    <td style="width:100px;color: blue;">{{p.payment_currency}}</td>
                                    <td style="width:210px;color: blue;font-size: 11pt;font-weight: bold;">
                                        {{p.payment_amount}}
                                    </td>
                                    <td style="width:210px;">{{p.created_at}}</td>
                                    <td style="width:60px;font-size:12px;">
                                        <button style="cursor:pointer;" (click)="confirmPayment(p.id)" [disabled]="processing">Confirm</button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>-->
                        <!--<span style="color:red;font-size:9pt;">* List of payments that are confirmed.</span>-->
                        <!--<table class="table table-striped" id="confirmedPaymentList"
                                   style="height: calc( 50vh - 121px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:9pt;text-align: center">
                                <thead class="thead-inverse" style="font-size:11px;text-align: center">
                                <th style="text-align: center">Status</th>
                                <th style="text-align: center">Currency</th>
                                <th style="text-align: center">Amount paid</th>
                                <th style="text-align: center">Paid date/time</th>
                                <th style="text-align: center">Confirmation by</th>
                                <th style="text-align: center">Confirmation date/time</th>
                                </thead>
                                <tbody>
                                <tr *ngFor="let c of paymentConfirmedList">
                                    <td style="width:210px;">{{c.confirm==0?"CONFIRMED":"NOT CONFIRMED"}}</td>
                                    <td style="width:80px;color: blue;">{{c.payment_currency}}</td>
                                    <td style="width:180px;color: blue;font-size: 11pt;font-weight: bold;">
                                        {{c.payment_amount}}
                                    </td>
                                    <td style="width:210px;">{{c.created_at}}</td>
                                    <td style="width:150px;">{{c.confirm_by}}</td>
                                    <td style="width:210px;">{{c.updated_at}}</td>
                                </tr>
                                </tbody>
                            </table>-->
                    </tab>
                    <tab heading='Payment & Rate(View)' *ngIf="(user.role.id == 1 || user.role.id == 2) && studentApply.invoice_payment_status">
                        <table class="table table-bordered" style="height:calc( 65vh - 136px );overflow-y: auto;overflow-x: hidden; display: block; text-align:left;
                            font-size: 11pt;width:100%;">
                            <tbody>
                            <tr bgcolor="#228b22" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="5">
                                    Payment & Exchange rate details (₱)
                                </td>
                            </tr>
                            <tr>
                                <th style="width: 180px;">Paid date</th>
                                <td><input [(ngModel)]="studentApply.paid_date" placeholder="date of payment" [disabled]=true /></td>
                                <th style="width: 220px;">Amount paid</th>
                                <td><input [(ngModel)]="studentApply.paid_amount" placeholder="paid amount" type="number" [disabled]=true /></td>
                            </tr>
                            <tr>
                                <th>Exchange rate</th>
                                <td><input [(ngModel)]="studentApply.exc_rate_php" placeholder="exchange rate" type="number" [disabled]=true /></td>
                                <th>Mode of payment</th>
                                <td><input [(ngModel)]="studentApply.mode_payment" placeholder="mode of payment" [disabled]=true /></td>
                            </tr>
                            <tr>
                                <th>Status payment</th>
                                <td><input [(ngModel)]="studentApply.status_payment" placeholder="status of payment" [disabled]=true /></td>
                                <th>Paid by</th>
                                <td><input [(ngModel)]="studentApply.paid_by" placeholder="paid by" [disabled]=true /></td>
                            </tr>
                            <tr>
                                <th>Receipt number</th>
                                <td colspan="2"><input [(ngModel)]="studentApply.receipt_number" placeholder="account/receipt number" [disabled]=true /></td>
                                <td colspan="3">confirmed by: <b>{{studentApply.invoice_payment_confirm_by}}</b></td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading='Logs' *ngIf="(user.role.id == 1 || user.role.id == 2)">
                        <table class="table table-striped" id="changeLogMenu"
                               style="height: calc( 100vh - 141px );overflow-y: auto;overflow-x: scroll; display: block;font-size:9pt;">
                            <thead class="thead-inverse">
                            <th>Server Name</th>
                            <th>Host Name</th>
                            <th>Method used</th>
                            <th>Username</th>
                            <th>Email</th>
                            <th>Operator ID</th>
                            <th>Operator Role</th>
                            <th>Updates</th>
                            </thead>
                            <tbody>
                            <tr *ngFor="let g of logList">
                                <td>
                                    {{g.server_name}}
                                </td>
                                <td>
                                    {{g.host_name}}
                                </td>
                                <td>
                                    {{g.method_name}}
                                </td>
                                <td>
                                    {{g.user_name}}
                                </td>
                                <td>
                                    {{g.email_address}}
                                </td>
                                <td>
                                    {{g.operator_id}}
                                </td>
                                <td>
                                    {{g.operator_role_id==1?'Admin':''}}
                                </td>
                                <td>
                                    {{g.result_json}}
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                </tabset>
            </div>
            <div class="modal-footer">
                <button style="cursor:pointer;" type="button" (click)="saveOrUpdate()" title="Save" [disabled]="processing">
                    <img width="40px" src="./assets/img/Save.svg"/>
                </button>
                <button style="cursor:pointer;" type="button" (click)="editApplyModal.hide()"title="Exit" [disabled]="processing">
                    <img width="40px" src="./assets/img/Close_round.svg"/>
                </button>
            </div>
        </div>
    </div>
</div>
<!--edit Apply Modal end-->

<!--edit Extension Invoice Modal start-->
<div bsModal #extensionInvoiceModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="extensionInvoiceModal"
     aria-labelledby="extensionInvoiceModal" aria-hidden="true" style="font-family:Helvetica,Arial,serif;color:darkblue;max-width: 100%;">
    <div class="modal-dialog modal-lg" style="max-width: 700px;!important;font-family:Helvetica,Arial,serif;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><span style="color: darkorange;">EXTENSION INVOICE No: </span>{{extensionInvoice.ext_invoice_number}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="extensionInvoiceModal.hide()" >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <tabset>
                    <tab heading='Template'>
                        <div style="width:100%;text-align: center;font-weight: bolder;font-size: 14pt"><b>Choose an Extension Invoice Template</b></div>
                        <div>
                            <select [(ngModel)]="selectInvoice" style="width: 100%;font-size: 11pt;font-weight: bolder" class="form-control">
                                <option [value]="2" [selected]="selectInvoice==2">Extension Invoice (USD:$)</option>
                                <option [value]="3" [selected]="selectInvoice==3">Extension Philippine Invoice (PHP:₱)</option> <!--This PH Template Invoice-->
                            </select>
                        </div>
                        <span *ngIf="selectInvoice == 2">
                            <span id="agent-page-ext">
                                <div style="text-align: right;width: 100%; float:right">
                                    <span style="margin-right:4em;font-size: 10pt">
                                        <b>NO. {{extensionInvoice.ext_invoice_number}}</b>
                                    </span>
                                </div>
                                <div>
                                    <span><img height="100%" width="100%" src="assets/images/header-invoice.png"/></span>
                                </div>
                                <div style="width:100%;margin-bottom: 20px;font-weight:bold">
                                    <div style="margin-right:5em;font-size: 9pt;float:right">Date: {{today | date:'longDate'}}</div>
                                    <span *ngIf="studentApply.country_code != 'TW' && studentApply.country_code != 'CN'">
                                        <div style="margin-left:5em;font-size: 9pt;float:left">{{studentApply.agent_name}}</div>
                                    </span>
                                </div>
                                <div style="width:100%;text-align: center;font-size: 12pt">
                                    <span style="font-weight: bold"><span style="font-size: 20px;">INVOICE</span><br>
                                        This is to bill {{studentApply.sex==1?'Mr.':'Ms.'}} {{extensionInvoice.sa_passport_name}}
                                    </span>
                                </div>
                                <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt"> for the following breakdown:</div>
                                <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt;
                                    margin-bottom: 20px;"> Period Covered:
                                    <b>{{extensionInvoice.ext_term}} week(s) &nbsp;&nbsp;{{extensionInvoice.ext_checkin_date | date: 'dd-MMM-yyyy'}} ~ {{extensionInvoice.ext_checkout_date | date: 'dd-MMM-yyyy'}}</b>
                                </div>
                                <table style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;
                                            float:right; margin-left:45%;margin-right:11%;margin-bottom: 20px;" border="0">
                                    <tr style="font-size: 13pt;line-height: 30px;border-bottom: 1px solid #000;">
                                        <th style="text-align: center;">Description</th>
                                        <th style="text-align: center;">Unit Price</th>
                                        <th style="text-align: center;">Pax</th>
                                        <th style="text-align: center;">Total Amount</th>
                                    </tr>
                                    <tr>
                                        <td>Registration Fee</td>
                                        <td>${{extensionInvoice.ext_entrance_fee}}</td>
                                        <td>{{extensionInvoice.ext_entrance_fee?1:0}}</td>
                                        <td>${{extensionInvoice.ext_entrance_fee}}</td>
                                    </tr>
                                    <tr style="font-size: 10pt">
                                        <td>Tuition & Accommodation<br>
                                            <span style="font-size: 11px;">
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 1">Share House</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 2">Alba Uno</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 3">Waterfront</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 4">Share Room</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 5">Executive Room</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 6">Deluxe Room</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 7">Walk In</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 8">Walk In</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == -1">Walk In</span>
                                                <span *ngIf="extensionInvoice.ext_room_id == 1">(SINGLE)</span>
                                                <span *ngIf="extensionInvoice.ext_room_id == 2">(TWIN)</span>
                                                <span *ngIf="extensionInvoice.ext_room_id == 3">(TRIPLE)</span>
                                                <span *ngIf="extensionInvoice.ext_room_id == 4">(QUAD)</span>
                                                <span *ngIf="extensionInvoice.ext_room_id == 5">(HEX)</span>
                                                <span>{{extensionInvoice.ext_course}}</span>
                                            </span>
                                        </td>
                                        <td>${{extensionInvoice.ext_tuition_accommodation_fee}}</td>
                                        <td>1</td>
                                        <td>${{extensionInvoice.ext_tuition_accommodation_fee}}</td>
                                    </tr>
                                    <tr>
                                        <td>Room Upgrade</td>
                                        <td>${{extensionInvoice.ext_room_upgrade_fee}}</td>
                                        <td>{{extensionInvoice.ext_room_upgrade_fee?1:0}}</td>
                                        <td>${{extensionInvoice.ext_room_upgrade_fee}}</td>
                                    </tr>
                                    <tr>
                                        <td>Plan Upgrade</td>
                                        <td>${{extensionInvoice.ext_plan_upgrade_fee}}</td>
                                        <td>{{extensionInvoice.ext_plan_upgrade_fee?1:0}}</td>
                                        <td>${{extensionInvoice.ext_plan_upgrade_fee}}</td>
                                    </tr>
                                    <tr>
                                        <td>{{extensionInvoice.ext_other1_label?extensionInvoice.ext_other1_label:''}}</td>
                                        <td>{{extensionInvoice.ext_other1_fee?$:''}}{{extensionInvoice.ext_other1_fee?extensionInvoice.ext_other1_fee:''}}</td>
                                        <td>{{extensionInvoice.ext_other1_fee?1:''}}</td>
                                        <td>{{extensionInvoice.ext_other1_fee?$:''}}{{extensionInvoice.ext_other1_fee?extensionInvoice.ext_other1_fee:''}}</td>
                                    </tr>
                                    <tr>
                                        <td>{{extensionInvoice.ext_other2_label?extensionInvoice.ext_other2_label:''}}</td>
                                        <td>{{extensionInvoice.ext_other2_fee?$:''}}{{extensionInvoice.ext_other2_fee?extensionInvoice.ext_other2_fee:''}}</td>
                                        <td>{{extensionInvoice.ext_other2_fee?1:''}}</td>
                                        <td>{{extensionInvoice.ext_other2_fee?$:''}}{{extensionInvoice.ext_other2_fee?extensionInvoice.ext_other2_fee:''}}</td>
                                    </tr>
                                    <tr>
                                        <td>Holiday Fee</td>
                                        <td>${{extensionInvoice.ext_holiday_fee}}</td>
                                        <td>{{extensionInvoice.ext_holiday_fee?1:0}}</td>
                                        <td>${{extensionInvoice.ext_holiday_fee}}</td>
                                    </tr>
                                    <tr>
                                        <td style="font-size:9pt;text-align:center;">{{extensionInvoice.ext_holidays}}</td>
                                    </tr>
                                    <tr style="color:red" *ngFor="let g of invoiceDiscountList">
                                        <td>{{g.reason}}</td>
                                        <td>{{g.discount?'-$':''}}{{g.discount}}</td>
                                        <td></td>
                                        <td>{{g.discount?'-$':''}}{{g.discount}}</td>
                                    </tr>
                                    <tr>
                                        <td style="border-top:1px solid #000;" colspan="3"><b>Sub Total:</b></td>
                                        <td style="border-top:1px solid #000;">
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 11pt;font-weight: bolder">
                                                    <b> ${{(extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee +
                                                        extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_tuition_accommodation_fee +
                                                        extensionInvoice.ext_plan_upgrade_fee + extensionInvoice.ext_other1_fee + extensionInvoice.ext_other2_fee) - (extensionInvoice.ext_discount)}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr style="color:red;border-bottom: 1px solid #000;" *ngIf="extensionInvoice.ext_agent_commission">
                                        <td>Agent Commission({{extensionInvoice.ext_commission_percentage | number : '1.0-0'}}%)</td>
                                        <td>-${{extensionInvoice.ext_agent_commission}}</td>
                                        <td></td>
                                        <td>-${{extensionInvoice.ext_agent_commission}}</td>
                                    </tr>
                                    <tr style="line-height: 30px;">
                                        <td><strong style="color:blue">Total Amount</strong></td>
                                        <td colspan="2"><b>US DOLLARS:</b></td>
                                        <td>
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 13pt;font-weight: bolder">
                                                    <b>${{((extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_tuition_accommodation_fee +
													extensionInvoice.ext_plan_upgrade_fee + extensionInvoice.ext_other1_fee + extensionInvoice.ext_other2_fee) - (extensionInvoice.ext_agent_commission + extensionInvoice.ext_discount))}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                                <br>
                                <div style="float: right;margin-left: 3em; font-size: 12pt;">
                                    <div style="width: 30%; float:left"><br><strong
                                            style="color:blue">Payment In the School</strong><br><br>
                                        SSP<br>
                                        VISA Extension Fee<br>
                                        Student ID<br>
                                        Electricity Fee<br>
                                        I-Card<br>
                                        Text book<br>
                                    </div>
                                    <div style="width: 70%; float:right"><br><br><br>
                                        Php {{extensionInvoice.ext_ssp_fee_php}}<br>
                                        Vary<br>
                                        Php {{extensionInvoice.ext_student_id_card_php}}<br>
                                        Php {{extensionInvoice.ext_electrical_fee_php}}<br>
                                        Php {{extensionInvoice.ext_i_card_fee_php}}<br>
                                        Vary<br>
                                    </div>
                                    <div style="width: 30%; float:left"><br><strong
                                            style="color:blue">ACCOUNT NUMBER</strong><br><br>
                                        BANK NAME:<br>
                                        ACCOUNT NUMBER:<br>
                                        COMPANY NAME:<br>
                                        BANK ADDRESS:<br><br>
                                        SWIFT CODE:<br>
                                        BRANCH CODE:<br>
                                    </div>
                                    <div style="width: 70%; float:right"><br><br><br>
                                        METROPOLITAN BANK AND TRUST COMPANY<br>
                                        602-7602-908956<br>
                                        REAL GREATENGLISH CORPORATION<br>CEBU SALINAS BRANCH - AMON TRADING CORP.
                                        BLDG., SALINAS DRIVE, CEBU CITY 6000<br>
                                        MBTCPHMM<br>
                                        602<br>
                                    </div>
                                </div>
                            </span>
                            <span id="student-page-ext">
                                <div style="text-align: right;width: 100%; float:right">
                                    <span style="margin-right:4em;font-size: 10pt">
                                        <b>NO. {{extensionInvoice.ext_invoice_number}}</b>
                                    </span>
                                </div>
                                <div>
                                    <span><img height="100%" width="100%" src="assets/images/header-invoice.png"/></span>
                                </div>
                                <div style="width:100%;text-align: right">
                                    <b><span style="margin-right:5em;font-size: 9pt">Date: {{today | date:'longDate'}}</span></b>
                                </div>
                                <div style="width:100%;text-align: center;font-size: 12pt">
                                    <span style="font-weight: bold"><span style="font-size: 20px;">INVOICE</span><br>
                                        This is to bill {{studentApply.sex==1?'Mr.':'Ms.'}} {{extensionInvoice.sa_passport_name}}
                                    </span>
                                </div>
                                <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt"> for the following breakdown:</div>
                                <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt;
                                    margin-bottom: 20px;"> Period Covered:
                                    <b>{{extensionInvoice.ext_term}} week(s) &nbsp;&nbsp;{{extensionInvoice.ext_checkin_date | date: 'dd-MMM-yyyy'}} ~ {{extensionInvoice.ext_checkout_date | date: 'dd-MMM-yyyy'}}</b>
                                </div>
                                <table style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;
                                            float:right; margin-left:45%;margin-right:11%;margin-bottom: 20px;" border="0">
                                    <tr style="font-size: 13pt;line-height: 30px;border-bottom: 1px solid #000;">
                                        <th style="text-align: center;">Description</th>
                                        <th style="text-align: center;">Unit Price</th>
                                        <th style="text-align: center;">Pax</th>
                                        <th style="text-align: center;">Total Amount</th>
                                    </tr>
                                    <tr>
                                        <td>Registration Fee</td>
                                        <td>${{extensionInvoice.ext_entrance_fee}}</td>
                                        <td>{{extensionInvoice.ext_entrance_fee?1:0}}</td>
                                        <td>${{extensionInvoice.ext_entrance_fee}}</td>
                                    </tr>
                                    <tr style="font-size: 10pt">
                                        <td>Tuition & Accommodation<br>
                                            <span style="font-size: 11px;">
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 1">Share House</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 2">Alba Uno</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 3">Waterfront</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 4">Share Room</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 5">Executive Room</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 6">Deluxe Room</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 7">Walk In</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == 8">Walk In</span>
                                                <span *ngIf="extensionInvoice.ext_accommodation_id == -1">Walk In</span>
                                                <span *ngIf="extensionInvoice.ext_room_id == 1">(SINGLE)</span>
                                                <span *ngIf="extensionInvoice.ext_room_id == 2">(TWIN)</span>
                                                <span *ngIf="extensionInvoice.ext_room_id == 3">(TRIPLE)</span>
                                                <span *ngIf="extensionInvoice.ext_room_id == 4">(QUAD)</span>
                                                <span *ngIf="extensionInvoice.ext_room_id == 5">(HEX)</span>
                                                <span>{{extensionInvoice.ext_course}}</span>
                                            </span>
                                        </td>
                                        <td>${{extensionInvoice.ext_tuition_accommodation_fee}}</td>
                                        <td>1</td>
                                        <td>${{extensionInvoice.ext_tuition_accommodation_fee}}</td>
                                    </tr>
                                    <tr>
                                        <td>Room Upgrade</td>
                                        <td>${{extensionInvoice.ext_room_upgrade_fee}}</td>
                                        <td>{{extensionInvoice.ext_room_upgrade_fee?1:0}}</td>
                                        <td>${{extensionInvoice.ext_room_upgrade_fee}}</td>
                                    </tr>
                                    <tr>
                                        <td>Plan Upgrade</td>
                                        <td>${{extensionInvoice.ext_plan_upgrade_fee}}</td>
                                        <td>{{extensionInvoice.ext_plan_upgrade_fee?1:0}}</td>
                                        <td>${{extensionInvoice.ext_plan_upgrade_fee}}</td>
                                    </tr>
                                    <tr>
                                        <td>{{extensionInvoice.ext_other1_label?extensionInvoice.ext_other1_label:''}}</td>
                                        <td>{{extensionInvoice.ext_other1_fee?$:''}}{{extensionInvoice.ext_other1_fee?extensionInvoice.ext_other1_fee:''}}</td>
                                        <td>{{extensionInvoice.ext_other1_fee?1:''}}</td>
                                        <td>{{extensionInvoice.ext_other1_fee?$:''}}{{extensionInvoice.ext_other1_fee?extensionInvoice.ext_other1_fee:''}}</td>
                                    </tr>
                                    <tr>
                                        <td>{{extensionInvoice.ext_other2_label?extensionInvoice.ext_other2_label:''}}</td>
                                        <td>{{extensionInvoice.ext_other2_fee?$:''}}{{extensionInvoice.ext_other2_fee?extensionInvoice.ext_other2_fee:''}}</td>
                                        <td>{{extensionInvoice.ext_other2_fee?1:''}}</td>
                                        <td>{{extensionInvoice.ext_other2_fee?$:''}}{{extensionInvoice.ext_other2_fee?extensionInvoice.ext_other2_fee:''}}</td>
                                    </tr>
                                    <tr>
                                        <td>Holiday Fee</td>
                                        <td>${{extensionInvoice.ext_holiday_fee}}</td>
                                        <td>{{extensionInvoice.ext_holiday_fee?1:0}}</td>
                                        <td>${{extensionInvoice.ext_holiday_fee}}</td>
                                    </tr>
                                    <tr>
                                        <td style="font-size:9pt;text-align:center;">{{extensionInvoice.ext_holidays}}</td>
                                    </tr>
                                    <tr style="color:red" *ngFor="let g of invoiceDiscountList">
                                        <td>{{g.reason}}</td>
                                        <td>{{g.discount?'-$':''}}{{g.discount}}</td>
                                        <td></td>
                                        <td>{{g.discount?'-$':''}}{{g.discount}}</td>
                                    </tr>
                                    <tr>
                                        <td style="border-top:1px solid #000;" colspan="3"><b>Sub Total:</b></td>
                                        <td style="border-top:1px solid #000;">
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 11pt;font-weight: bolder">
                                                    <b> ${{ ((extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_tuition_accommodation_fee) + extensionInvoice.ext_plan_upgrade_fee +
													extensionInvoice.ext_other1_fee + extensionInvoice.ext_other2_fee) - (extensionInvoice.ext_discount)}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr style="line-height: 30px;">
                                        <td><strong style="color:blue">Total Amount</strong></td>
                                        <td colspan="2"><b>US DOLLARS:</b></td>
                                        <td>
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 13pt;font-weight: bolder">
                                                    <b>${{((extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_tuition_accommodation_fee) + extensionInvoice.ext_plan_upgrade_fee +
													extensionInvoice.ext_other1_fee + extensionInvoice.ext_other2_fee) - (extensionInvoice.ext_discount)}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                                <br>
                                <div style="float: right;margin-left: 3em; font-size: 12pt;">
                                    <div style="width: 30%; float:left"><br><strong
                                            style="color:blue">Payment In the School</strong><br><br>
                                        SSP<br>
                                        VISA Extension Fee<br>
                                        Student ID<br>
                                        Electricity Fee<br>
                                        I-Card<br>
                                        Text book<br>
                                    </div>
                                    <div style="width: 70%; float:right"><br><br><br>
                                        Php {{extensionInvoice.ext_ssp_fee_php}}<br>
                                        Vary<br>
                                        Php {{extensionInvoice.ext_student_id_card_php}}<br>
                                        Php {{extensionInvoice.ext_electrical_fee_php}}<br>
                                        Php {{extensionInvoice.ext_i_card_fee_php}}<br>
                                        Vary<br>
                                    </div>
                                    <div style="width: 30%; float:left"><br><strong
                                            style="color:blue">ACCOUNT NUMBER</strong><br><br>
                                        BANK NAME:<br>
                                        ACCOUNT NUMBER:<br>
                                        COMPANY NAME:<br>
                                        BANK ADDRESS:<br><br>
                                        SWIFT CODE:<br>
                                        BRANCH CODE:<br>
                                    </div>
                                    <div style="width: 70%; float:right"><br><br><br>
                                        METROPOLITAN BANK AND TRUST COMPANY<br>
                                        602-7602-908956<br>
                                        REAL GREATENGLISH CORPORATION<br>CEBU SALINAS BRANCH - AMON TRADING CORP.
                                        BLDG., SALINAS DRIVE, CEBU CITY 6000<br>
                                        MBTCPHMM<br>
                                        602<br>
                                    </div>
                                </div>
                            </span>
                        </span>
                        <span *ngIf="selectInvoice == 3">
                            <span id="peso-invoice-ext">
                                <div align="center">
                                    <table style="width:80%;margin-bottom: 15px;font-size:14pt;">
                                        <tr>
                                            <td>Invoice No</td>
                                            <td>{{extensionInvoice.ext_invoice_number}}</td>
                                            <td align="right" style="font-size:12pt;">{{today | date: 'MM/dd/yyyy'}}</td>
                                        </tr>
                                    </table>
                                    <table style="width:80%;margin-bottom: 15px;font-size:14pt;">
                                        <tr>
                                            <td style="text-decoration: underline;">Student Name</td>
                                            <td>{{extensionInvoice.sa_passport_name}}</td>
                                            <td align="center">QQ ENGLISH</td>
                                        </tr>
                                    </table>
                                    <table style="width:80%;margin-bottom:15px;">
                                        <tr align="right">
                                            <td colspan="3">
                                                REAL GREATENGLISH CORPORATION
                                            </td>
                                        </tr>
                                        <tr align="right">
                                            <td colspan="3">
                                                7th Floor Skyrise 4 Building, Cebu I.T Park,<br> Apas, Cebu City, Philippines 6000
                                            </td>
                                        </tr>
                                        <tr align="right">
                                            <td colspan="3">
                                                Tel:+63(0)32-479-9042
                                            </td>
                                        </tr>
                                        <tr align="right">
                                            <td colspan="3">
                                                Email: info@qqenglish.jp
                                            </td>
                                        </tr>
                                    </table>
                                    <table style="width:80%;margin-bottom:15px;">
                                        <tr style="font-size:14pt;font-weight: bolder">
                                            <td align="center">TOTAL:</td>
                                            <td align="right" style="border-bottom:1px solid black">{{phRateInvoice}}</td>
                                            <td>PHP</td>
                                        </tr>
                                    </table>
                                </div>
                                <div align="center">
                                    <table style="width:80%;border-collapse: collapse;border: 1px solid black;margin-bottom:10px;">
                                        <tr style="background-color: darkgray">
                                            <th style="border: 1px solid black;text-align:center;">Description</th>
                                            <th style="border: 1px solid black;text-align:center;">Unit Price</th>
                                            <th style="border: 1px solid black;text-align:center;">Pax</th>
                                            <th style="border: 1px solid black;text-align:center;">Amount</th>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;">Tuition fee</td>
                                            <td align="right" style="border: 1px solid black;">{{phRateInvoice}}</td>
                                            <td align="right" style="border: 1px solid black;color: red">1</td>
                                            <td align="center" style="border: 1px solid black;color: red">{{phRateInvoice}}</td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr style="background-color: darkgray">
                                            <td colspan="2" align="left">Total amount to be paid to RGE</td>
                                            <td align="right">PHP</td>
                                            <td align="center" style="border:1px solid black;">{{phRateInvoice}}</td>
                                        </tr>
                                    </table>
                                    <table style="width:80%;margin-bottom: 20px;font-size:12pt;">
                                        <tr>
                                            <td style="font-size:12pt;"><b>Bank account</b></td>
                                            <td align="right" style="font-weight:bolder">Payable to</td>
                                            <td align="center">REAL GREATENGLISH CORPORATION</td>
                                        </tr>
                                        <tr>
                                            <td align="right" colspan="2" style="font-weight:bolder">Bank Name</td>
                                            <td align="center">Unionbank of the Philippines</td>
                                        </tr>
                                        <tr>
                                            <td align="right" colspan="2" style="font-weight:bolder">Branch</td>
                                            <td align="center">Asiatown I.T. Park Branch</td>
                                        </tr>
                                        <tr>
                                            <td align="right" colspan="2" style="font-weight:bolder">Account Number</td>
                                            <td align="center">001430001656</td>
                                        </tr>
                                        <tr>
                                            <td align="right" colspan="2" style="font-weight:bolder">Swift Code</td>
                                            <td align="center">UBPHPHMM</td>
                                        </tr>
                                    </table>
                                </div>
                            </span>
                        </span>
                        <br>
                        <div style="float: right">
                            <button *ngIf="(user.role.id == 1 || user.id == 35) && selectInvoice && extensionInvoice.ext_isInvoiceConfirmed == 1"
                                  (click)="lockExtInvoice(extensionInvoice.sa_id)" [disabled]="processing">
                                <img src="assets/img/Locked.svg" style="cursor:pointer;" width="35px" height="35px" title="Lock Invoice">
                            </button>
                            <button *ngIf="(user.role.id == 1 || user.id == 35) && selectInvoice && extensionInvoice.ext_isInvoiceConfirmed == 2"
                                  (click)="unlockExtInvoice(extensionInvoice.sa_id)" [disabled]="processing">
                                <img src="assets/img/Unlocked.svg" style="cursor:pointer;" width="35px" height="35px" title="Unlock Invoice">
                            </button>
                            <button *ngIf="extensionInvoice.ext_invoice_number && selectInvoice" title="Print Extension Invoice" style="cursor:pointer"
                                    (click)="printExtInvoice(studentApply.country_code,studentApply.sex,studentApply.agent_name?studentApply.agent_name:'',extensionInvoice.sa_passport_name?extensionInvoice.sa_passport_name:'',
                                         extensionInvoice.ext_invoice_number?extensionInvoice.ext_invoice_number:'',extensionInvoice.ext_checkin_date?extensionInvoice.ext_checkin_date:'1900-01-01 00:00:00',
                                         extensionInvoice.ext_checkout_date?extensionInvoice.ext_checkout_date:'1900-01-01 00:00:00',extensionInvoice.ext_term?extensionInvoice.ext_term:0,
                                         extensionInvoice.ext_building_id?extensionInvoice.ext_building_id:0,extensionInvoice.ext_accommodation_id?extensionInvoice.ext_accommodation_id:0,
                                         extensionInvoice.ext_room_id?extensionInvoice.ext_room_id:0,extensionInvoice.ext_room_name?extensionInvoice.ext_room_name:'',
                                         extensionInvoice.ext_plan_id?extensionInvoice.ext_plan_id:0,extensionInvoice.ext_course?extensionInvoice.ext_course:'',
                                         extensionInvoice.ext_holidays?extensionInvoice.ext_holidays:'',extensionInvoice.ext_entrance_fee?extensionInvoice.ext_entrance_fee:0,
                                         extensionInvoice.ext_tuition_accommodation_fee?extensionInvoice.ext_tuition_accommodation_fee:0,extensionInvoice.ext_room_upgrade_fee?extensionInvoice.ext_room_upgrade_fee:0,
                                         extensionInvoice.ext_plan_upgrade_fee?extensionInvoice.ext_plan_upgrade_fee:0,extensionInvoice.ext_holiday_fee?extensionInvoice.ext_holiday_fee:0,
                                         extensionInvoice.ext_other1_label?extensionInvoice.ext_other1_label:'',extensionInvoice.ext_other1_fee?extensionInvoice.ext_other1_fee:0,
                                         extensionInvoice.ext_other2_label?extensionInvoice.ext_other2_label:'',extensionInvoice.ext_other2_fee?extensionInvoice.ext_other2_fee:0,
                                         extensionInvoice.ext_agent_commission?extensionInvoice.ext_agent_commission:0,extensionInvoice.ext_total_cost?extensionInvoice.ext_total_cost:0,
                                         extensionInvoice.ext_ssp_fee_php?extensionInvoice.ext_ssp_fee_php:0,extensionInvoice.ext_visa_fee_php?extensionInvoice.ext_visa_fee_php:0,
                                         extensionInvoice.ext_student_id_card_php?extensionInvoice.ext_student_id_card_php:0,extensionInvoice.ext_electrical_fee_php?extensionInvoice.ext_electrical_fee_php:0,
                                         extensionInvoice.ext_i_card_fee_php?extensionInvoice.ext_i_card_fee_php:0,extensionInvoice.ext_textbook_fee_php?extensionInvoice.ext_textbook_fee_php:0,
                                         extensionInvoice.ext_departure_date?extensionInvoice.ext_departure_date:'1900-01-01 00:00:00',extensionInvoice.ext_extention_fee_php?extensionInvoice.ext_extention_fee_php:0,
                                         extensionInvoice.ext_immigration_fee_php?extensionInvoice.ext_immigration_fee_php:0,extensionInvoice.ext_acri_fee_php?extensionInvoice.ext_acri_fee_php:0,
                                         extensionInvoice.ext_photocopy_php?extensionInvoice.ext_photocopy_php:0,extensionInvoice.ext_meal_total_php?extensionInvoice.ext_meal_total_php:0,
                                         extensionInvoice.ext_ecc_php?extensionInvoice.ext_ecc_php:0,extensionInvoice.ext_adjustments_php?extensionInvoice.ext_adjustments_php:0,extensionInvoice.ext_isInvoiceConfirmed,
                                         extensionInvoice.ext_commission_percentage?extensionInvoice.ext_commission_percentage:0,invoiceDiscountList,extensionInvoice.ext_discount?extensionInvoice.ext_discount:0,phRateInvoice,selectInvoice)">
                                <img  width="35px" height="35px" src="./assets/img/Printer.svg"/>
                            </button>
                        </div>
                    </tab>
                    <tab heading='Add discount(s)' *ngIf="(user.role.id == 1 || user.role.id == 2) && extensionInvoice.ext_isInvoiceConfirmed == 1">
                        <table class="table table-bordered table-striped">
                            <tr>
                                <th>Student Information</th>
                                <td colspan="3" style="font-size:11pt; font-weight: bolder;">
                                    {{extensionInvoice.sa_passport_name}}
                                </td>
                            </tr>
                        </table>
                        <select [(ngModel)]="selectDiscountBy" style="width: 100%;font-size: 11pt;font-weight: bolder" class="form-control">
                            <option [disabled]="true" [selected]="true">S E L E C T</option>
                            <option  [value]="1" [selected]="selectDiscountBy==1">Discount by Percentage(%)</option>
                            <option  [value]="0" [selected]="selectDiscountBy==0">Discount by Input</option>
                        </select>
                        <span *ngIf="selectDiscountBy == 1">
                            <table class="table table-bordered table-striped">
                                <tr style="font-family:Helvetica,Arial,serif;color:darkblue;">
                                    <td>
                                        <span style="font-size:11pt;">Registration</span>
                                        <input type="checkbox" [checked]="registerCheckExtCommision"
                                               (change)="registerCheckExtCommision = !registerCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Tuition</span>
                                        <input type="checkbox" [checked]="tuitionCheckExtCommision"
                                               (change)="tuitionCheckExtCommision = !tuitionCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Holiday</span>
                                        <input type="checkbox" [checked]="holidayCheckExtCommision"
                                               (change)="holidayCheckExtCommision = !holidayCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Room upgrade</span>
                                        <input type="checkbox" [checked]="roomupgradeCheckExtCommision"
                                               (change)="roomupgradeCheckExtCommision = !roomupgradeCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Plan upgrade</span>
                                        <input type="checkbox" [checked]="planupgradeCheckExtCommision"
                                               (change)="planupgradeCheckExtCommision = !planupgradeCheckExtCommision" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <span style="font-size:11pt;">Discount(ext)</span>
                                        <input type="checkbox" [checked]="discountCheckExtCommision"
                                               (change)="discountCheckExtCommision = !discountCheckExtCommision" />
                                    </td>
                                    <th>Percentage</th>
                                    <td>
                                        <select style="width: 100px;font-size: 11pt;font-weight: bolder"
                                                class="form-control"[(ngModel)]="percentageDiscount">
                                           <option *ngFor="let number of percentQuantity" value="{{number/100}}">{{number}}%</option>
                                    </select>
                                    </td>
                                    <th>Item(s) X<br> Discount(%) </th>
                                    <td style="font-size: 10pt;font-weight: bolder" *ngIf="percentageDiscount">
                                        <span> <!--Extension Invoice USD-->
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee}} X
                                                {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee}} X
                                                {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && holidayCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_holiday_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && roomupgradeCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_holiday_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <th>Reason <br> <span style="font-size:9pt;font-weight: bolder">e.g. JP promotion 10% off</span></th>
                                    <td colspan="4">
                                        <input required style="width: 100%;" placeholder="Reason on giving discount" [(ngModel)]="invoiceDiscountByPercentage.reason"/>
                                    </td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <span *ngIf="invoiceDiscountByPercentage.reason && percentageDiscount"><!--Extension Invoice Commission USD-->
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee +
                                            extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && holidayCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && roomupgradeCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee +
                                            extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee +
                                             extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_holiday_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee +
                                            extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee +
                                             extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee +
                                             extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee +
                                            extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_holiday_fee +
                                            extensionInvoice.ext_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf="percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee +
                                            extensionInvoice.ext_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf="percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee +
                                            extensionInvoice.ext_holiday_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf="percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf="percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf="percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee),
                                                invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, percentageDiscount * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount),invoiceDiscountByPercentage.reason,extensionInvoice.ext_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                </span>
                            </div>
                        </span>
                        <span *ngIf="selectDiscountBy == 0">
                            <table class="table table-bordered table-striped">
                                <tr>
                                    <th>Enter discount</th>
                                    <td><input type="number" min="1" max="999" style="width: 90%;" placeholder="Discount" [(ngModel)]="invoiceDiscountByInput.discount"/></td>
                                    <th>To be discounted</th>
                                    <td style="font-size: 11pt;font-weight: bolder; color: red">{{invoiceDiscountByInput.discount}}</td>
                                </tr>
                                <tr>
                                <tr>
                                    <th>Reason <br> <span style="font-size:9pt;font-weight: bolder">e.g. Registration coupon</span></th>
                                    <td colspan="3">
                                        <input style="width: 100%;" placeholder="Reason on giving discount" [(ngModel)]="invoiceDiscountByInput.reason"/>
                                    </td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <button class="btn" type="button btn-secondary" *ngIf="invoiceDiscountByInput.reason && invoiceDiscountByInput.discount"
                                        (click)="saveExtInvoiceDiscount(extensionInvoice.sa_id, invoiceDiscountByInput.discount,invoiceDiscountByInput.reason,extensionInvoice.ext_invoice_number)"
                                        [disabled]="processing">
                                    Add
                                </button>
                            </div>
                        </span>
                    </tab>
                    <tab heading='List' *ngIf="(user.role.id == 1 || user.role.id == 2) && extensionInvoice.ext_isInvoiceConfirmed == 1">
                        <table class="table table-bordered table-striped"
                               style="height: calc( 70vh - 141px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:9pt;text-align: center">
                            <thead class="thead-inverse" style="font-size:12px;text-align: center">
                            <th style="text-align: center">Invoice number</th>
                            <th style="text-align: center">Discount</th>
                            <th style="text-align: center">Who discounted</th>
                            <th style="text-align: center">Reason</th>
                            <th style="text-align: center">Created at</th>
                            <th style="text-align: center">Action</th>
                            </thead>
                            <tbody>
                            <tr *ngFor="let g of invoiceDiscountList">
                                <td>{{g.student_invoice_no}}</td>
                                <td>{{g.discount}}</td>
                                <td style="width:100px;">{{g.who_discounted}}</td>
                                <td style="width:210px;">{{g.reason}}</td>
                                <td style="font-size:9pt;width:100px;">{{g.created_at}}</td>
                                <td style="width:60px;">
                                    <button style="cursor:pointer" type="button"
                                            (click)="removeExtInvoiceDiscount(g.apply_id,g.id,g.student_invoice_no, g.discount)" [disabled]="processing">
                                        <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading='Edit commission' *ngIf="(user.role.id == 1 || user.role.id == 2) && extensionInvoice.ext_isInvoiceConfirmed == 1">
                        <table class="table table-bordered table-striped">
                            <tr>
                                <th>Student Information</th>
                                <td colspan="3" style="font-size:11pt; font-weight: bolder;">
                                    {{extensionInvoice.sa_passport_name}}
                                </td>
                            </tr>
                            <tr>
                                <th>Agent Information</th>
                                <td colspan="3" style="font-size:11pt; font-weight: bolder;">
                                    {{studentApply.agent_name}} {{studentApply.agent_email}}
                                </td>
                            </tr>
                        </table>
                        <select [(ngModel)]="selectCommissionBy" style="width: 100%;font-size: 11pt;font-weight: bolder" class="form-control">
                            <option [disabled]="true" [selected]="true">S E L E C T</option>
                            <option  [value]="1" [selected]="selectCommissionBy==1">Commission by Percentage(%)</option>
                            <option  [value]="0" [selected]="selectCommissionBy==0">Commission by Input</option>
                        </select>
                        <span *ngIf="selectCommissionBy == 1">
                            <table class="table table-bordered table-striped">
                                <tr style="font-family:Helvetica,Arial,serif;color:darkblue;">
                                    <td>
                                        <span style="font-size:11pt;">Registration</span>
                                        <input type="checkbox" [checked]="registerCheckExtCommision"
                                               (change)="registerCheckExtCommision = !registerCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Tuition</span>
                                        <input type="checkbox" [checked]="tuitionCheckExtCommision"
                                               (change)="tuitionCheckExtCommision = !tuitionCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Holiday</span>
                                        <input type="checkbox" [checked]="holidayCheckExtCommision"
                                               (change)="holidayCheckExtCommision = !holidayCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Room upgrade</span>
                                        <input type="checkbox" [checked]="roomupgradeCheckExtCommision"
                                               (change)="roomupgradeCheckExtCommision = !roomupgradeCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Plan upgrade</span>
                                        <input type="checkbox" [checked]="planupgradeCheckExtCommision"
                                               (change)="planupgradeCheckExtCommision = !planupgradeCheckExtCommision" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <span style="font-size:11pt;">Discount(ext)</span>
                                        <input type="checkbox" [checked]="discountCheckExtCommision"
                                               (change)="discountCheckExtCommision = !discountCheckExtCommision" />
                                    </td>
                                    <th>Percentage</th>
                                    <td>
                                        <select style="width: 100px;font-size: 11pt;font-weight: bolder"
                                                class="form-control"[(ngModel)]="percentageCommission">
                                           <option *ngFor="let number of percentQuantity" value="{{number/100}}">{{number}}%</option>
                                    </select>
                                    </td>
                                    <th>Item(s) X<br> Discount(%)</th>
                                    <td style="font-size: 10pt;font-weight: bolder" *ngIf="percentageCommission">
                                        <span> <!--Extension Invoice USD-->
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee}} X
                                                {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee}} X
                                                {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && holidayCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_holiday_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && roomupgradeCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && planupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_plan_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_holiday_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                        </span>
                                    </td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <span><!--Extension Invoice Commission USD-->
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && holidayCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && roomupgradeCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee+ extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_holiday_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_holiday_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id, percentageCommission * (extensionInvoice.ext_entrance_fee + extensionInvoice.ext_holiday_fee + extensionInvoice.ext_plan_upgrade_fee - extensionInvoice.ext_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                </span>
                            </div>
                        </span>
                        <span *ngIf="selectCommissionBy == 0">
                            <table class="table table-bordered table-striped">
                                <tr>
                                    <th>Enter commission<br>
                                    <span style="font-size:9pt;font-weight: bolder">e.g. 0, 100, 255</span></th>
                                    <td><input type="number" min="1" max="999" style="width: 90%;" placeholder="Discount" [(ngModel)]="extensionInvoice.ext_agent_commission"/></td>
                                    <th>Agent commission</th>
                                    <td style="font-size: 11pt;font-weight: bolder; color: red">{{extensionInvoice.ext_agent_commission}}</td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <button class="btn" type="button btn-secondary" style="cursor:pointer"
                                        (click)="saveExtensionInvoiceCommission(extensionInvoice.sa_id,extensionInvoice.ext_agent_commission)"
                                        [disabled]="processing" *ngIf="extensionInvoice.ext_agent_commission >= 0">
                                    Save
                                </button>
                            </div>
                        </span>
                    </tab>
                </tabset>
            </div>
        </div>
    </div>
</div>
<!--edit Extension Invoice Modal end-->

<!--edit Invoice Modal start-->
<div bsModal #editInvoiceModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="editInvoiceModal"
     aria-labelledby="editInvoiceModal" aria-hidden="true" style="font-family:Helvetica,Arial,serif;color:darkblue;max-width: 100%;">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="invoiceModalLabel"> Edit Invoice {{studentApply.apply_no?studentApply.apply_no:studentApply.id_number}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closeEditInvoiceModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <tabset>
                    <tab heading='Invoice' *ngIf="(user.role.id == 1 || user.role.id == 2) && studentApply.isInvoiceConfirmed == 1">
                        <table class="table table-bordered" *ngIf="studentApply.country_code=='JP'">
                            <tbody style="height:430px;overflow-y: auto;overflow-x: hidden; display: block; text-align:left;
                            font-size: 11pt">
                            <tr bgcolor="#00008b" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="5">
                                    Japanese Invoice (¥)
                                </td>
                            </tr>
                            <tr>
                                <th width="190px">Invoice number</th>
                                <td colspan="3"><input size="20" [(ngModel)]="invoiceModel.invoice_number" placeholder="invoice number"/>
                                    <span *ngIf="studentApply.student_status == '2' || studentApply.student_status == '5'">
                                        <span style="font-size:10pt;">&emsp;CREATE INVOICE NUMBER:</span>
                                        <span *ngIf="!invoiceModel.invoice_number">
                                            <img title="Generate Invoice Number" (click)="generateInvoiceNo(studentApply.id)"
                                                 style="cursor:pointer;" width="35px" height="35px" hspace="5"
                                                 src="./assets/img/Generate.svg"/>
                                        </span>
                                        <span *ngIf="invoiceModel.invoice_number">
                                            <img title="Invoice Number already exists"
                                                 style="cursor:not-allowed" width="35px" height="35px" hspace="5"
                                                 src="./assets/img/Generate.svg"/>
                                        </span>
                                        <!--<span *ngIf="studentApply.invoice_number">
                                            <img title="Remove Invoice Number" (click)="removeInvoiceNo(studentApply.id)"
                                                 style="cursor:pointer;" width="35px" height="35px" hspace="5"
                                                 src="./assets/img/Cancel.svg"/>
                                        </span>
                                        <span *ngIf="!studentApply.invoice_number">
                                            <img title="No Invoice number to delete!"
                                                 style="cursor:not-allowed" width="35px" height="35px" hspace="5"
                                                 src="./assets/img/Cancel.svg"/>
                                        </span>-->
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th>Check-In</th>
                                <td>
                                    <div class="input-group input-form" style="width: 150px;">
                                        <input class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.invoice_checkin" placeholder="Check-In"
                                               ngx-mydatepicker name="mydate" #filterInvoiceCheckIn="ngx-mydatepicker"
                                               (click)="filterInvoiceCheckIn.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th width="190px">Check-Out</th>
                                <td>
                                    <div class="input-group input-form" style="width: 150px;">
                                        <input class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.invoice_checkout" placeholder="Check-Out"
                                               ngx-mydatepicker name="mydate" #filterInvoiceCheckOut="ngx-mydatepicker"
                                               (click)="filterInvoiceCheckOut.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Due date</th>
                                <td>
                                    <div class="input-group input-form" style="width: 150px;">
                                        <input class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.due_date" placeholder="Due date"
                                               ngx-mydatepicker name="mydate" #filterDueDate="ngx-mydatepicker"
                                               (click)="filterDueDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                    <!--hidden approved_date date input-->
                                    <div class="input-group input-form" style="width: 150px;display: none;">
                                        <input class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.approved_date" placeholder="Approve date"
                                               ngx-mydatepicker name="mydate" #filterApprovedDate="ngx-mydatepicker"
                                               (click)="filterApprovedDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Transfer fee</th>
                                <td>
                                    <input [(ngModel)]="invoiceModel.transfer_fee" placeholder="transfer fee" type="number"/>
                                </td>
                            </tr>
                            <tr>
                                <th>Custom label</th>
                                <td>
                                    <input [(ngModel)]="invoiceModel.custom1_label" placeholder="custom label" type="text"/>
                                </td>
                                <th>Custom fee</th>
                                <td>
                                    <input [(ngModel)]="invoiceModel.custom1_fee" placeholder="custom fee" type="number"/>
                                </td>
                            </tr>
                            <tr>
                                <th>Remittance Fee</th>
                                <td><input [(ngModel)]="invoiceModel.remittance_fee" placeholder="remittance fee"
                                           type="number"/></td>
                                <th>Registration fee</th>
                                <td>
                                    <input [(ngModel)]="invoiceModel.entrance_fee" placeholder="entrance fee"
                                           type="number"/>
                                </td>
                            </tr>
                            <tr>
                                <th>Holiday fee</th>
                                <td>
                                    <input [(ngModel)]="invoiceModel.holiday_fee" placeholder="holiday fee"
                                           type="number"/>
                                </td>
                                <th>Tuition fee</th>
                                <td>
                                    <input [(ngModel)]="invoiceModel.sub_total" placeholder="tuition fee"
                                           type="number"/>
                                </td>
                            </tr>
                            <tr bgcolor="#2f4f4f" style="text-align: center;font-size:11pt;color: white">
                                <td colspan="2">Total Discount</td>
                                <td colspan="2">Agent Commission</td>
                            </tr>
                            <tr style="text-align: center;font-size:11pt;font-weight: bolder;">
                                <td colspan="2">JPY {{invoiceModel.discount?invoiceModel.discount:0}}</td>
                                <td colspan="2">JPY {{invoiceModel.commission?invoiceModel.commission:0}}</td>
                            </tr>
                            <tr bgcolor="#00008b" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="4">
                                    Summary total
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4" style="text-align: center;font-size:15pt;font-weight: bolder;">
                                    <!--calculations of total-->

                                    JPY {{(invoiceModel.sub_total + invoiceModel.entrance_fee + invoiceModel.remittance_fee
                                    + invoiceModel.holiday_fee + invoiceModel.transfer_fee + invoiceModel.custom1_fee)
                                    - invoiceModel.discount - invoiceModel.commission}}

                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <table class="table table-bordered" *ngIf="studentApply.country_code!='JP'">
                            <tbody style="height:430px;overflow-y: auto;overflow-x: hidden; display: block; text-align:left;
                            font-size: 11pt">
                            <tr bgcolor="#00008b" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="5">
                                    International Invoice Details ($)
                                </td>
                            </tr>
                            <tr>
                                <th width="190px">Invoice number</th>
                                <td colspan="3"><input size="20" [(ngModel)]="invoiceModel.invoice_number" placeholder="invoice number"/>
                                    <span *ngIf="studentApply.student_status == '2' || studentApply.student_status == '5'">
                                        <span style="font-size:10pt;">&emsp;CREATE INVOICE NUMBER:</span>
                                        <span *ngIf="!invoiceModel.invoice_number">
                                            <img title="Generate Invoice Number" (click)="generateInvoiceNo(studentApply.id)"
                                                 style="cursor:pointer;" width="35px" height="35px" hspace="5"
                                                 src="./assets/img/Generate.svg"/>
                                        </span>
                                        <span *ngIf="invoiceModel.invoice_number">
                                            <img title="Invoice Number already exists"
                                                 style="cursor:not-allowed" width="35px" height="35px" hspace="5"
                                                 src="./assets/img/Generate.svg"/>
                                        </span>
                                        <!--<span *ngIf="studentApply.invoice_number">
                                            <img title="Remove Invoice Number" (click)="removeInvoiceNo(studentApply.id)"
                                                 style="cursor:pointer;" width="35px" height="35px" hspace="5"
                                                 src="./assets/img/Cancel.svg"/>
                                        </span>
                                        <span *ngIf="!studentApply.invoice_number">
                                            <img title="No Invoice number to delete!"
                                                 style="cursor:not-allowed" width="35px" height="35px" hspace="5"
                                                 src="./assets/img/Cancel.svg"/>
                                        </span>-->
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th>Check-In</th>
                                <td>
                                    <div class="input-group input-form" style="width: 150px;">
                                        <input class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.invoice_checkin" placeholder="Check-In"
                                               ngx-mydatepicker name="mydate" #filterInvoiceCheckIn="ngx-mydatepicker"
                                               (click)="filterInvoiceCheckIn.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Check-Out</th>
                                <td>
                                    <div class="input-group input-form" style="width: 150px;">
                                        <input class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.invoice_checkout" placeholder="Check-Out"
                                               ngx-mydatepicker name="mydate" #filterInvoiceCheckOut="ngx-mydatepicker"
                                               (click)="filterInvoiceCheckOut.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Due date</th>
                                <td colspan="3">
                                    <div class="input-group input-form" style="width: 150px;">
                                        <input class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.due_date" placeholder="Due date"
                                               ngx-mydatepicker name="mydate" #filterDueDate="ngx-mydatepicker"
                                               (click)="filterDueDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                    <!--hidden approved_date date input-->
                                    <div class="input-group input-form" style="width: 150px;display: none;">
                                        <input class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.approved_date" placeholder="Approve date"
                                               ngx-mydatepicker name="mydate" #filterApprovedDate="ngx-mydatepicker"
                                               (click)="filterApprovedDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Registration fee</th>
                                <td><input [(ngModel)]="invoiceModel.entrance_fee" placeholder="entrance fee"
                                           type="number"/></td>
                                <th width="210px">Tuition fee</th>
                                <td><input [(ngModel)]="invoiceModel.sub_total" placeholder="tuition fee"
                                           type="number"/></td>
                            </tr>
                            <tr>
                                <th>Holiday fee</th>
                                <td>
                                    <input [(ngModel)]="invoiceModel.holiday_fee" placeholder="holiday fee"
                                           type="number"/>
                                </td>
                                <th>Transfer fee</th>
                                <td>
                                    <input [(ngModel)]="invoiceModel.transfer_fee"
                                           placeholder="transfer fee" type="number"/>
                                </td>
                            </tr>
                            <tr bgcolor="#2f4f4f" style="text-align: center;font-size:11pt;color: white">
                                <td colspan="2">Total Discount</td>
                                <td colspan="2">Agent Commission</td>
                            </tr>
                            <tr style="text-align: center;font-size:11pt;font-weight: bolder;">
                                <td colspan="2">USD {{invoiceModel.discount?invoiceModel.discount:0}}</td>
                                <td colspan="2">USD {{invoiceModel.commission?invoiceModel.commission:0}}</td>
                            </tr>
                            <tr bgcolor="#00008b" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="4">
                                    Summary total
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4" style="text-align: center;font-size:15pt;font-weight: bolder;">
                                    USD {{invoiceModel.sub_total + invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee
                                    - (invoiceModel.commission + invoiceModel.discount)}}
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading="General Affairs" *ngIf="user.role.id == 1 || user.id == 49  || user.id == 16 || user.id == 35 || user.id == 29"> <!-- Admin = 1 and Bryant & Harumi, Rain & Kodai Access only-->
                        <table class="table table-bordered">
                            <tbody>
                            <tr bgcolor="#ff8c00" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="4">
                                    General Affairs Invoice (₱)
                                </td>
                            </tr>
                            <tr>
                                <th>Departure date</th>
                                <td>
                                    <div class="input-group input-form" style="width: 150px;">
                                        <input class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.departure_date" placeholder="Departure date"
                                               ngx-mydatepicker name="mydate" #filterDepartDate="ngx-mydatepicker"
                                               (click)="filterDepartDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Extension fee</th>
                                <td><input [(ngModel)]="invoiceModel.extention_fee_php" placeholder="extention fee" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Immigration fee</th>
                                <td><input [(ngModel)]="invoiceModel.immigration_fee_php" placeholder="immigration fee" type="number"/></td>
                                <th>Electrical fee</th>
                                <td><input [(ngModel)]="invoiceModel.electrical_fee_php" placeholder="electrical fee" type="number"/></td>
                            </tr>
                            <tr>
                                <th>SSP fee</th>
                                <td><input [(ngModel)]="invoiceModel.ssp_fee_php" placeholder="ssp fee" type="number"/></td>
                                <th>Student ID fee</th>
                                <td><input [(ngModel)]="invoiceModel.id_card" placeholder="student id" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Visa fee</th>
                                <td><input [(ngModel)]="invoiceModel.visa_fee_php" placeholder="visa fee" type="number"/></td>
                                <th>Acri fee</th>
                                <td><input [(ngModel)]="invoiceModel.acri_fee_php" placeholder="acri fee" type="number"/></td>
                            </tr>
                            <tr>
                                <th>I-Card cost</th>
                                <td><input [(ngModel)]="invoiceModel.i_card_cost" placeholder="i-card cost" type="number"/></td>
                                <th>Room Update</th>
                                <td><input [(ngModel)]="invoiceModel.room_update_php" placeholder="room update" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Photocopy fee</th>
                                <td><input [(ngModel)]="invoiceModel.photocopy_php" placeholder="photocopy fee" type="number"/></td>
                                <th>Meal (extra)</th>
                                <td><input [(ngModel)]="invoiceModel.meal_total_php" placeholder="meal fee" type="number"/></td>
                            </tr>
                            <tr>
                                <th>ECC cost</th>
                                <td><input [(ngModel)]="invoiceModel.ecc" placeholder="ecc cost" type="number"/></td>
                                <th>Adjustments</th>
                                <td><input [(ngModel)]="invoiceModel.adjustments_php" placeholder="adjustments" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Others</th>
                                <td><input [(ngModel)]="invoiceModel.others_php" placeholder="others php" type="number"/></td>
                                <td colspan="4" align="center">
                                    <img title="Print General Affairs Invoice" style="cursor:pointer" width="35px" height="35px"
                                         (click)="printGAInvoice(studentApply.passport_name,user.name?user.name:'',invoiceModel.term?invoiceModel.term:'',invoiceModel.ecc?invoiceModel.ecc:0,invoiceModel.extention_fee_php?invoiceModel.extention_fee_php:0,
                                         invoiceModel.immigration_fee_php?invoiceModel.immigration_fee_php:0,invoiceModel.electrical_fee_php?invoiceModel.electrical_fee_php:0,invoiceModel.ssp_fee_php?invoiceModel.ssp_fee_php:0,
                                         invoiceModel.id_card?invoiceModel.id_card:0,invoiceModel.visa_fee_php?invoiceModel.visa_fee_php:0,invoiceModel.acri_fee_php?invoiceModel.acri_fee_php:0,
                                         invoiceModel.i_card_cost?invoiceModel.i_card_cost:0,invoiceModel.room_update_php?invoiceModel.room_update_php:0,invoiceModel.photocopy_php?invoiceModel.photocopy_php:0,
                                         invoiceModel.meal_total_php?invoiceModel.meal_total_php:0,invoiceModel.adjustments_php?invoiceModel.adjustments_php:0,
                                         invoiceModel.departure_date?invoiceModel.departure_date:'1970-01-01 00:00:00',invoiceModel.others_php?invoiceModel.others_php:0)" src="./assets/img/Printer.svg"/>
                                    <img *ngIf="studentApply.ga_payment_status == '0'" title="Confirm Payment" style="cursor:pointer" width="35px" height="35px"
                                         (click)="confirmGAPayment(studentApply.id)" src="./assets/img/Pay.svg"/>
                                    <img *ngIf="studentApply.ga_payment_status == '1'" title="Paid Already" style="cursor: not-allowed"  width="35px" height="35px"
                                         src="./assets/img/Pay.svg"/>
                                </td>
                            </tr>
                            <tr bgcolor="#ff8c00" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="4">
                                    Summary total
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4" style="text-align: center;font-size:15pt;font-weight: bolder;">
                                    PHP {{invoiceModel.electrical_fee_php + invoiceModel.ssp_fee_php + invoiceModel.id_card +
                                    invoiceModel.visa_fee_php + invoiceModel.i_card_cost + invoiceModel.room_update_php +
                                    invoiceModel.photocopy_php + invoiceModel.meal_total_php + invoiceModel.adjustments_php +
                                    invoiceModel.others_php}}
                                </td>
                            </tr>
                            <tr bgcolor="#ff8c00" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="4">
                                    GA Payment Status
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4" style="text-align: center;font-size:15pt;font-weight: bolder;">
                                    <span *ngIf="studentApply.ga_payment_status == '0'" style="color:red">Not Yet Paid</span>
                                    <span *ngIf="studentApply.ga_payment_status == '1'">
                                        <span style="color:green">Paid<br></span>
                                        Received/Confirmed by: {{studentApply.ga_payment_confirm_by}}
                                    </span>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                </tabset>
            </div>
            <div class="modal-footer">
                <button style="cursor:pointer;" type="button" (click)="saveOrUpdateInvoice()" title="Save Invoice" [disabled]="processing">
                    <img width="40px" src="./assets/img/Save.svg"/>
                </button>
                <button style="cursor:pointer;" type="button" (click)="closeEditInvoiceModal()" title="Exit" [disabled]="processing">
                    <img width="40px" src="./assets/img/Close_round.svg"/>
                </button>
            </div>
        </div>
    </div>
</div>
<!--edit Invoice Modal end-->

<!--Edit Extension Invoice Modal start-->
<div bsModal #editExtensionInvoiceModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="editExtensionInvoiceModal"
     aria-labelledby="editExtensionInvoiceModal" aria-hidden="true" style="font-family:Helvetica,Arial,serif;color:darkblue;max-width: 100%;">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="extendedInvoiceModalLabel"> Edit Extension Invoice: {{studentApply.apply_no?studentApply.apply_no:studentApply.id_number}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closeEditExtensionInvoice()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <tabset>
                    <tab heading="Extension Invoice" *ngIf="studentApply.invoice_number && studentApply.country_code != 'JP' && studentApply.isExtInvoiceConfirmed == 1">
                        <table class="table table-bordered">
                            <tbody style="height:430px;overflow-y: auto;overflow-x: hidden; display: block; text-align:left;
                            font-size: 11pt">
                            <tr bgcolor="#006400" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="5">
                                    Extension New Details
                                </td>
                            </tr>
                            <tr>
                                <th>Checkin date</th>
                                <td>
                                    <div class="input-group input-form" style="width: 150px;">
                                        <input class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.selectCheckIn_date" placeholder="Checkin date"
                                               ngx-mydatepicker name="mydate" #filterSelectExtCheckInDate="ngx-mydatepicker"
                                               (click)="filterSelectExtCheckInDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Weeks</th>
                                <td>{{extensionInvoice.ext_term?extensionInvoice.ext_term:0}} </td>
                            </tr>
                            <tr>
                                <th>Checkout date</th>
                                <td>
                                    <div class="input-group input-form" style="width: 150px;">
                                        <input class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.selectCheckOut_date" placeholder="Checkout date"
                                               ngx-mydatepicker name="mydate" #filterSelectExtCheckOutDate="ngx-mydatepicker"
                                               (click)="filterSelectExtCheckOutDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Campus</th>
                                <td>
                                    <div style="float:left">
                                        <span *ngIf="campusCodes">
                                            <span class="form-group">
                                                <select style="width: 110px;" class="form-control" name="campcodes"
                                                        [(ngModel)]="extensionInvoice.ext_building_id" required>
                                                    <option [ngValue]=1>IT PARK</option>
                                                    <option [ngValue]=2>SEA FRONT</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Accommodation</th>
                                <td>
                                    <div style="float:left" *ngIf="extensionInvoice.ext_building_id==1">
                                        <span *ngIf="stayTypesItp">
                                            <span class="form-group">
                                                <select style="width: 190px;" class="form-control" name="stay"
                                                        [(ngModel)]="extensionInvoice.ext_accommodation_id" required>
                                                    <option [ngValue]=1>Share House</option>
                                                    <option [ngValue]=2>Alba Uno</option>
                                                    <option [ngValue]=3>Waterfront</option>
                                                    <option [ngValue]=7>Walk-in</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                    <div style="float:left" *ngIf="extensionInvoice.ext_building_id==2">
                                        <span *ngIf="stayTypesSfc">
                                            <span class="form-group">
                                                <select style="width: 190px;" class="form-control" name="stay"
                                                        [(ngModel)]="extensionInvoice.ext_accommodation_id" required>
                                                    <option [ngValue]=4>Share Room</option>
                                                    <option [ngValue]=5>Executive</option>
                                                    <option [ngValue]=6>Deluxe</option>
                                                    <option [ngValue]=8>Walk-in</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                                <th>Room Type</th>
                                <td>
                                    <div *ngIf="extensionInvoice.ext_accommodation_id == '1' || extensionInvoice.ext_accommodation_id == '4'"
                                         style="float:left">
                                        <span *ngIf="roomTypes">
                                            <span class="form-group">
                                                <select style="width: 100px;" class="form-control" name="room"
                                                        [(ngModel)]="extensionInvoice.ext_room_id" required>
                                                    <option [ngValue]=1>Single</option>
                                                    <option [ngValue]=2>Twin</option>
                                                    <option [ngValue]=3>Triple</option>
                                                    <option [ngValue]=4>Quad</option>
                                                    <option [ngValue]=5>Hex</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                    <div *ngIf="extensionInvoice.ext_accommodation_id == '2'" style="float:left">
                                        <span *ngIf="roomTypesZ">
                                            <span class="form-group">
                                                <select style="width: 130px;" class="form-control" name="roomZ"
                                                        [(ngModel)]="extensionInvoice.ext_room_id" required>
                                                    <option [ngValue]=6>AU-Single</option>
                                                    <option [ngValue]=7>AU-Twin</option>
                                                    <option [ngValue]=8>AU-Triple</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                    <div *ngIf="extensionInvoice.ext_accommodation_id == '3'" style="float:left">
                                        <span *ngIf="roomTypesWF">
                                            <span class="form-group">
                                                <select style="width: 130px;" class="form-control" name="roomWF"
                                                        [(ngModel)]="extensionInvoice.ext_room_id" required>
                                                    <option [ngValue]=9>WF-Single</option>
                                                    <option [ngValue]=10>WF-Twin</option>
                                                    <option [ngValue]=11>WF-Triple</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                    <div *ngIf="extensionInvoice.ext_accommodation_id == '5'" style="float:left">
                                        <span *ngIf="roomTypesEX">
                                            <span class="form-group">
                                                <select style="width: 130px;" class="form-control" name="roomEX"
                                                        [(ngModel)]="extensionInvoice.ext_room_id" required>
                                                    <option [ngValue]=12>EXE-Single</option>
                                                    <option [ngValue]=13>EXE-Twin</option>
                                                    <option [ngValue]=14>EXE-Triple</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                    <div *ngIf="extensionInvoice.ext_accommodation_id == '6'" style="float:left">
                                        <span *ngIf="roomTypesDX">
                                            <span class="form-group">
                                                <select style="width: 130px;" class="form-control" name="roomDX"
                                                        [(ngModel)]="extensionInvoice.ext_room_id" required>
                                                    <option [ngValue]=15>DX-Single</option>
                                                    <option [ngValue]=16>DX-Twin</option>
                                                    <option [ngValue]=17>DX-Triple</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Plan/Course</th>
                                <td>
                                    <div *ngIf="extensionInvoice.ext_accommodation_id">
                                        <span class="form-group">
                                            <select style="width: 145px;font-size:10pt;" class="form-control"
                                                    [(ngModel)]="extensionInvoice.ext_plan_id" required>
                                                <option value=1>Standard</option>
                                                <option value=2>Superior</option>
                                                <option value=3>Light</option>
                                                <option value=8>TOEIC</option>
                                                <option value=12>IELTS (4 PLAN)</option>
                                                <option value=13>IELTS (6 PLAN)</option>
                                                <option *ngIf="studentApply.country_code == 'JP' && studentApply.building_id == 2" value=14>Body Make ST</option>
                                                <option *ngIf="studentApply.country_code == 'JP' && studentApply.building_id == 2" value=15>Body Make HL</option>
                                                <option value=7>Business</option>
                                                <option value=16>Super Light</option>
                                                <option value=99>INTERN</option>
                                                <option value=-1>GUARDIAN</option>
                                            </select>
                                        </span>
                                    </div>
                                </td>
                            </tr>
                            <tr bgcolor="#006400" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="5">
                                    Extension International Invoice ($)
                                </td>
                            </tr>
                            <tr>
                                <th>Registration fee</th>
                                <td><input [(ngModel)]="extensionInvoice.ext_entrance_fee" placeholder="entrance fee"
                                           type="number"/></td>
                                <th width="210px">Tuition fee</th>
                                <td><input [(ngModel)]="extensionInvoice.ext_tuition_accommodation_fee" placeholder="tuition fee"
                                           type="number"/></td>
                            </tr>
                            <tr>
                                <th>Room upgrade fee</th>
                                <td>
                                    <input [(ngModel)]="extensionInvoice.ext_room_upgrade_fee" placeholder="room upgrade fee"
                                           type="number"/>
                                </td>
                                <th>Plan upgrade fee</th>
                                <td>
                                    <input [(ngModel)]="extensionInvoice.ext_plan_upgrade_fee" placeholder="plan upgrade fee"
                                           type="number"/>
                                </td>
                            </tr>
                            <tr>
                                <th>1) Other fee label</th>
                                <td>
                                    <input [(ngModel)]="extensionInvoice.ext_other1_label" placeholder="1) other fee label"
                                           type="text"/>
                                </td>
                                <th>1) Other fee value</th>
                                <td *ngIf="extensionInvoice.ext_other1_label">
                                    <input [(ngModel)]="extensionInvoice.ext_other1_fee" placeholder="1) other fee value"
                                           type="number"/>
                                </td>
                            </tr>
                            <tr>
                                <th>2) Other fee label</th>
                                <td>
                                    <input [(ngModel)]="extensionInvoice.ext_other2_label" placeholder="2) other fee label"
                                           type="text"/>
                                </td>
                                <th>2) Other fee value</th>
                                <td *ngIf="extensionInvoice.ext_other2_label">
                                    <input [(ngModel)]="extensionInvoice.ext_other2_fee" placeholder="2) other fee value"
                                           type="number"/>
                                </td>
                            </tr>
                            <tr>
                                <th>Holiday fee</th>
                                <td>
                                    <input [(ngModel)]="extensionInvoice.ext_holiday_fee" placeholder="holiday fee"
                                           type="number"/>
                                </td>
                            <tr bgcolor="#2f4f4f" style="text-align: center;font-size:11pt;color: white">
                                <td colspan="2">Total Discount</td>
                                <td colspan="2">Agent Commission</td>
                            </tr>
                            <tr style="text-align: center;font-size:11pt;font-weight: bolder;">
                                <td colspan="2">USD {{extensionInvoice.ext_discount?extensionInvoice.ext_discount:0}}</td>
                                <td colspan="2">USD {{extensionInvoice.ext_agent_commission?extensionInvoice.ext_agent_commission:0}}</td>
                            </tr>
                            <tr bgcolor="#00008b" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="4">
                                    Summary total
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4" style="text-align: center;font-size:15pt;font-weight: bolder;">
                                    USD {{extensionInvoice.ext_entrance_fee + extensionInvoice.ext_tuition_accommodation_fee + extensionInvoice.ext_room_upgrade_fee +
                                    extensionInvoice.ext_plan_upgrade_fee + extensionInvoice.ext_other1_fee +
                                    extensionInvoice.ext_other2_fee + extensionInvoice.ext_holiday_fee -
                                    (extensionInvoice.ext_agent_commission)}}
                                </td>
                            </tr>
                            <tr bgcolor="#006400" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="4">
                                    Peso Fees (₱)
                                </td>
                            </tr>
                            <tr>
                                <th>SSP fee</th>
                                <td><input [(ngModel)]="extensionInvoice.ext_ssp_fee_php" placeholder="ssp fee" type="number"/></td>
                                <th>Student ID fee</th>
                                <td><input [(ngModel)]="extensionInvoice.ext_student_id_card_php" placeholder="student id" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Electrical fee</th>
                                <td><input [(ngModel)]="extensionInvoice.ext_electrical_fee_php" placeholder="electrical fee" type="number"/></td>
                                <th>I-Card cost</th>
                                <td><input [(ngModel)]="extensionInvoice.ext_i_card_fee_php" placeholder="i-card cost" type="number"/></td>
                            </tr>
                            </tbody>
                        </table>
                        <div align="center">
                            <span>
                                <img title="Delete Extension Invoice" *ngIf="extensionInvoice.ext_invoice_number" style="cursor:pointer;" (click)="removeExtendedInvoiceNo(studentApply.id)"
                                     width="35px" height="35px" src="./assets/img/Cancel.svg"/>
                            </span>
                        </div>
                    </tab>
                    <tab heading="Extension Files" *ngIf="studentApply.invoice_number && studentApply.country_code != 'JP' && studentApply.isExtInvoiceConfirmed == 1">

                    </tab>
                </tabset>
            </div>
            <div class="modal-footer">
                <button *ngIf="studentApply.isExtInvoiceConfirmed != 2" style="cursor:pointer;" type="button" (click)="saveExtensionInvoice()" title="Save Extension Invoice" [disabled]="processing">
                    <img width="40px" src="./assets/img/Save.svg"/>
                </button>
                <button style="cursor:pointer;" type="button" (click)="closeEditExtensionInvoice()" title="Exit" [disabled]="processing">
                    <img width="40px" src="./assets/img/Close_round.svg"/>
                </button>
            </div>
        </div>
    </div>
</div>
<!--Edit Extension Invoice Modal end-->

<!--Open Edit Refund Invoice Modal start-->
<div bsModal #editRefundInvoiceModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="editRefundInvoiceModal"
     aria-labelledby="editRefundInvoiceModal" aria-hidden="true" style="font-family:Helvetica,Arial,serif;color:darkblue;max-width: 100%;">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="refundInvoiceModalLabel"> Edit Refund Invoice: {{studentApply.apply_no?studentApply.apply_no:studentApply.id_number}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closeEditRefundInvoice()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <tabset>
                    <tab heading="Refund Invoice" *ngIf="studentApply.invoice_number && studentApply.country_code != 'JP' && studentApply.isRefundInvoiceConfirmed == 1">
                        <table class="table table-bordered">
                            <tbody style="height:430px;overflow-y: auto;overflow-x: hidden; display: block; text-align:left;
                            font-size: 11pt">
                            <tr bgcolor="#8b0000" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="5">
                                    Refund New Details
                                </td>
                            </tr>
                            <tr>
                                <th>Checkin date</th>
                                <td>
                                    <div class="input-group input-form" style="width: 150px;">
                                        <input class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.selectCheckIn_date" placeholder="Checkin date"
                                               ngx-mydatepicker name="mydate" #filterSelectRfdCheckInDate="ngx-mydatepicker"
                                               (click)="filterSelectRfdCheckInDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Weeks</th>
                                <td>{{refundInvoice.rfd_term?refundInvoice.rfd_term:0}} </td>
                            </tr>
                            <tr>
                                <th>Checkout date</th>
                                <td>
                                    <div class="input-group input-form" style="width: 150px;">
                                        <input class="form-control date-input"
                                               [(ngModel)]="saveDataLoadEvent.selectCheckOut_date" placeholder="Checkout date"
                                               ngx-mydatepicker name="mydate" #filterSelectRfdCheckOutDate="ngx-mydatepicker"
                                               (click)="filterSelectRfdCheckOutDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Campus</th>
                                <td>
                                    <div style="float:left">
                                        <span *ngIf="campusCodes">
                                            <span class="form-group">
                                                <select style="width: 110px;" class="form-control" name="campcodes"
                                                        [(ngModel)]="refundInvoice.rfd_building_id" required>
                                                    <option [ngValue]=1>IT PARK</option>
                                                    <option [ngValue]=2>SEA FRONT</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Accommodation</th>
                                <td>
                                    <div style="float:left" *ngIf="refundInvoice.rfd_building_id==1">
                                        <span *ngIf="stayTypesItp">
                                            <span class="form-group">
                                                <select style="width: 190px;" class="form-control" name="stay"
                                                        [(ngModel)]="refundInvoice.rfd_accommodation_id" required>
                                                    <option [ngValue]=1>Share House</option>
                                                    <option [ngValue]=2>Alba Uno</option>
                                                    <option [ngValue]=3>Waterfront</option>
                                                    <option [ngValue]=7>Walk-in</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                    <div style="float:left" *ngIf="refundInvoice.rfd_building_id==2">
                                        <span *ngIf="stayTypesSfc">
                                            <span class="form-group">
                                                <select style="width: 190px;" class="form-control" name="stay"
                                                        [(ngModel)]="refundInvoice.rfd_accommodation_id" required>
                                                    <option [ngValue]=4>Share Room</option>
                                                    <option [ngValue]=5>Executive</option>
                                                    <option [ngValue]=6>Deluxe</option>
                                                    <option [ngValue]=8>Walk-in</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                                <th>Room Type</th>
                                <td>
                                    <div *ngIf="refundInvoice.rfd_accommodation_id == '1' || refundInvoice.rfd_accommodation_id == '4'"
                                         style="float:left">
                                        <span *ngIf="roomTypes">
                                            <span class="form-group">
                                                <select style="width: 100px;" class="form-control" name="room"
                                                        [(ngModel)]="refundInvoice.rfd_room_id" required>
                                                    <option [ngValue]=1>Single</option>
                                                    <option [ngValue]=2>Twin</option>
                                                    <option [ngValue]=3>Triple</option>
                                                    <option [ngValue]=4>Quad</option>
                                                    <option [ngValue]=5>Hex</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                    <div *ngIf="refundInvoice.rfd_accommodation_id == '2'" style="float:left">
                                        <span *ngIf="roomTypesZ">
                                            <span class="form-group">
                                                <select style="width: 130px;" class="form-control" name="roomZ"
                                                        [(ngModel)]="refundInvoice.rfd_room_id" required>
                                                    <option [ngValue]=6>AU-Single</option>
                                                    <option [ngValue]=7>AU-Twin</option>
                                                    <option [ngValue]=8>AU-Triple</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                    <div *ngIf="refundInvoice.rfd_accommodation_id == '3'" style="float:left">
                                        <span *ngIf="roomTypesWF">
                                            <span class="form-group">
                                                <select style="width: 130px;" class="form-control" name="roomWF"
                                                        [(ngModel)]="refundInvoice.rfd_room_id" required>
                                                    <option [ngValue]=9>WF-Single</option>
                                                    <option [ngValue]=10>WF-Twin</option>
                                                    <option [ngValue]=11>WF-Triple</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                    <div *ngIf="refundInvoice.rfd_accommodation_id == '5'" style="float:left">
                                        <span *ngIf="roomTypesEX">
                                            <span class="form-group">
                                                <select style="width: 130px;" class="form-control" name="roomEX"
                                                        [(ngModel)]="refundInvoice.rfd_room_id" required>
                                                    <option [ngValue]=12>EXE-Single</option>
                                                    <option [ngValue]=13>EXE-Twin</option>
                                                    <option [ngValue]=14>EXE-Triple</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                    <div *ngIf="refundInvoice.rfd_accommodation_id == '6'" style="float:left">
                                        <span *ngIf="roomTypesDX">
                                            <span class="form-group">
                                                <select style="width: 130px;" class="form-control" name="roomDX"
                                                        [(ngModel)]="refundInvoice.rfd_room_id" required>
                                                    <option [ngValue]=15>DX-Single</option>
                                                    <option [ngValue]=16>DX-Twin</option>
                                                    <option [ngValue]=17>DX-Triple</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Plan/Course</th>
                                <td>
                                    <div *ngIf="refundInvoice.rfd_accommodation_id">
                                        <span class="form-group">
                                            <select style="width: 145px;font-size:10pt;" class="form-control"
                                                    [(ngModel)]="refundInvoice.rfd_plan_id" required>
                                                <option value=1>Standard</option>
                                                <option value=2>Superior</option>
                                                <option value=3>Light</option>
                                                <option value=8>TOEIC</option>
                                                <option value=12>IELTS (4 PLAN)</option>
                                                <option value=13>IELTS (6 PLAN)</option>
                                                <option *ngIf="studentApply.country_code == 'JP' && studentApply.building_id == 2" value=14>Body Make ST</option>
                                                <option *ngIf="studentApply.country_code == 'JP' && studentApply.building_id == 2" value=15>Body Make HL</option>
                                                <option value=7>Business</option>
                                                <option value=16>Super Light</option>
                                                <option value=99>INTERN</option>
                                                <option value=-1>GUARDIAN</option>
                                            </select>
                                        </span>
                                    </div>
                                </td>
                            </tr>
                            <tr bgcolor="#8b0000" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="5">
                                    Refund International Invoice ($)
                                </td>
                            </tr>
                            <tr>
                                <th>Registration fee</th>
                                <td><input [(ngModel)]="refundInvoice.rfd_entrance_fee" placeholder="entrance fee"
                                           type="number"/></td>
                                <th width="210px">Tuition fee</th>
                                <td><input [(ngModel)]="refundInvoice.rfd_tuition_accommodation_fee" placeholder="tuition fee"
                                           type="number"/></td>
                            </tr>
                            <tr>
                                <th>Room upgrade fee</th>
                                <td>
                                    <input [(ngModel)]="refundInvoice.rfd_room_upgrade_fee" placeholder="room upgrade fee"
                                           type="number"/>
                                </td>
                                <th>Plan upgrade fee</th>
                                <td>
                                    <input [(ngModel)]="refundInvoice.rfd_plan_upgrade_fee" placeholder="plan upgrade fee"
                                           type="number"/>
                                </td>
                            </tr>
                            <tr>
                                <th>1) Other fee label</th>
                                <td>
                                    <input [(ngModel)]="refundInvoice.rfd_other1_label" placeholder="1) other fee label"
                                           type="text"/>
                                </td>
                                <th>1) Other fee value</th>
                                <td *ngIf="refundInvoice.rfd_other1_label">
                                    <input [(ngModel)]="refundInvoice.rfd_other1_fee" placeholder="1) other fee value"
                                           type="number"/>
                                </td>
                            </tr>
                            <tr>
                                <th>2) Other fee label</th>
                                <td>
                                    <input [(ngModel)]="refundInvoice.rfd_other2_label" placeholder="2) other fee label"
                                           type="text"/>
                                </td>
                                <th>2) Other fee value</th>
                                <td *ngIf="refundInvoice.rfd_other2_label">
                                    <input [(ngModel)]="refundInvoice.rfd_other2_fee" placeholder="2) other fee value"
                                           type="number"/>
                                </td>
                            </tr>
                            <tr>
                                <th>Holiday fee</th>
                                <td>
                                    <input [(ngModel)]="refundInvoice.rfd_holiday_fee" placeholder="holiday fee"
                                           type="number"/>
                                </td>
                            <tr bgcolor="#2f4f4f" style="text-align: center;font-size:11pt;color: white">
                                <td colspan="2">Total Discount</td>
                                <td colspan="2">Agent Commission</td>
                            </tr>
                            <tr style="text-align: center;font-size:11pt;font-weight: bolder;">
                                <td colspan="2">USD {{refundInvoice.rfd_discount?refundInvoice.rfd_discount:0}}</td>
                                <td colspan="2">USD {{refundInvoice.rfd_agent_commission?refundInvoice.rfd_agent_commission:0}}</td>
                            </tr>
                            <tr bgcolor="#00008b" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="4">
                                    Summary total
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4" style="text-align: center;font-size:15pt;font-weight: bolder;">
                                    USD {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee +
                                    refundInvoice.rfd_plan_upgrade_fee + refundInvoice.rfd_other1_fee +
                                    refundInvoice.rfd_other2_fee + refundInvoice.rfd_holiday_fee -
                                    (refundInvoice.rfd_agent_commission)}}
                                </td>
                            </tr>
                            <tr bgcolor="#8b0000" style="text-align: center;font-size:15pt;color: white">
                                <td colspan="4">
                                    Peso Fees (₱)
                                </td>
                            </tr>
                            <tr>
                                <th>SSP fee</th>
                                <td><input [(ngModel)]="refundInvoice.rfd_ssp_fee_php" placeholder="ssp fee" type="number"/></td>
                                <th>Student ID fee</th>
                                <td><input [(ngModel)]="refundInvoice.rfd_student_id_card_php" placeholder="student id" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Electrical fee</th>
                                <td><input [(ngModel)]="refundInvoice.rfd_electrical_fee_php" placeholder="electrical fee" type="number"/></td>
                                <th>I-Card cost</th>
                                <td><input [(ngModel)]="refundInvoice.rfd_i_card_fee_php" placeholder="i-card cost" type="number"/></td>
                            </tr>
                            </tbody>
                        </table>
                        <div align="center">
                            <span>
                                <img title="Delete Refund Invoice" *ngIf="refundInvoice.rfd_invoice_number" style="cursor:pointer;" (click)="removeRefundInvoiceNo(studentApply.id)"
                                     width="35px" height="35px" src="./assets/img/Cancel.svg"/>
                            </span>
                        </div>
                    </tab>
                </tabset>
            </div>
            <div class="modal-footer">
                <button *ngIf="studentApply.isRefundInvoiceConfirmed != 2" style="cursor:pointer;" type="button" (click)="saveRefundInvoice()" title="Save Refund Invoice" [disabled]="processing">
                    <img width="40px" src="./assets/img/Save.svg"/>
                </button>
                <button style="cursor:pointer;" type="button" (click)="closeEditRefundInvoice()" title="Exit" [disabled]="processing">
                    <img width="40px" src="./assets/img/Close_round.svg"/>
                </button>
            </div>
        </div>
    </div>
</div>
<!--Open Edit Refund Invoice Modal end-->

<!--edit Refund Invoice Modal start-->
<div bsModal #refundInvoiceModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="refundInvoiceModal"
     aria-labelledby="refundInvoiceModal" aria-hidden="true" style="font-family:Helvetica,Arial,serif;color:darkblue;max-width: 100%;">
    <div class="modal-dialog modal-lg" style="max-width: 700px;!important;font-family:Helvetica,Arial,serif;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><span style="color: darkorange;">REFUND INVOICE No: </span>{{refundInvoice.refund_invoice_number}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="refundInvoiceModal.hide()" >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <tabset>
                    <tab heading='Template'>
                        <div style="width:100%;text-align: center;font-weight: bolder;font-size: 14pt"><b>Choose an Refund Invoice Template</b></div>
                        <div>
                            <select [(ngModel)]="selectInvoice" style="width: 100%;font-size: 11pt;font-weight: bolder" class="form-control">
                                <option [value]="2" [selected]="selectInvoice==2">Refund Invoice (USD:$)</option>
                                <option [value]="3" [selected]="selectInvoice==3">Refund Philippine Invoice (PHP:₱)</option> <!--This PH Template Invoice-->
                            </select>
                        </div>
                        <span *ngIf="selectInvoice == 2">
                            <span id="agent-page-rfd">
                                <div style="text-align: right;width: 100%; float:right">
                                    <span style="margin-right:4em;font-size: 10pt">
                                        <b>NO. {{refundInvoice.refund_invoice_number}}</b>
                                    </span>
                                </div>
                                <div>
                                    <span><img height="100%" width="100%" src="assets/images/header-invoice.png"/></span>
                                </div>
                                <div style="width:100%;margin-bottom: 20px;font-weight:bold">
                                    <div style="margin-right:5em;font-size: 9pt;float:right">Date: {{today | date:'longDate'}}</div>
                                    <span *ngIf="studentApply.country_code != 'TW' && studentApply.country_code != 'CN'">
                                        <div style="margin-left:5em;font-size: 9pt;float:left">{{studentApply.agent_name}}</div>
                                    </span>
                                </div>
                                <div style="width:100%;text-align: center;font-size: 12pt">
                                    <span style="font-weight: bold"><span style="font-size: 20px;">INVOICE</span><br>
                                        This is to bill {{studentApply.sex==1?'Mr.':'Ms.'}} {{refundInvoice.sa_passport_name}}
                                    </span>
                                </div>
                                <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt"> for the following breakdown:</div>
                                <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt;
                                    margin-bottom: 20px;"> Period Covered Original Invoice:
                                    <b>{{invoiceModel.term}} week(s) &nbsp;&nbsp;{{invoiceModel.checkin_date | date: 'dd-MMM-yyyy'}} ~ {{invoiceModel.checkout_date | date: 'dd-MMM-yyyy'}}</b>
                                </div>
                                <table style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;
                                            float:right; margin-left:45%;margin-right:11%;margin-bottom: 20px;" border="0">
                                    <tr style="font-size: 13pt;line-height: 30px;border-bottom: 1px solid #000;">
                                        <th style="text-align: center;">Description</th>
                                        <th style="text-align: center;">Unit Price</th>
                                        <th style="text-align: center;">Pax</th>
                                        <th style="text-align: center;">Total Amount</th>
                                    </tr>
                                    <tr>
                                        <td>Registration Fee</td>
                                        <td>${{invoiceModel.entrance_fee}}</td>
                                        <td>{{invoiceModel.entrance_fee?1:0}}</td>
                                        <td>${{invoiceModel.entrance_fee}}</td>
                                    </tr>
                                    <tr style="font-size: 10pt">
                                        <td>Tuition & Accommodation
                                            <span style="font-size: 11px;">
                                                <div *ngFor="let g of reservedRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '1'">Share House</span>
                                                    <span *ngIf="g.accommodation_name == '4'">Share Room</span>
                                                    <span *ngIf="g.accommodation_name == '5'">Executive Room</span>
                                                    <span *ngIf="g.accommodation_name == '6'">Deluxe Room</span>
                                                    <span *ngIf="g.accommodation_name == '7'">Walk In</span>
                                                    <span *ngIf="g.accommodation_name == '8'">Walk In</span>
                                                    <span *ngIf="g.accommodation_name == '-1'">Walk In</span>
                                                    <span style="width:80px;font-size:10pt;">({{g.room_type | uppercase}})</span>
                                                </div>
                                                <div *ngFor="let g of reservedCondoRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '9'">Condo</span>
                                                </div>
                                                <div *ngFor="let g of reservedHotelsRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '2'">Alba Uno</span>
                                                    <span *ngIf="g.accommodation_name == '3'">Waterfront</span>
                                                </div>
                                                <div *ngFor="let g of reservedWalkinRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '7' || g.accommodation_name == '8'">Walk In</span>
                                                </div>
                                                <div *ngFor="let a of reservedHotelsList">
                                                    {{a.accommodation}}
                                                </div>
                                                <div *ngFor="let b of courseList">
                                                    {{b.memo | slice:4:100}}
                                                </div>
                                            </span>
                                        </td>
                                        <td>${{invoiceModel.sub_total}}</td>
                                        <td>1</td>
                                        <td>${{invoiceModel.sub_total}}</td>
                                    </tr>
                                    <tr>
                                        <td>Holiday Fee</td>
                                        <td>${{invoiceModel.holiday_fee}}</td>
                                        <td>{{invoiceModel.holiday_fee?1:0}}</td>
                                        <td>${{invoiceModel.holiday_fee}}</td>
                                    </tr>
                                    <tr>
                                        <td style="font-size:9pt;text-align:center;">{{invoiceModel.holidays}}</td>
                                    </tr>
                                    <tr>
                                        <td>Transfer Fee</td>
                                        <td>${{invoiceModel.transfer_fee}}</td>
                                        <td>{{invoiceModel.transfer_fee?1:0}}</td>
                                        <td>${{invoiceModel.transfer_fee}}</td>
                                    </tr>
                                    <tr style="color:red" *ngFor="let g of invoiceDiscountList">
                                        <td>{{g.reason}}</td>
                                        <td>-${{g.discount}}</td>
                                        <td></td>
                                        <td>-${{g.discount}}</td>
                                    </tr>
                                    <tr>
                                        <td style="border-top:1px solid #000;" colspan="3"><b>Sub Total:</b></td>
                                        <td style="border-top:1px solid #000;">
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 11pt;font-weight: bolder">
                                                    <b> ${{ ((invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee + invoiceModel.sub_total) - invoiceModel.discount) }}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr style="color:red;" *ngIf="invoiceModel.commission">
                                        <td>Agent Commission
                                            <span *ngIf="invoiceModel.commission_percentage">
                                                ({{invoiceModel.commission_percentage | number : '1.0-0'}}%)
                                            </span>
                                        </td>
                                        <td>-${{invoiceModel.commission}}</td>
                                        <td></td>
                                        <td>-${{invoiceModel.commission}}</td>
                                    </tr>
                                    <tr style="color:black;font-size:8pt;" *ngIf="invoiceModel.commission_reason">
                                        <td>{{invoiceModel.commission_reason}}</td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr style="line-height: 30px;border-top:1px solid #000;">
                                        <td><strong style="color:blue">Total Amount</strong></td>
                                        <td colspan="2"><b>US DOLLARS:</b></td>
                                        <td>
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 13pt;font-weight: bolder">
                                                    <b>${{ ((invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee + invoiceModel.sub_total) - (invoiceModel.commission + invoiceModel.discount))}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                                <br>
                                <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt;
                                    margin-bottom: 20px;"> Period Covered Refund Invoice:
                                    <b>{{refundInvoice.rfd_term}} week(s) &nbsp;&nbsp;{{refundInvoice.rfd_checkin_date | date: 'dd-MMM-yyyy'}} ~ {{refundInvoice.rfd_checkout_date | date: 'dd-MMM-yyyy'}}</b>
                                </div>
                                <table style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;
                                            float:right; margin-left:45%;margin-right:11%;margin-bottom: 20px;" border="0">
                                    <tr style="font-size: 13pt;line-height: 30px;border-bottom: 1px solid #000;">
                                        <th style="text-align: center;">Description</th>
                                        <th style="text-align: center;">Unit Price</th>
                                        <th style="text-align: center;">Pax</th>
                                        <th style="text-align: center;">Total Amount</th>
                                    </tr>
                                    <tr>
                                        <td>Registration Fee</td>
                                        <td>${{refundInvoice.rfd_entrance_fee}}</td>
                                        <td>{{refundInvoice.rfd_entrance_fee?1:0}}</td>
                                        <td>${{refundInvoice.rfd_entrance_fee}}</td>
                                    </tr>
                                    <tr style="font-size: 10pt">
                                        <td>Tuition & Accommodation<br>
                                            <span style="font-size: 11px;">
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 1">Share House</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 2">Alba Uno</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 3">Waterfront</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 4">Share Room</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 5">Executive Room</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 6">Deluxe Room</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 7">Walk In</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 8">Walk In</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == -1">Walk In</span>
                                                <span *ngIf="refundInvoice.rfd_room_id == 1">(SINGLE)</span>
                                                <span *ngIf="refundInvoice.rfd_room_id == 2">(TWIN)</span>
                                                <span *ngIf="refundInvoice.rfd_room_id == 3">(TRIPLE)</span>
                                                <span *ngIf="refundInvoice.rfd_room_id == 4">(QUAD)</span>
                                                <span *ngIf="refundInvoice.rfd_room_id == 5">(HEX)</span>
                                                <span>{{refundInvoice.rfd_course}}</span>
                                            </span>
                                        </td>
                                        <td>${{refundInvoice.rfd_tuition_accommodation_fee}}</td>
                                        <td>1</td>
                                        <td>${{refundInvoice.rfd_tuition_accommodation_fee}}</td>
                                    </tr>
                                    <tr *ngIf="refundInvoice.rfd_room_upgrade_fee">
                                        <td>{{refundInvoice.rfd_room_upgrade_fee?'Room Upgrade':''}}</td>
                                        <td>{{refundInvoice.rfd_room_upgrade_fee?$:''}}{{refundInvoice.rfd_room_upgrade_fee?refundInvoice.rfd_room_upgrade_fee:''}}</td>
                                        <td>{{refundInvoice.rfd_room_upgrade_fee?1:''}}</td>
                                        <td>{{refundInvoice.rfd_room_upgrade_fee?$:''}}{{refundInvoice.rfd_room_upgrade_fee?refundInvoice.rfd_room_upgrade_fee:''}}</td>
                                    </tr>
                                    <tr *ngIf="refundInvoice.rfd_plan_upgrade_fee">
                                        <td>{{refundInvoice.rfd_plan_upgrade_fee?'Plan Upgrade':''}}</td>
                                        <td>{{refundInvoice.rfd_plan_upgrade_fee?$:''}}{{refundInvoice.rfd_plan_upgrade_fee?refundInvoice.rfd_plan_upgrade_fee:''}}</td>
                                        <td>{{refundInvoice.rfd_plan_upgrade_fee?1:''}}</td>
                                        <td>{{refundInvoice.rfd_plan_upgrade_fee?$:''}}{{refundInvoice.rfd_plan_upgrade_fee?refundInvoice.rfd_plan_upgrade_fee:''}}</td>
                                    </tr>
                                    <tr>
                                        <td>{{refundInvoice.rfd_other1_label?refundInvoice.rfd_other1_label:''}}</td>
                                        <td>{{refundInvoice.rfd_other1_fee?$:''}}{{refundInvoice.rfd_other1_fee?refundInvoice.rfd_other1_fee:''}}</td>
                                        <td>{{refundInvoice.rfd_other1_fee?1:''}}</td>
                                        <td>{{refundInvoice.rfd_other1_fee?$:''}}{{refundInvoice.rfd_other1_fee?refundInvoice.rfd_other1_fee:''}}</td>
                                    </tr>
                                    <tr>
                                        <td>{{refundInvoice.rfd_other2_label?refundInvoice.rfd_other2_label:''}}</td>
                                        <td>{{refundInvoice.rfd_other2_fee?$:''}}{{refundInvoice.rfd_other2_fee?refundInvoice.rfd_other2_fee:''}}</td>
                                        <td>{{refundInvoice.rfd_other2_fee?1:''}}</td>
                                        <td>{{refundInvoice.rfd_other2_fee?$:''}}{{refundInvoice.rfd_other2_fee?refundInvoice.rfd_other2_fee:''}}</td>
                                    </tr>
                                    <tr>
                                        <td>Holiday Fee</td>
                                        <td>${{refundInvoice.rfd_holiday_fee}}</td>
                                        <td>{{refundInvoice.rfd_holiday_fee?1:0}}</td>
                                        <td>${{refundInvoice.rfd_holiday_fee}}</td>
                                    </tr>
                                    <tr>
                                        <td style="font-size:9pt;text-align:center;">{{refundInvoice.rfd_holidays}}</td>
                                    </tr>
                                    <tr style="color:red" *ngFor="let g of refundDiscountList">
                                        <td>{{g.reason}}</td>
                                        <td>{{g.discount?'-$':''}}{{g.discount}}</td>
                                        <td></td>
                                        <td>{{g.discount?'-$':''}}{{g.discount}}</td>
                                    </tr>
                                    <tr>
                                        <td style="border-top:1px solid #000;" colspan="3"><b>Sub Total:</b></td>
                                        <td style="border-top:1px solid #000;">
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 11pt;font-weight: bolder">
                                                    <b> ${{(refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee +
                                                        refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_tuition_accommodation_fee +
                                                        refundInvoice.rfd_plan_upgrade_fee + refundInvoice.rfd_other1_fee + refundInvoice.rfd_other2_fee) - (refundInvoice.rfd_discount)}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr style="color:red;border-bottom: 1px solid #000;" *ngIf="refundInvoice.rfd_agent_commission">
                                        <td>Agent Commission({{refundInvoice.rfd_commission_percentage | number : '1.0-0'}}%)</td>
                                        <td>-${{refundInvoice.rfd_agent_commission}}</td>
                                        <td></td>
                                        <td>-${{refundInvoice.rfd_agent_commission}}</td>
                                    </tr>
                                    <tr style="line-height: 30px;">
                                        <td><strong style="color:blue">Total Amount</strong></td>
                                        <td colspan="2"><b>US DOLLARS:</b></td>
                                        <td>
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 13pt;font-weight: bolder">
                                                    <b>${{((refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_tuition_accommodation_fee +
													refundInvoice.rfd_plan_upgrade_fee + refundInvoice.rfd_other1_fee + refundInvoice.rfd_other2_fee) - (refundInvoice.rfd_agent_commission + refundInvoice.rfd_discount))}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                                <table style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;float:right; margin-left:45%;margin-right:11%;margin-bottom: 20px;" border="0">
                                    <tr>
                                        <td>Original Invoice</td>
                                        <td colspan="3">
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 13pt;font-weight: bolder">
                                                    <b>${{ ((invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee + invoiceModel.sub_total) - (invoiceModel.commission + invoiceModel.discount))}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Refund Invoice</td>
                                        <td colspan="3">
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 13pt;font-weight: bolder">
                                                    <b>${{((refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_tuition_accommodation_fee +
													refundInvoice.rfd_plan_upgrade_fee + refundInvoice.rfd_other1_fee + refundInvoice.rfd_other2_fee) - (refundInvoice.rfd_agent_commission + refundInvoice.rfd_discount))}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Total</td>
                                        <td colspan="3">
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 13pt;font-weight: bolder;font-color:red;">
                                                    <b>${{ ((invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee + invoiceModel.sub_total) - (invoiceModel.commission + invoiceModel.discount)) -
                                                        ((refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee + refundInvoice.rfd_other1_fee + refundInvoice.rfd_other2_fee) - (refundInvoice.rfd_agent_commission + refundInvoice.rfd_discount))}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </span>
                            <span id="student-page-rfd">
                                <div style="text-align: right;width: 100%; float:right">
                                    <span style="margin-right:4em;font-size: 10pt">
                                        <b>NO. {{refundInvoice.refund_invoice_number}}</b>
                                    </span>
                                </div>
                                <div>
                                    <span><img height="100%" width="100%" src="assets/images/header-invoice.png"/></span>
                                </div>
                                <div style="width:100%;text-align: right">
                                    <b><span
                                            style="margin-right:5em;font-size: 9pt">Date: {{today | date:'longDate'}}</span></b>
                                </div>
                                <div style="width:100%;text-align: center;font-size: 12pt">
                                    <span style="font-weight: bold"><span style="font-size: 20px;">INVOICE</span><br>
                                        This is to bill {{studentApply.sex==1?'Mr.':'Ms.'}} {{refundInvoice.sa_passport_name}}
                                    </span>
                                </div>
                                <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt"> for the following breakdown:</div>
                                <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt;
                                    margin-bottom: 20px;"> Period Covered Original Invoice:
                                    <b>{{invoiceModel.term}} week(s) &nbsp;&nbsp;{{invoiceModel.checkin_date | date: 'dd-MMM-yyyy'}} ~ {{invoiceModel.checkout_date | date: 'dd-MMM-yyyy'}}</b>
                                </div>
                                <table style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;
                                            float:right; margin-left:45%;margin-right:11%;margin-bottom: 20px;" border="0">
                                    <tr style="font-size: 13pt;line-height: 30px;border-bottom: 1px solid #000;">
                                        <th style="text-align: center;">Description</th>
                                        <th style="text-align: center;">Unit Price</th>
                                        <th style="text-align: center;">Pax</th>
                                        <th style="text-align: center;">Total Amount</th>
                                    </tr>
                                    <tr>
                                        <td>Registration Fee</td>
                                        <td>${{invoiceModel.entrance_fee}}</td>
                                        <td>{{invoiceModel.entrance_fee?1:0}}</td>
                                        <td>${{invoiceModel.entrance_fee}}</td>
                                    </tr>
                                    <tr style="font-size: 10pt">
                                        <td>Tuition & Accommodation
                                            <span style="font-size: 11px;">
                                                <div *ngFor="let g of reservedRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '1'">Share House</span>
                                                    <span *ngIf="g.accommodation_name == '4'">Share Room</span>
                                                    <span *ngIf="g.accommodation_name == '5'">Executive Room</span>
                                                    <span *ngIf="g.accommodation_name == '6'">Deluxe Room</span>
                                                    <span *ngIf="g.accommodation_name == '7'">Walk In</span>
                                                    <span *ngIf="g.accommodation_name == '8'">Walk In</span>
                                                    <span *ngIf="g.accommodation_name == '-1'">Walk In</span>
                                                    <span style="width:80px;font-size:10pt;">({{g.room_type | uppercase}})</span>
                                                </div>
                                                <div *ngFor="let g of reservedCondoRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '9'">Condo</span>
                                                </div>
                                                <div *ngFor="let g of reservedHotelsRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '2'">Alba Uno</span>
                                                    <span *ngIf="g.accommodation_name == '3'">Waterfront</span>
                                                </div>
                                                <div *ngFor="let g of reservedWalkinRoomsList">
                                                    <span style="width:80px;font-size:8pt;">{{g.building_id==1?'ITP ':'SFC '}}</span>
                                                    <span *ngIf="g.accommodation_name == '7' || g.accommodation_name == '8'">Walk In</span>
                                                </div>
                                                <div *ngFor="let a of reservedHotelsList">
                                                    {{a.accommodation}}
                                                </div>
                                                <div *ngFor="let b of courseList">
                                                    {{b.memo | slice:4:100}}
                                                </div>
                                            </span>
                                        </td>
                                        <td>${{invoiceModel.sub_total}}</td>
                                        <td>1</td>
                                        <td>${{invoiceModel.sub_total}}</td>
                                    </tr>
                                    <tr>
                                        <td>Holiday Fee</td>
                                        <td>${{invoiceModel.holiday_fee}}</td>
                                        <td>{{invoiceModel.holiday_fee?1:0}}</td>
                                        <td>${{invoiceModel.holiday_fee}}</td>
                                    </tr>
                                    <tr>
                                        <td style="font-size:9pt;text-align:center;">{{invoiceModel.holidays}}</td>
                                    </tr>
                                    <tr>
                                        <td>Transfer Fee</td>
                                        <td>${{invoiceModel.transfer_fee}}</td>
                                        <td>{{invoiceModel.transfer_fee?1:0}}</td>
                                        <td>${{invoiceModel.transfer_fee}}</td>
                                    </tr>
                                    <tr style="color:red" *ngFor="let g of invoiceDiscountList">
                                        <td>{{g.reason}}</td>
                                        <td>-${{g.discount}}</td>
                                        <td></td>
                                        <td>-${{g.discount}}</td>
                                    </tr>
                                    <tr>
                                        <td style="border-top:1px solid #000;" colspan="3"><b>Sub Total:</b></td>
                                        <td style="border-top:1px solid #000;">
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 11pt;font-weight: bolder">
                                                    <b> ${{ ((invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee + invoiceModel.sub_total) - invoiceModel.discount) }}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr style="line-height: 30px;">
                                        <td><strong style="color:blue">Total Amount</strong></td>
                                        <td colspan="2"><b>US DOLLARS:</b></td>
                                        <td>
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 13pt;font-weight: bolder">
                                                    <b>${{ ((invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee + invoiceModel.sub_total) - invoiceModel.discount)}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                                <br>
                                <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt;
                                    margin-bottom: 20px;"> Period Covered Refund Invoice:
                                    <b>{{refundInvoice.rfd_term}} week(s) &nbsp;&nbsp;{{refundInvoice.rfd_checkin_date | date: 'dd-MMM-yyyy'}} ~ {{refundInvoice.rfd_checkout_date | date: 'dd-MMM-yyyy'}}</b>
                                </div>
                                <table style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;
                                            float:right; margin-left:45%;margin-right:11%;margin-bottom: 20px;" border="0">
                                    <tr style="font-size: 13pt;line-height: 30px;border-bottom: 1px solid #000;">
                                        <th style="text-align: center;">Description</th>
                                        <th style="text-align: center;">Unit Price</th>
                                        <th style="text-align: center;">Pax</th>
                                        <th style="text-align: center;">Total Amount</th>
                                    </tr>
                                    <tr>
                                        <td>Registration Fee</td>
                                        <td>${{refundInvoice.rfd_entrance_fee}}</td>
                                        <td>{{refundInvoice.rfd_entrance_fee?1:0}}</td>
                                        <td>${{refundInvoice.rfd_entrance_fee}}</td>
                                    </tr>
                                    <tr style="font-size: 10pt">
                                        <td>Tuition & Accommodation<br>
                                            <span style="font-size: 11px;">
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 1">Share House</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 2">Alba Uno</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 3">Waterfront</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 4">Share Room</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 5">Executive Room</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 6">Deluxe Room</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 7">Walk In</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == 8">Walk In</span>
                                                <span *ngIf="refundInvoice.rfd_accommodation_id == -1">Walk In</span>
                                                <span *ngIf="refundInvoice.rfd_room_id == 1">(SINGLE)</span>
                                                <span *ngIf="refundInvoice.rfd_room_id == 2">(TWIN)</span>
                                                <span *ngIf="refundInvoice.rfd_room_id == 3">(TRIPLE)</span>
                                                <span *ngIf="refundInvoice.rfd_room_id == 4">(QUAD)</span>
                                                <span *ngIf="refundInvoice.rfd_room_id == 5">(HEX)</span>
                                                <span>{{refundInvoice.rfd_course}}</span>
                                            </span>
                                        </td>
                                        <td>${{refundInvoice.rfd_tuition_accommodation_fee}}</td>
                                        <td>1</td>
                                        <td>${{refundInvoice.rfd_tuition_accommodation_fee}}</td>
                                    </tr>
                                    <tr *ngIf="refundInvoice.rfd_room_upgrade_fee">
                                        <td>{{refundInvoice.rfd_room_upgrade_fee?'Room Upgrade':''}}</td>
                                        <td>{{refundInvoice.rfd_room_upgrade_fee?$:''}}{{refundInvoice.rfd_room_upgrade_fee?refundInvoice.rfd_room_upgrade_fee:''}}</td>
                                        <td>{{refundInvoice.rfd_room_upgrade_fee?1:''}}</td>
                                        <td>{{refundInvoice.rfd_room_upgrade_fee?$:''}}{{refundInvoice.rfd_room_upgrade_fee?refundInvoice.rfd_room_upgrade_fee:''}}</td>
                                    </tr>
                                    <tr *ngIf="refundInvoice.rfd_plan_upgrade_fee">
                                        <td>{{refundInvoice.rfd_plan_upgrade_fee?'Plan Upgrade':''}}</td>
                                        <td>{{refundInvoice.rfd_plan_upgrade_fee?$:''}}{{refundInvoice.rfd_plan_upgrade_fee?refundInvoice.rfd_plan_upgrade_fee:''}}</td>
                                        <td>{{refundInvoice.rfd_plan_upgrade_fee?1:''}}</td>
                                        <td>{{refundInvoice.rfd_plan_upgrade_fee?$:''}}{{refundInvoice.rfd_plan_upgrade_fee?refundInvoice.rfd_plan_upgrade_fee:''}}</td>
                                    </tr>
                                    <tr>
                                        <td>{{refundInvoice.rfd_other1_label?refundInvoice.rfd_other1_label:''}}</td>
                                        <td>{{refundInvoice.rfd_other1_fee?$:''}}{{refundInvoice.rfd_other1_fee?refundInvoice.rfd_other1_fee:''}}</td>
                                        <td>{{refundInvoice.rfd_other1_fee?1:''}}</td>
                                        <td>{{refundInvoice.rfd_other1_fee?$:''}}{{refundInvoice.rfd_other1_fee?refundInvoice.rfd_other1_fee:''}}</td>
                                    </tr>
                                    <tr>
                                        <td>{{refundInvoice.rfd_other2_label?refundInvoice.rfd_other2_label:''}}</td>
                                        <td>{{refundInvoice.rfd_other2_fee?$:''}}{{refundInvoice.rfd_other2_fee?refundInvoice.rfd_other2_fee:''}}</td>
                                        <td>{{refundInvoice.rfd_other2_fee?1:''}}</td>
                                        <td>{{refundInvoice.rfd_other2_fee?$:''}}{{refundInvoice.rfd_other2_fee?refundInvoice.rfd_other2_fee:''}}</td>
                                    </tr>
                                    <tr>
                                        <td>Holiday Fee</td>
                                        <td>${{refundInvoice.rfd_holiday_fee}}</td>
                                        <td>{{refundInvoice.rfd_holiday_fee?1:0}}</td>
                                        <td>${{refundInvoice.rfd_holiday_fee}}</td>
                                    </tr>
                                    <tr>
                                        <td style="font-size:9pt;text-align:center;">{{refundInvoice.rfd_holidays}}</td>
                                    </tr>
                                    <tr style="color:red" *ngFor="let g of refundDiscountList">
                                        <td>{{g.reason}}</td>
                                        <td>{{g.discount?'-$':''}}{{g.discount}}</td>
                                        <td></td>
                                        <td>{{g.discount?'-$':''}}{{g.discount}}</td>
                                    </tr>
                                    <tr>
                                        <td style="border-top:1px solid #000;" colspan="3"><b>Sub Total:</b></td>
                                        <td style="border-top:1px solid #000;">
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 11pt;font-weight: bolder">
                                                    <b> ${{ ((refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_tuition_accommodation_fee) + refundInvoice.rfd_plan_upgrade_fee +
													refundInvoice.rfd_other1_fee + refundInvoice.rfd_other2_fee) - (refundInvoice.rfd_discount)}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr style="line-height: 30px;">
                                        <td><strong style="color:blue">Total Amount</strong></td>
                                        <td colspan="2"><b>US DOLLARS:</b></td>
                                        <td>
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 13pt;font-weight: bolder">
                                                    <b>${{((refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_tuition_accommodation_fee) + refundInvoice.rfd_plan_upgrade_fee +
													refundInvoice.rfd_other1_fee + refundInvoice.rfd_other2_fee) - (refundInvoice.rfd_discount)}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                                <table style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;float:right; margin-left:45%;margin-right:11%;margin-bottom: 20px;" border="0">
                                    <tr>
                                        <td>Original Invoice</td>
                                        <td colspan="3">
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 13pt;font-weight: bolder">
                                                    <b>${{((invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee + invoiceModel.sub_total) - invoiceModel.discount)}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Refund Invoice</td>
                                        <td colspan="3">
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 13pt;font-weight: bolder">
                                                    <b>${{((refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_tuition_accommodation_fee) + refundInvoice.rfd_plan_upgrade_fee +
													refundInvoice.rfd_other1_fee + refundInvoice.rfd_other2_fee) - (refundInvoice.rfd_discount)}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Total</td>
                                        <td colspan="3">
                                            <div style="width:100%;text-align: center">
                                                <span style="font-size: 13pt;font-weight: bolder;font-color:red;">
                                                    <b>${{(invoiceModel.entrance_fee + invoiceModel.holiday_fee + invoiceModel.transfer_fee + invoiceModel.sub_total - invoiceModel.discount) -
                                                        (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee + refundInvoice.rfd_other1_fee + refundInvoice.rfd_other2_fee - refundInvoice.rfd_discount)}}</b>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </span>
                        </span>
                        <span *ngIf="selectInvoice == 3">
                            <span id="peso-invoice-rfd">
                                <div align="center">
                                    <table style="width:80%;margin-bottom: 15px;font-size:14pt;">
                                        <tr>
                                            <td>Invoice No</td>
                                            <td>{{refundInvoice.refund_invoice_number}}</td>
                                            <td align="right" style="font-size:12pt;">{{today | date: 'MM/dd/yyyy'}}</td>
                                        </tr>
                                    </table>
                                    <table style="width:80%;margin-bottom: 15px;font-size:14pt;">
                                        <tr>
                                            <td style="text-decoration: underline;">Student Name</td>
                                            <td>{{refundInvoice.sa_passport_name}}</td>
                                            <td align="center">QQ ENGLISH</td>
                                        </tr>
                                    </table>
                                    <table style="width:80%;margin-bottom:15px;">
                                        <tr align="right">
                                            <td colspan="3">
                                                REAL GREATENGLISH CORPORATION
                                            </td>
                                        </tr>
                                        <tr align="right">
                                            <td colspan="3">
                                                7th Floor Skyrise 4 Building, Cebu I.T Park,<br> Apas, Cebu City, Philippines 6000
                                            </td>
                                        </tr>
                                        <tr align="right">
                                            <td colspan="3">
                                                Tel:+63(0)32-479-9042
                                            </td>
                                        </tr>
                                        <tr align="right">
                                            <td colspan="3">
                                                Email: info@qqenglish.jp
                                            </td>
                                        </tr>
                                    </table>
                                    <table style="width:80%;margin-bottom:15px;">
                                        <tr style="font-size:14pt;font-weight: bolder">
                                            <td align="center">TOTAL:</td>
                                            <td align="right" style="border-bottom:1px solid black">{{phRateInvoice}}</td>
                                            <td>PHP</td>
                                        </tr>
                                    </table>
                                </div>
                                <div align="center">
                                    <table style="width:80%;border-collapse: collapse;border: 1px solid black;margin-bottom:10px;">
                                        <tr style="background-color: darkgray">
                                            <th style="border: 1px solid black;text-align:center;">Description</th>
                                            <th style="border: 1px solid black;text-align:center;">Unit Price</th>
                                            <th style="border: 1px solid black;text-align:center;">Pax</th>
                                            <th style="border: 1px solid black;text-align:center;">Amount</th>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;">Tuition fee</td>
                                            <td align="right" style="border: 1px solid black;">{{phRateInvoice}}</td>
                                            <td align="right" style="border: 1px solid black;color: red">1</td>
                                            <td align="center" style="border: 1px solid black;color: red">{{phRateInvoice}}</td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr>
                                            <td align="left" style="border: 1px solid black;padding: 10px 10px 10px"></td>
                                            <td align="right" style="border: 1px solid black;"></td>
                                            <td align="right" style="border: 1px solid black;color: red"></td>
                                            <td align="center" style="border: 1px solid black;color: red"></td>
                                        </tr>
                                        <tr style="background-color: darkgray">
                                            <td colspan="2" align="left">Total amount to be paid to RGE</td>
                                            <td align="right">PHP</td>
                                            <td align="center" style="border:1px solid black;">{{phRateInvoice}}</td>
                                        </tr>
                                    </table>
                                    <table style="width:80%;margin-bottom: 20px;font-size:12pt;">
                                        <tr>
                                            <td style="font-size:12pt;"><b>Bank account</b></td>
                                            <td align="right" style="font-weight:bolder">Payable to</td>
                                            <td align="center">REAL GREATENGLISH CORPORATION</td>
                                        </tr>
                                        <tr>
                                            <td align="right" colspan="2" style="font-weight:bolder">Bank Name</td>
                                            <td align="center">Unionbank of the Philippines</td>
                                        </tr>
                                        <tr>
                                            <td align="right" colspan="2" style="font-weight:bolder">Branch</td>
                                            <td align="center">Asiatown I.T. Park Branch</td>
                                        </tr>
                                        <tr>
                                            <td align="right" colspan="2" style="font-weight:bolder">Account Number</td>
                                            <td align="center">001430001656</td>
                                        </tr>
                                        <tr>
                                            <td align="right" colspan="2" style="font-weight:bolder">Swift Code</td>
                                            <td align="center">UBPHPHMM</td>
                                        </tr>
                                    </table>
                                </div>
                            </span>
                        </span>
                        <br>
                        <div style="float: right">
                            <button *ngIf="(user.role.id == 1 || user.id == 35) && selectInvoice && refundInvoice.rfd_isInvoiceConfirmed == 1"
                                    (click)="lockRfdInvoice(refundInvoice.sa_id_refund)" [disabled]="processing">
                                <img src="assets/img/Locked.svg" style="cursor:pointer;" width="35px" height="35px" title="Lock Invoice">
                            </button>
                            <button *ngIf="(user.role.id == 1 || user.id == 35) && selectInvoice && refundInvoice.rfd_isInvoiceConfirmed == 2"
                                    (click)="unlockRfdInvoice(refundInvoice.sa_id_refund)" [disabled]="processing">
                                <img src="assets/img/Unlocked.svg" style="cursor:pointer;" width="35px" height="35px" title="Unlock Invoice">
                            </button>
                            <button *ngIf="refundInvoice.refund_invoice_number && selectInvoice" title="Print Refund Invoice" style="cursor:pointer"
                                    (click)="printRfdInvoice(studentApply.country_code,studentApply.sex,studentApply.agent_name?studentApply.agent_name:'',refundInvoice.sa_passport_name?refundInvoice.sa_passport_name:'',
                                         refundInvoice.refund_invoice_number?refundInvoice.refund_invoice_number:'',refundInvoice.rfd_checkin_date?refundInvoice.rfd_checkin_date:'1900-01-01 00:00:00',
                                         refundInvoice.rfd_checkout_date?refundInvoice.rfd_checkout_date:'1900-01-01 00:00:00',refundInvoice.rfd_term?refundInvoice.rfd_term:0,
                                         refundInvoice.rfd_building_id?refundInvoice.rfd_building_id:0,refundInvoice.rfd_accommodation_id?refundInvoice.rfd_accommodation_id:0,
                                         refundInvoice.rfd_room_id?refundInvoice.rfd_room_id:0,refundInvoice.rfd_room_name?refundInvoice.rfd_room_name:'',
                                         refundInvoice.rfd_plan_id?refundInvoice.rfd_plan_id:0,refundInvoice.rfd_course?refundInvoice.rfd_course:'',
                                         refundInvoice.rfd_holidays?refundInvoice.rfd_holidays:'',refundInvoice.rfd_entrance_fee?refundInvoice.rfd_entrance_fee:0,
                                         refundInvoice.rfd_tuition_accommodation_fee?refundInvoice.rfd_tuition_accommodation_fee:0,refundInvoice.rfd_room_upgrade_fee?refundInvoice.rfd_room_upgrade_fee:0,
                                         refundInvoice.rfd_plan_upgrade_fee?refundInvoice.rfd_plan_upgrade_fee:0,refundInvoice.rfd_holiday_fee?refundInvoice.rfd_holiday_fee:0,
                                         refundInvoice.rfd_other1_label?refundInvoice.rfd_other1_label:'',refundInvoice.rfd_other1_fee?refundInvoice.rfd_other1_fee:0,
                                         refundInvoice.rfd_other2_label?refundInvoice.rfd_other2_label:'',refundInvoice.rfd_other2_fee?refundInvoice.rfd_other2_fee:0,
                                         refundInvoice.rfd_agent_commission?refundInvoice.rfd_agent_commission:0,refundInvoice.rfd_total_cost?refundInvoice.rfd_total_cost:0,
                                         refundInvoice.rfd_ssp_fee_php?refundInvoice.rfd_ssp_fee_php:0,refundInvoice.rfd_visa_fee_php?refundInvoice.rfd_visa_fee_php:0,
                                         refundInvoice.rfd_student_id_card_php?refundInvoice.rfd_student_id_card_php:0,refundInvoice.rfd_electrical_fee_php?refundInvoice.rfd_electrical_fee_php:0,
                                         refundInvoice.rfd_i_card_fee_php?refundInvoice.rfd_i_card_fee_php:0,refundInvoice.rfd_textbook_fee_php?refundInvoice.rfd_textbook_fee_php:0,
                                         refundInvoice.rfd_departure_date?refundInvoice.rfd_departure_date:'1900-01-01 00:00:00',refundInvoice.rfd_extention_fee_php?refundInvoice.rfd_extention_fee_php:0,
                                         refundInvoice.rfd_immigration_fee_php?refundInvoice.rfd_immigration_fee_php:0,refundInvoice.rfd_acri_fee_php?refundInvoice.rfd_acri_fee_php:0,
                                         refundInvoice.rfd_photocopy_php?refundInvoice.rfd_photocopy_php:0,refundInvoice.rfd_meal_total_php?refundInvoice.rfd_meal_total_php:0,
                                         refundInvoice.rfd_ecc_php?refundInvoice.rfd_ecc_php:0,refundInvoice.rfd_adjustments_php?refundInvoice.rfd_adjustments_php:0,refundInvoice.rfd_isInvoiceConfirmed,
                                         refundInvoice.rfd_commission_percentage?refundInvoice.rfd_commission_percentage:0,refundDiscountList,refundInvoice.rfd_discount?refundInvoice.rfd_discount:0,phRateInvoice,selectInvoice,
										 invoiceModel.sub_total?invoiceModel.sub_total:0,invoiceModel.entrance_fee?invoiceModel.entrance_fee:0,studentApply.pickup_cost?studentApply.pickup_cost:0,
                                         studentApply.meal_cost?studentApply.meal_cost:0,studentApply.special_holiday_jpy?studentApply.special_holiday_jpy:0,invoiceModel.transfer_fee?invoiceModel.transfer_fee:0,studentApply.extension_fee_jpy?studentApply.extension_fee_jpy:0,studentApply.additional_lesson_fee?studentApply.additional_lesson_fee:0,
                                         invoiceModel.remittance_fee?invoiceModel.remittance_fee:0,studentApply.special_cost?studentApply.special_cost:0,studentApply.beginner_cost?studentApply.beginner_cost:0,invoiceModel.discount?invoiceModel.discount:0,invoiceModel.commission?invoiceModel.commission:0,studentApply.country_code,studentApply.id_number?studentApply.id_number:0,
                                         studentApply.student_name?studentApply.student_name:'',studentApply.passport_name?studentApply.passport_name:'',invoiceModel.checkin_date,invoiceModel.checkout_date,studentApply.course?studentApply.course:'',studentApply.dormitory_room_name?studentApply.dormitory_room_name.toUpperCase():'',studentApply.room_id1?studentApply.room_id1:0,
                                         invoiceModel.term?invoiceModel.term:'',invoiceModel.invoice_number?invoiceModel.invoice_number:'',studentApply.accommodation_id1?studentApply.accommodation_id1:'0',invoiceDiscountList,studentApply.entrance_date?studentApply.entrance_date:'1900-01-01 00:00:00',studentApply.graduation_date?studentApply.graduation_date:'1900-01-01 00:00:00',studentApply.campus?studentApply.campus:'',
                                         studentApply.options_meals,studentApply.options_pickup,studentApply.arrival_date?studentApply.arrival_date:'1900-01-01 00:00:00',studentApply.flight_no?studentApply.flight_no:'',studentApply.arrival_time?studentApply.arrival_time:'1900-01-01 00:00:00',studentApply.memo?studentApply.memo:'',studentApply.domi_info_campus?studentApply.domi_info_campus:'',
                                         invoiceModel.due_date?invoiceModel.due_date:'1900-01-01 00:00:00',invoiceModel.commission_percentage?invoiceModel.commission_percentage:0,invoiceModel.ssp_fee_php?invoiceModel.ssp_fee_php:0,invoiceModel.id_card?invoiceModel.id_card:0,invoiceModel.electrical_fee_php?invoiceModel.electrical_fee_php:0, invoiceModel.i_card_cost?invoiceModel.i_card_cost:0,
                                         invoiceModel.ecc?invoiceModel.ecc:0,invoiceModel.extention_fee_php?invoiceModel.extention_fee_php:0,invoiceModel.holiday_fee?invoiceModel.holiday_fee:0,reservedRoomsList,reservedHotelsList,studentApply.option_fee?studentApply.option_fee:0,invoiceModel.holidays?invoiceModel.holidays:'',courseList,
                                         invoiceModel.commission_percentage?invoiceModel.commission_percentage:0,phRateInvoice,studentApply.agent_name?studentApply.agent_name:'',studentApply.isInvoiceConfirmed,invoiceModel.custom1_label?invoiceModel.custom1_label:'',invoiceModel.custom1_fee?invoiceModel.custom1_fee:0,reservedCondoRoomsList,
                                         reservedHotelsRoomsList,reservedWalkinRoomsList,invoiceModel.commission_reason?invoiceModel.commission_reason:'',invoiceModel.approved_date?invoiceModel.approved_date:'1900-01-01 00:00:00')">
                                <img style="cursor:pointer" width="35px" height="35px" src="assets/img/Printer.svg"/>
                            </button>
                        </div>
                    </tab>
                    <tab heading='Add discount(s)' *ngIf="(user.role.id == 1 || user.role.id == 2) && refundInvoice.rfd_isInvoiceConfirmed == 1">
                        <table class="table table-bordered table-striped">
                            <tr>
                                <th>Student Information</th>
                                <td colspan="3" style="font-size:11pt; font-weight: bolder;">
                                    {{refundInvoice.sa_passport_name}}
                                </td>
                            </tr>
                        </table>
                        <select [(ngModel)]="selectDiscountBy" style="width: 100%;font-size: 11pt;font-weight: bolder" class="form-control">
                            <option [disabled]="true" [selected]="true">S E L E C T</option>
                            <option  [value]="1" [selected]="selectDiscountBy==1">Discount by Percentage(%)</option>
                            <option  [value]="0" [selected]="selectDiscountBy==0">Discount by Input</option>
                        </select>
                        <span *ngIf="selectDiscountBy == 1">
                            <table class="table table-bordered table-striped">
                                <tr style="font-family:Helvetica,Arial,serif;color:darkblue;">
                                    <td>
                                        <span style="font-size:11pt;">Registration</span>
                                        <input type="checkbox" [checked]="registerCheckExtCommision"
                                               (change)="registerCheckExtCommision = !registerCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Tuition</span>
                                        <input type="checkbox" [checked]="tuitionCheckExtCommision"
                                               (change)="tuitionCheckExtCommision = !tuitionCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Holiday</span>
                                        <input type="checkbox" [checked]="holidayCheckExtCommision"
                                               (change)="holidayCheckExtCommision = !holidayCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Room upgrade</span>
                                        <input type="checkbox" [checked]="roomupgradeCheckExtCommision"
                                               (change)="roomupgradeCheckExtCommision = !roomupgradeCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Plan upgrade</span>
                                        <input type="checkbox" [checked]="planupgradeCheckExtCommision"
                                               (change)="planupgradeCheckExtCommision = !planupgradeCheckExtCommision" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <span style="font-size:11pt;">Discount(rfd)</span>
                                        <input type="checkbox" [checked]="discountCheckExtCommision"
                                               (change)="discountCheckExtCommision = !discountCheckExtCommision" />
                                    </td>
                                    <th>Percentage</th>
                                    <td>
                                        <select style="width: 100px;font-size: 11pt;font-weight: bolder"
                                                class="form-control"[(ngModel)]="percentageDiscount">
                                           <option *ngFor="let number of percentQuantity" value="{{number/100}}">{{number}}%</option>
                                    </select>
                                    </td>
                                    <th>Item(s) X<br> Discount(%) </th>
                                    <td style="font-size: 10pt;font-weight: bolder" *ngIf="percentageDiscount">
                                        <span> <!--Refund Invoice USD-->
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee}} X
                                                {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee}} X
                                                {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && holidayCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_holiday_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && roomupgradeCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_plan_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_holiday_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageDiscount}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <th>Reason <br> <span style="font-size:9pt;font-weight: bolder">e.g. JP promotion 10% off</span></th>
                                    <td colspan="4">
                                        <input required style="width: 100%;" placeholder="Reason on giving discount" [(ngModel)]="invoiceDiscountByPercentage.reason"/>
                                    </td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <span *ngIf="invoiceDiscountByPercentage.reason && percentageDiscount"><!--Refund Invoice Commission USD-->
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee +
                                            refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && holidayCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && roomupgradeCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee +
                                            refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_plan_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee +
                                             refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_holiday_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee +
                                            refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee +
                                             refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee +
                                             refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee +
                                            refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf=" percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_holiday_fee +
                                            refundInvoice.rfd_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf="percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee +
                                            refundInvoice.rfd_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf="percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee +
                                            refundInvoice.rfd_holiday_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf="percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf="percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf="percentageDiscount >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee),
                                                invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                    <button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
									<button *ngIf="percentageDiscount >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, percentageDiscount * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount),invoiceDiscountByPercentage.reason,refundInvoice.refund_invoice_number)"
                                            [disabled]="processing">
                                        Add
                                    </button>
                                </span>
                            </div>
                        </span>
                        <span *ngIf="selectDiscountBy == 0">
                            <table class="table table-bordered table-striped">
                                <tr>
                                    <th>Enter discount</th>
                                    <td><input type="number" min="1" max="999" style="width: 90%;" placeholder="Discount" [(ngModel)]="invoiceDiscountByInput.discount"/></td>
                                    <th>To be discounted</th>
                                    <td style="font-size: 11pt;font-weight: bolder; color: red">{{invoiceDiscountByInput.discount}}</td>
                                </tr>
                                <tr>
                                <tr>
                                    <th>Reason <br> <span style="font-size:9pt;font-weight: bolder">e.g. Registration coupon</span></th>
                                    <td colspan="3">
                                        <input style="width: 100%;" placeholder="Reason on giving discount" [(ngModel)]="invoiceDiscountByInput.reason"/>
                                    </td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <button class="btn" type="button btn-secondary" *ngIf="invoiceDiscountByInput.reason && invoiceDiscountByInput.discount"
                                        (click)="saveRfdInvoiceDiscount(refundInvoice.sa_id_refund, invoiceDiscountByInput.discount,invoiceDiscountByInput.reason,refundInvoice.refund_invoice_number)"
                                        [disabled]="processing">
                                    Add
                                </button>
                            </div>
                        </span>
                    </tab>
                    <tab heading='List' *ngIf="(user.role.id == 1 || user.role.id == 2) && refundInvoice.rfd_isInvoiceConfirmed == 1">
                        <table class="table table-bordered table-striped"
                               style="height: calc( 70vh - 141px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:9pt;text-align: center">
                            <thead class="thead-inverse" style="font-size:12px;text-align: center">
                            <th style="text-align: center">Invoice number</th>
                            <th style="text-align: center">Discount</th>
                            <th style="text-align: center">Who discounted</th>
                            <th style="text-align: center">Reason</th>
                            <th style="text-align: center">Created at</th>
                            <th style="text-align: center">Action</th>
                            </thead>
                            <tbody>
                            <tr *ngFor="let g of refundDiscountList">
                                <td>{{g.student_invoice_no}}</td>
                                <td>{{g.discount}}</td>
                                <td style="width:100px;">{{g.who_discounted}}</td>
                                <td style="width:210px;">{{g.reason}}</td>
                                <td style="font-size:9pt;width:100px;">{{g.created_at}}</td>
                                <td style="width:60px;">
                                    <button style="cursor:pointer" type="button"
                                            (click)="removeRfdInvoiceDiscount(g.apply_id,g.id,g.student_invoice_no, g.discount)" [disabled]="processing">
                                        <img width="15px" height="20px" src="./assets/img/Cancel.svg"/>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading='Edit commission' *ngIf="(user.role.id == 1 || user.role.id == 2) && refundInvoice.rfd_isInvoiceConfirmed == 1">
                        <table class="table table-bordered table-striped">
                            <tr>
                                <th>Student Information</th>
                                <td colspan="3" style="font-size:11pt; font-weight: bolder;">
                                    {{refundInvoice.sa_passport_name}}
                                </td>
                            </tr>
                            <tr>
                                <th>Agent Information</th>
                                <td colspan="3" style="font-size:11pt; font-weight: bolder;">
                                    {{studentApply.agent_name}} {{studentApply.agent_email}}
                                </td>
                            </tr>
                        </table>
                        <select [(ngModel)]="selectCommissionBy" style="width: 100%;font-size: 11pt;font-weight: bolder" class="form-control">
                            <option [disabled]="true" [selected]="true">S E L E C T</option>
                            <option  [value]="1" [selected]="selectCommissionBy==1">Commission by Percentage(%)</option>
                            <option  [value]="0" [selected]="selectCommissionBy==0">Commission by Input</option>
                        </select>
                        <span *ngIf="selectCommissionBy == 1">
                            <table class="table table-bordered table-striped">
                                <tr style="font-family:Helvetica,Arial,serif;color:darkblue;">
                                    <td>
                                        <span style="font-size:11pt;">Registration</span>
                                        <input type="checkbox" [checked]="registerCheckExtCommision"
                                               (change)="registerCheckExtCommision = !registerCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Tuition</span>
                                        <input type="checkbox" [checked]="tuitionCheckExtCommision"
                                               (change)="tuitionCheckExtCommision = !tuitionCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Holiday</span>
                                        <input type="checkbox" [checked]="holidayCheckExtCommision"
                                               (change)="holidayCheckExtCommision = !holidayCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Room upgrade</span>
                                        <input type="checkbox" [checked]="roomupgradeCheckExtCommision"
                                               (change)="roomupgradeCheckExtCommision = !roomupgradeCheckExtCommision" />
                                    </td>
                                    <td>
                                        <span style="font-size:11pt;">Plan upgrade</span>
                                        <input type="checkbox" [checked]="planupgradeCheckExtCommision"
                                               (change)="planupgradeCheckExtCommision = !planupgradeCheckExtCommision" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <span style="font-size:11pt;">Discount(rfd)</span>
                                        <input type="checkbox" [checked]="discountCheckExtCommision"
                                               (change)="discountCheckExtCommision = !discountCheckExtCommision" />
                                    </td>
                                    <th>Percentage</th>
                                    <td>
                                        <select style="width: 100px;font-size: 11pt;font-weight: bolder"
                                                class="form-control"[(ngModel)]="percentageCommission">
                                           <option *ngFor="let number of percentQuantity" value="{{number/100}}">{{number}}%</option>
                                    </select>
                                    </td>
                                    <th>Item(s) X<br> Discount(%)</th>
                                    <td style="font-size: 10pt;font-weight: bolder" *ngIf="percentageCommission">
                                        <span> <!--Refund Invoice USD-->
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee}} X
                                                {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee}} X
                                                {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && holidayCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_holiday_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && roomupgradeCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && roomupgradeCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && planupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2'}}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_plan_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_plan_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_holiday_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="!discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision">
                                                {{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                            <span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
											<span *ngIf="discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision">{{refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount}} X {{percentageCommission}} = <br>
                                                <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                    {{percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount) | number : '1.0-2' }}
                                                </span>
                                            </span>
                                        </span>
                                    </td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <span><!--Refund Invoice Commission USD-->
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && holidayCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && !holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && registerCheckExtCommision && holidayCheckExtCommision && !tuitionCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && roomupgradeCheckExtCommision && tuitionCheckExtCommision && !registerCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && roomupgradeCheckExtCommision && !holidayCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !registerCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee+ refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_plan_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_holiday_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && !discountCheckExtCommision && !planupgradeCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                    <button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_holiday_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && !planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && !registerCheckExtCommision && tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && tuitionCheckExtCommision && !holidayCheckExtCommision && roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_tuition_accommodation_fee + refundInvoice.rfd_room_upgrade_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
									<button *ngIf="percentageCommission >= 0 && discountCheckExtCommision && registerCheckExtCommision && !tuitionCheckExtCommision && holidayCheckExtCommision && !roomupgradeCheckExtCommision && planupgradeCheckExtCommision" class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund, percentageCommission * (refundInvoice.rfd_entrance_fee + refundInvoice.rfd_holiday_fee + refundInvoice.rfd_plan_upgrade_fee - refundInvoice.rfd_discount))"
                                            [disabled]="processing">
                                        Save
                                    </button>
                                </span>
                            </div>
                        </span>
                        <span *ngIf="selectCommissionBy == 0">
                            <table class="table table-bordered table-striped">
                                <tr>
                                    <th>Enter commission<br>
                                    <span style="font-size:9pt;font-weight: bolder">e.g. 0, 100, 255</span></th>
                                    <td><input type="number" min="1" max="999" style="width: 90%;" placeholder="Discount" [(ngModel)]="refundInvoice.rfd_agent_commission"/></td>
                                    <th>Agent commission</th>
                                    <td style="font-size: 11pt;font-weight: bolder; color: red">{{refundInvoice.rfd_agent_commission}}</td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <button class="btn" type="button btn-secondary" style="cursor:pointer"
                                        (click)="saveRefundInvoiceCommission(refundInvoice.sa_id_refund,refundInvoice.rfd_agent_commission)"
                                        [disabled]="processing" *ngIf="refundInvoice.rfd_agent_commission >= 0">
                                    Save
                                </button>
                            </div>
                        </span>
                    </tab>
                </tabset>
            </div>
        </div>
    </div>
</div>
<!--edit Refund Invoice Modal end-->

<!-- Print Section -->
<schedule-print-student [schedulelist]='list'></schedule-print-student> <!--sort by id-->
<grad-print-student [gradlist]='listGradStud'></grad-print-student> <!--graduating list-->
<dorm-print-student [dormchangelist]='listChangeDormRoom'
                    [hotelchangeList]='listChangeHotelsRoom'
                    [walkinchangeList]='listChangeWalkinsRoom'
                    [condochangeList]='listChangeCondosRoom'>
</dorm-print-student> <!--dorm change list-->
<print-student [otherlist]='printTemplateList'></print-student> <!--sort by arrival date & time-->
<cafe-print-student [qqeCafeList]="listCountCafeFirst"
                    [qqeCafeListSec]="listCountCafeSecond"
                    [qqeCafeListThird]="listCountCafeThird"
                    [qqeCafeListFourth]="listCountCafeFourth">
</cafe-print-student> <!--no sort-->
<ga-print-student [gaInvoiceTemplates]='list' [userName]="user.name"></ga-print-student> <!--general affairs invoices-->
<aiportpickup-print-student [airportPickUpList]='list'></aiportpickup-print-student> <!--sort by id-->
<acceptletter-print-student [acceptLetterList]='list'></acceptletter-print-student> <!--sort by id-->
<!-- Print Section -->
