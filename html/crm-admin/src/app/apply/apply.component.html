<div class="menu">
    <div class="Data-Download">Student Apply</div>
    <div class="div-data-download">
        <table>
            <tr>
                <td>
                    <button style="cursor:pointer;" class="btn form-control" type="button" (click)="moreActions()">
                        <span style="font-weight:bold">
                            Actions
                        </span>
                    </button>
                </td>
                <td>
                    <input class="form-control" style="width:170px;" [(ngModel)]="passportName"
                           placeholder="name/tel/email"/>
                </td>
                <td>
                    <div class="input-group input-form">
                        <input style="width: 125px;" class="form-control date-input " [(ngModel)]="checkIn"
                               placeholder="Checkin From" ngx-mydatepicker name="mydate"
                               #filterDateFrom="ngx-mydatepicker" (click)="filterDateFrom.toggleCalendar()"
                               [options]="myDatePickerOptions" readonly/>
                        <button style="cursor:pointer;" type="button" (click)="filterDateFrom.clearDate()">
                            <img src="./assets/img/Delete.svg"/>
                        </button>
                    </div>
                </td>
                <td>
                    <div class="input-group input-form">
                        <input style="width: 125px;" class="form-control date-input " [(ngModel)]="checkOut"
                               placeholder="Checkin To" ngx-mydatepicker name="mydate" #filterDateTo="ngx-mydatepicker"
                               (click)="filterDateTo.toggleCalendar()" [options]="myDatePickerOptions" readonly/>
                        <button style="cursor:pointer;" type="button" (click)="filterDateTo.clearDate()">
                            <img src="./assets/img/Delete.svg"/>
                        </button>
                    </div>
                </td>
                <td *ngFor="let o of campusCodes" style="cursor:pointer;">
                    {{o.value}}&nbsp;
                    <input type="radio" name="optradio" [(ngModel)]="building" class="form-control" [value]="o.id"
                           [checked]="">
                </td>
                <td>
                    <button style="cursor:pointer;" class="btn form-control" type="button" (click)="search()">
                        <img src="./assets/img/Search.svg" style="height:17px; width:20px;"/>
                    </button>
                </td>
                <td>
                    <button style="cursor:pointer;" type="button" class="btn form-control" (click)="printList()">
                        Pickup <img src="./assets/img/Logs.svg"/>
                    </button>
                </td>
                <td>
                    <button style="cursor:pointer;" type="button" class="btn form-control " (click)="printTemplate()">
                        Student <img src="./assets/img/Logs.svg"/>
                    </button>
                </td>
            </tr>
            <tr>
                <td>
                    <span *ngIf="countryCodes">
                        <span class="form-group">
                            <select style="width: 100px;" class="form-control" [(ngModel)]="cntCode" name="countryCodes"
                                    placeholder="Status">
                                <option [disabled]="true" [selected]="true">CNTRY</option>
                                <option *ngFor="let cntCode of countryCodes"
                                        [ngValue]="cntCode.value"> {{cntCode.value}} </option>
                            </select>
                        </span>
                    </span>
                </td>
                <td>
                    <span *ngIf="studentStatus">
                        <span class="form-group">
                            <select style="width: 160px;" class="form-control" [(ngModel)]="studentStat"
                                    name="studentStatus"
                                    placeholder="Status">
                                <option [disabled]="true" [selected]="true">-Status-</option>
                                <option *ngFor="let status of studentStatus"
                                        [ngValue]="status.id"> {{status.name}} </option>
                            </select>
                        </span>
                    </span>
                </td>
                <td>
                    <input type="checkbox" [checked]="paymentCheck" (change)="paymentCheck = !paymentCheck" />
                    Payment pending?
                </td>
            </tr>
        </table>
    </div>
</div>

<table class="table table-bordered table-striped;" id="menu"
       style="height: calc( 100vh - 141px );overflow-y: auto;overflow-x: hidden; display: block;">
    <thead class="thead-inverse" style="font-size:12px;">
    <th style="text-align:center;">Agent/Status</th>
    <th style="text-align:center;">ID</th>
    <th style="width:190px;text-align:center;">Name/Gender/Phone</th>
    <th style="text-align:center;">Bldg</th>
    <th style="text-align:center;">Age/Nation</th>
    <th style="text-align:center;">Check<br>IN</th>
    <th style="text-align:center;">Check<br>OUT</th>
    <th style="text-align:center;">Dorm/Type</th>
    <th style="text-align: center">Weeks/Days<br>Course</th>
    <th style="text-align:center;">PickUp/Meal/Island</th>
    <th style="width:100px;text-align:center;">Invoice</th>
    <th style="text-align:center;">Flight info</th>
    <th style="width:100px;text-align:center;">Amount</th>
    <th style="text-align:center;">Action</th>
    </thead>
    <tbody>
    <tr *ngFor="let o of list | paginate: { itemsPerPage: perPage, currentPage: p, totalItems: countAllList }">
        <td (click)="editApply(o.id)" style="cursor: pointer;text-align:center;">
            <span style="font-size:9pt;font-weight: bold">{{o.agent_name}}</span><br>
            <span *ngIf="o.student_status == '-1'" class="badge badge-default">UNKNOWN</span>
            <span *ngIf="o.student_status == '1'" class="badge badge-primary">NEW</span>
            <span *ngIf="o.student_status == '2'" class="badge badge-warning">RESERVED</span>
            <span *ngIf="o.student_status == '3'" class="badge badge-success">PAID</span>
            <span *ngIf="o.student_status == '4'" class="badge badge-danger">CANCEL</span>
            <span *ngIf="o.student_status == '5'" class="badge badge-info">PRESENT</span>
            <span *ngIf="o.student_status == '6'" class="badge badge-default">GRADUATE</span>
            <span *ngIf="o.student_status == '7'" class="badge badge-primary">SAMPLE<br>INVOICE</span>
            <span *ngIf="o.student_status == '8'" class="badge badge-danger">ARRANGE</span>
        </td>
        <td (click)="editApply(o.id)" style="font-size:11px;cursor: pointer">{{o.id_number}}</td>
        <td (click)="editApply(o.id)" style="font-size:13px;text-align:center;cursor: pointer;font-weight: bold">
            {{o.student_name}}
            <span *ngIf="o.passport_name"><br>{{o.passport_name}}</span>
            <br>({{o.sex==1?'M':'F'}})
            <span *ngIf="o.phone"><br>{{o.phone}}</span>
        </td>
        <td (click)="editApply(o.id)" style="cursor: pointer">
            {{o.campus}}
        </td>
        <td (click)="editApply(o.id)" style="font-size:14px;width:100px;cursor: pointer;text-align:center">
            {{o.age}}
            <br>{{o.nationality}}
        </td>
        <td (click)="editApply(o.id)" style="font-size:11px;width:110px;cursor:pointer;text-align:center;font-weight:bold">
            {{o.checkin_date | date: 'yyyy-MM-dd'}}<br>
            <span style="font-size:10pt;">
                ({{o.checkin_date| date: 'EE'}})
            </span>
        </td>
        <td (click)="editApply(o.id)" style="font-size:11px;width:110px;cursor:pointer;text-align:center;font-weight:bold">
            {{o.checkout_date| date: 'yyyy-MM-dd'}}<br>
            <span style="font-size:10pt;">
                ({{o.checkout_date| date: 'EE'}})
            </span>
        </td>
        <td *ngIf="!o.accommodation_id1 || !o.room_id1" style="font-size:9pt;color:green;
        font-weight: bold;text-align:center;cursor: not-allowed">
            <span>NO STAY</span>
        </td>
        <td (click)="editRoomApply(o.id)" style="cursor: pointer;text-align:center;
        font-size:12px;color:blue;font-weight: bolder;" *ngIf="!o.dormitory_room_name && o.room_id1 && o.student_status == '2'
            && (o.accommodation_id1 != '2' && o.accommodation_id1 != '3')">
            <span>RESERVE</span>
        </td>
        <td (click)="editRoomApply(o.id)" style="cursor: pointer;text-align:center;
        font-size:12px;font-weight: bolder;" *ngIf="!o.dormitory_room_name && o.room_id1 && o.student_status == '2'
        && (o.accommodation_id1 == '2' || o.accommodation_id1 == '3')">
            <span style="color:darkblue">
                <span *ngIf="stayTypes">
                    <span *ngFor="let stay of stayTypes">
                        <span *ngIf='o.accommodation_id1==stay.value'>
                            <b>{{stay.name}}</b>
                        </span>
                    </span>
                </span>
            </span>
        </td>
        <td style="text-align:center;font-weight:bold;font-size:9pt;color:#9e0505;cursor:not-allowed;"
            *ngIf="!o.dormitory_room_name && o.accommodation_id1 && o.room_id1 && o.student_status != '2'">
            <span>CHECK<br>STATUS</span>
        </td>
        <td style="font-weight: bolder;color:green;font-size:9pt;
        text-align:center" *ngIf="o.dormitory_room_name && o.accommodation_id1 && o.room_id1">
            <span style="cursor: pointer" (click)="editRoomApply(o.id)"
                  *ngIf="o.dormitory_room_name != 'Walk in' && o.dormitory_room_name != 'WALK IN' &&
                  o.dormitory_room_name != 'Walk-in' && o.dormitory_room_name != 'WALK-IN'">
                <span style="color:darkblue" *ngIf="o.accommodation_id1 == '2' || o.accommodation_id1 == '3'">
                    <span *ngIf="stayTypes">
                        <span *ngFor="let stay of stayTypes">
                            <span *ngIf='o.accommodation_id1==stay.value'>
                                <b>{{stay.name}}</b>
                            </span>
                        </span>
                    </span>
                </span>
                <span *ngIf="o.accommodation_id1 != '2' && o.accommodation_id1 != '3'">
                    {{o.dormitory_room_name}}
                </span>
                <br>
                <span *ngIf="o.accommodation_id1 == '1' || o.accommodation_id1 == '4'">
                    <span *ngIf="roomTypes">
                        <span *ngFor="let room of roomTypes">
                            <span *ngIf='o.room_id1==room.value' style="color: black">
                                {{room.name}}
                            </span>
                        </span>
                    </span>
                </span>
                <span *ngIf="o.accommodation_id1 == '2'">
                    <span *ngIf="roomTypesZ">
                        <span *ngFor="let room of roomTypesZ">
                            <span *ngIf='o.room_id1==room.value' style="color: black">
                                {{room.name}}
                            </span>
                        </span>
                    </span>
                </span>
                <span *ngIf="o.accommodation_id1 == '3'">
                    <span *ngIf="roomTypesWF">
                        <span *ngFor="let room of roomTypesWF">
                            <span *ngIf='o.room_id1==room.value' style="color: black">
                                {{room.name}}
                            </span>
                        </span>
                    </span>
                </span>
                <span *ngIf="o.accommodation_id1 == '5'">
                    <span *ngIf="roomTypesEX">
                        <span *ngFor="let room of roomTypesEX">
                            <span *ngIf='o.room_id1==room.value' style="color: black">
                                {{room.name}}
                            </span>
                        </span>
                    </span>
                </span>
                <span *ngIf="o.accommodation_id1 == '6'">
                    <span *ngIf="roomTypesDX">
                        <span *ngFor="let room of roomTypesDX">
                            <span *ngIf='o.room_id1==room.value' style="color: black">
                                {{room.name}}
                            </span>
                        </span>
                    </span>
                </span>

            </span>
            <span style="cursor: not-allowed"
                  *ngIf="o.dormitory_room_name == 'Walk in'">
                {{o.dormitory_room_name}}
            </span>
            <span style="cursor: not-allowed"
                  *ngIf="o.dormitory_room_name == 'WALK IN'">
                {{o.dormitory_room_name}}
            </span>
            <span style="cursor: not-allowed"
                  *ngIf="o.dormitory_room_name == 'Walk-in'">
                {{o.dormitory_room_name}}
            </span>
            <span style="cursor: not-allowed"
                  *ngIf="o.dormitory_room_name == 'WALK-IN'">
                {{o.dormitory_room_name}}
            </span>
        </td>
        <td (click)="editApply(o.id)" style="font-size:11pt;text-align:center;cursor:pointer;">
            {{o.term}}<br>{{o.course | slice:0:8}}<br>
            {{o.course | slice:8:17}}<br>{{o.course | slice:17:22}}
        </td>
        <td (click)="editApply(o.id)" style="font-size:14px;text-align:center;cursor: pointer;font-weight:bolder">
            {{o.options_pickup===1?'YES':'NO'}}/{{o.options_meals===1?'YES':'NO'}}/{{o.options_island_hopping===1?'YES':'NO'}}
        </td>
        <td style="width:50px;text-align: center">
            <span *ngIf="o.invoice_number" (click)="invoiceSend(o.invoice_number)"
                  style="color:blue;font-weight: bolder;font-size:9pt;cursor: pointer">
                {{o.invoice_number | slice:0:7}}<br>{{o.invoice_number | slice:7:15}}
            </span>
            <span *ngIf="!o.invoice_number" style="color:#9e0505;font-weight: bolder;font-size:9pt;cursor:not-allowed" >
                INVOICE #<br>MISSING
            </span>
        </td>
        <td (click)="editApply(o.id)" style="font-size:13px;cursor: pointer">
            {{o.flight_no}}
            <br> {{o.arrival_time | date: 'HH:mm'}}
        </td>
        <td (click)="editApply(o.id)" style="font-size:14px;cursor: pointer;">
            <span *ngIf="!o.apply_no">
                <span *ngIf="!o.sub_total && o.total_cost">
                    ¥ {{o.total_cost}}
                </span>
                <span *ngIf="o.sub_total && o.total_cost">
                    ¥ {{((o.sub_total + o.entrance_fee + o.pickup_cost + o.meal_cost + o.special_holiday_jpy +
                    o.transfer_fee + o.extension_fee_jpy + o.additional_lesson_fee + o.remittance_fee +
                    o.special_cost + o.beginner_cost) - (o.discount + o.commission))}}
                </span>
                <span *ngIf="o.sub_total && !o.total_cost">
                    ¥ {{((o.sub_total + o.entrance_fee + o.pickup_cost + o.meal_cost + o.special_holiday_jpy +
                    o.transfer_fee + o.extension_fee_jpy + o.additional_lesson_fee + o.remittance_fee +
                    o.special_cost + o.beginner_cost) - (o.discount + o.commission))}}
                </span>
            </span>
            <span *ngIf="o.apply_no">
                <span *ngIf="o.country_code!='JP'">
                    <span *ngIf="!o.sub_total && o.total_cost">
                        $ {{o.total_cost}}
                    </span>
                    <span *ngIf="o.sub_total && o.total_cost">
                        $ {{((o.sub_total + o.entrance_fee) - (o.discount + o.commission))}}
                    </span>
                    <span *ngIf="o.sub_total && !o.total_cost">
                        $ {{((o.sub_total + o.entrance_fee) - (o.discount + o.commission))}}
                    </span>
                </span>
                <span *ngIf="o.country_code=='JP'">
                    <span *ngIf="!o.sub_total && o.total_cost">
                    ¥ {{o.total_cost}}
                    </span>
                    <span *ngIf="o.sub_total && o.total_cost">
                        ¥ {{((o.sub_total + o.entrance_fee + o.pickup_cost + o.meal_cost + o.special_holiday_jpy +
                        o.transfer_fee + o.extension_fee_jpy + o.additional_lesson_fee + o.remittance_fee +
                        o.special_cost + o.beginner_cost) - (o.discount + o.commission))}}
                    </span>
                    <span *ngIf="o.sub_total && !o.total_cost">
                        ¥ {{((o.sub_total + o.entrance_fee + o.pickup_cost + o.meal_cost + o.special_holiday_jpy +
                        o.transfer_fee + o.extension_fee_jpy + o.additional_lesson_fee + o.remittance_fee +
                        o.special_cost + o.beginner_cost) - (o.discount + o.commission))}}
                    </span>
                </span>
            </span>
            <br>₱ {{o.ssp_fee_php + o.visa_fee_php + o.acri_fee_php + o.emigration_fee_php + o.electrical_fee_php + o.id_card}}
            <span *ngIf="o.payment_pending || o.payment_pending > 0" style="font-size:9pt;color:blue;font-weight:bold;">
                <br>Payment
                <span style="font-size:11pt;">
                    <sup>({{o.payment_pending}})</sup>
                </span>
            </span>
        </td>
        <td style="font-size:10px;width:130px;text-align: right">
            <button type="button"
                    (click)="printPerTemplate(o.passport_name?o.passport_name:'',o.student_name?o.student_name:'',
                    o.id_number?o.id_number:0,o.term,o.country_code,o.campus,o.dormitory_room_name?o.dormitory_room_name:'')">
                Print
            </button>
            <button type="button" (click)="updateDeleteFlag(o.id)">Del</button>
        </td>
    </tr>
    <tr>
        <td colspan="14">
            <div style="float:right">
                <pagination-controls (pageChange)="p = $event" (click)="search()"></pagination-controls>
            </div>
        </td>
    </tr>
    </tbody>
</table>

<!--edit Import Export start-->
<div bsModal #ImportExportModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="importExportModal" aria-labelledby="ImportExportModal" aria-hidden="true">
      <div class="modal-dialog modal-lg" style="max-width: 800px;!important;">
          <div class="modal-content">
              <div class="modal-header">
                  <h5 class="modal-title" id="modal-importExport">More Actions....</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="ImportExportModal.hide()" >
                      <span aria-hidden="true">&times;</span>
                  </button>
              </div>
              <div class="modal-body">
                  <table>
                      <tr>
                          <td>&nbsp;&nbsp;</td>
                          <td>
                              <button style="cursor:pointer;" class="btn btn-data-upload" type="button" (click)="checkAvailableRooms()">
                                  <span style="font-family: Lucida Grande, Lucida Sans, Arial, sans-serif;">Available-Rooms</span>
                              </button>
                          </td>
                          <td>&nbsp;&nbsp;</td>
                          <td>
                              <button style="cursor:pointer;" class="btn btn-data-upload" type="button" (click)="checkGraduating()">
                                  <span style="font-family: Lucida Grande, Lucida Sans, Arial, sans-serif;">Graduating-Student</span>
                              </button>
                          </td>
                          <td>&nbsp;&nbsp;</td>
                          <td>
                              <button style="cursor:pointer;" class="btn btn-data-upload" type="button" (click)="checkRoomChange()">
                                  <span style="font-family: Lucida Grande, Lucida Sans, Arial, sans-serif;">Room-Change</span>
                              </button>
                          </td>
                      </tr>
                  </table>
                  <table>
                      <tr>
                          <td>&nbsp;&nbsp;</td>
                          <!-- EXPORT EXCEL start-->
                          <td>
                              <div class="export-layout">
                                  <div class="menu">
                                      <div class="div-data-download">
                                          <button class="btn btn-data-download" type="button" (click)="downloadFile()" [disabled]="processing">
                                              <img src="assets/img/Download.svg" alt="">
                                              <span for="" class="label-data-upload">Export</span>
                                          </button>
                                      </div>
                                  </div>
                              </div>
                          </td>
                          <!-- EXPORT EXCEL end-->
                          <td>&nbsp;&nbsp;</td>
                          <td>
                              <div class="div-data-upload">
                                  <button style="cursor:pointer;" class="btn btn-data-upload" type="button" (click)="uploadFile()" [disabled]="processing">
                                      <img src="assets/img/Upload.svg" alt="">
                                      <span for="" class="label-data-upload">Import</span>
                                  </button>
                              </div>
                          </td>
                          <td>
                              <!-- IMPORT EXCEL start-->
                              <div class="import-layout">
                                  <div class="menu">
                                      <div class="div-select-file">
                                          <label for="upload-file" class="btn btn-select-file">
                                              <input type="file" id="upload-file" (change)="onChangeSelect($event)">
                                              <span class="select-file">Open file</span>
                                          </label>
                                      </div>
                                  </div>
                              </div>
                              <!-- IMPORT EXCEL end-->
                          </td>
                          <td>
                              <div class="file-path" *ngIf="file" style="font-size:12px;color:red">{{filePath}}</div>
                          </td>
                      </tr>
                      <tr>
                          <td>
                              <div class="scrollbar" *ngIf="!(error_data.errors.length > 0) && (import_success)">
                                  <div class="bar-error" *ngIf="!(import_success)">
                                      <div class="Placeholder">
                                          <img src="assets/img/Alert.svg" alt="" height="24px" width="24px">
                                          <span class="error">Error</span>
                                      </div>
                                  </div>
                              </div>
                          </td>

                          <td style="text-align: center; color: #00AA00">
                              <div class="bar-success" *ngIf="import_success">
                                  <div class="Placeholder">
                                      <span class="success">Success</span>
                                  </div>
                              </div>
                          </td>

                      </tr>
                  </table>
              </div>
          </div>
      </div>
</div>
<!--edit Import Export end-->

<!--print Invoice modal start-->
<div bsModal #sendInvoiceModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="sendInvoiceModal" aria-labelledby="sendInvoiceModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 700px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="">Invoice number: {{studentApply.invoice_number}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="sendInvoiceModal.hide()" >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <tabset>
                    <tab heading='Template'>
                        <div style="width:100%;text-align: center;font-weight: bolder;font-size: 14pt"><b>Choose an Invoice Template</b></div>
                        <select [(ngModel)]="selectInvoice" style="width: 100%;font-size: 11pt;font-weight: bolder" class="form-control">
                            <option [value]="0" [selected]="selectInvoice==0">JP Invoice Template(¥)</option>
                            <option [value]="1" [selected]="selectInvoice==1">NON-JP Invoice Template(¥)</option>
                            <option [value]="2" [selected]="selectInvoice==2">NON-JP Invoice Template($)</option>
                        </select>
                        <span id="jp-yen-invoice" *ngIf="selectInvoice == 0">
                            <span id="page-1">
                                <div><span><img height="100%" width="100%" src="assets/images/header-invoice.png"/></span></div>
                                <div style="width:100%;text-align: center;font-weight: bolder;"><b>Confirmation Letter</b></div>
                                <div style="width:100%;text-align: left"><span style="margin-left:2em">Reservation number</span><br>
                                    <b><span style="margin-left:5em">{{studentApply.id_number?studentApply.id_number:'0'}}</span></b>
                                </div>
                                <div style="width:100%;text-align: center;font-size: 10pt">
                                    <br>Thank you for choosing QQ English for your upcoming studies abroad.<br>
                                    We are pleased to confirm the following arrangements for you and/or your guests.<br><br>
                                </div>
                                <table frame="box" style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;
                                float:right; margin-left:45%;margin-right:11%;outline-style: solid;margin-bottom: 30px;" border="0">
                                    <tr style="line-height: 30px;border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Name:</td>
                                        <td style="text-align: left;">{{studentApply.student_name}}</td>
                                        <td style="text-align: left;">{{studentApply.sex==1?'Male':'Female'}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">&nbsp;</td>
                                        <td style="text-align: left;">{{studentApply.age}} Yrs old</td>
                                        <td style="text-align: left;">{{studentApply.country_code}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Accommodation:</td>
                                        <td style="text-align: left;">
                                            <span *ngIf="roomTypes">
                                                <span *ngFor="let room of roomTypes">
                                                    <span *ngIf='studentApply.room_id1==room.value'>{{room.name}}</span>
                                                </span>
                                            </span>
                                            ~
                                        </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">&nbsp;</td>
                                        <td style="text-align: left;">{{studentApply.checkin_date | date: 'dd/MM/yyyy'}} &emsp;&emsp; ~  </td>
                                        <td style="text-align: left;">{{studentApply.checkout_date | date: 'dd/MM/yyyy'}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Course:</td>
                                        <td style="text-align: left;">{{studentApply.course}} </td>
                                        <td style="text-align: left;">{{studentApply.term}} week/day(s)</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">&nbsp;</td>
                                        <td style="text-align: left;">{{studentApply.entrance_date | date: 'dd/MM/yyyy'}} &emsp;&emsp; ~ </td>
                                        <td style="text-align: left;">{{studentApply.graduation_date | date: 'dd/MM/yyyy'}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Campus:</td>
                                        <td style="text-align: left;">{{studentApply.campus}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Meal:</td>
                                        <td style="text-align: left;">{{studentApply.options_meals===1?'YES':'NO'}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Pick Up:</td>
                                        <td style="text-align: left;">{{studentApply.options_pickup===1?'YES':'NO'}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Arrival Date:</td>
                                        <td style="text-align: left;">{{studentApply.arrival_date | date: 'dd/MM/yyyy'}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Flight Number:</td>
                                        <td style="text-align: left;">{{studentApply.flight_no}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Arrival Time:</td>
                                        <td style="text-align: left;">{{studentApply.arrival_time | date: 'HH:mm'}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="text-align: center;">Remarks:</td>
                                        <td style="text-align: left;">{{studentApply.memo}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                    <tr style="line-height: 30px;">
                                        <td style="text-align: center;">Domi Info:</td>
                                        <td style="text-align: left;">{{studentApply.domi_info_campus}} </td>
                                        <td style="text-align: left;">&nbsp;</td>
                                    </tr>
                                </table>
                                <div style="text-align: left;font-size: 8pt;font-weight: bold">
                                    <span style="margin-left:5em">・ご不明点がございましたら、https://qqenglish.jp/faq/をご確認くださいませ。<br></span>
                                    <span style="margin-left:5em">・お申込内容に間違いがないか、お客様ご自身でもご確認頂きますようご協力をお願い致します。<br></span>
                                    <span style="margin-left:5em">・航空券を取得されましたら、到着日時、時間、便名をお知らせください。<br></span>
                                    <span style="margin-left:5em">・超短期集中プラン以外のお客様のピックアップ対応可能時間は日曜日の8時から24時　までにご到着予定の<br></span>
                                    <span style="margin-left:7em">便となっております。。<br></span>
                                    <span style="margin-left:5em">・超短期集中プラン以外のお客様の寮のチェックインは日曜日、チェックアウトは土　曜日となっております。<br></span>
                                </div>
                            </span>
                            <span id="page-2">
                                <div><span><img height="100%" width="100%" src="assets/images/header-invoice.png"/></span></div>
                                <div style="width:100%;text-align: center;font-weight: bolder;"><b>I N V O I C E</b></div>
                                <div style="text-align: left;width: 45%; float:left"><span style="margin-left:2em">Reservation number</span><br>
                                    <b><span style="margin-left:5em">{{studentApply.id_number?studentApply.id_number:'0'}}</span></b>
                                </div>
                                <div style="text-align: right;width: 55%; float:right"><span style="margin-right:2em">Invoice number</span> <br>
                                    <b><span style="margin-right:5em">{{studentApply.invoice_number}}</span></b>
                                </div>
                                <div style="width:100%;text-align: center">This is Bill  <b>{{studentApply.sex==1?'MR.':'MS.'}} {{studentApply.student_name}}</b></div>
                                <div>
                                    <div style="text-align: left;width: 45%; float:left"><span style="margin-left:2em">for the following breakdown:</span></div>
                                    <div style="text-align: right;width: 55%; float:right;margin-bottom:15px;"><span style="margin-right:6em">Due date</span><br>
                                        <b><span style="margin-right:5em">{{studentApply.due_date | date: 'dd/MM/yyyy'}}</span></b>
                                    </div>
                                    <table frame="box" style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;
                                        float:right; margin-left:45%;margin-right:11%;outline-style: solid;margin-bottom: 20px;" border="0">
                                        <tr style="line-height: 30px;font-size: 13pt;font-weight: bolder;border-bottom: 1px solid #000;">
                                            <th style="text-align: center">Description</th>
                                            <th>Unit Price</th>
                                            <th>Total Amount</th>
                                        </tr>
                                        <tr style="background-color: lightgray;border-bottom: 1px solid #000;">
                                            <th style="text-align: left;">(1) Commission
                                                <span *ngIf="studentApply.commission">
                                                    ({{((studentApply.commission / (studentApply.sub_total + studentApply.meal_cost)) * 100) | number : '1.0-0'}}%)
                                                </span>
                                            </th>
                                            <th></th>
                                            <th></th>
                                        </tr>
                                        <tr style="border-bottom: 1px solid #000;">
                                            <td>Tuition Fee<br>
                                               <span style="font-size: 11px;">
                                                   {{studentApply.course}}-{{studentApply.dormitory_room_name}}-
                                                    <span *ngIf="roomTypes">
                                                        <span *ngFor="let room of roomTypes">
                                                            <span *ngIf='studentApply.room_id1==room.value'>{{room.name}}-</span>
                                                        </span>
                                                    </span>
                                                {{studentApply.term}} Week/Day(s)
                                               </span>
                                            </td>
                                            <td>1</td>
                                            <td>¥{{studentApply.sub_total?studentApply.sub_total:0}}</td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid #000;">
                                            <td>Meal</td>
                                            <td>{{studentApply.meal_cost?1:0}}</td>
                                            <td>¥{{studentApply.meal_cost?studentApply.meal_cost:0}}</td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid #000;">
                                            <td>Sub Total</td>
                                            <td>1</td>
                                            <td>¥{{studentApply.sub_total + studentApply.meal_cost}}</td>
                                        </tr>
                                        <tr style="color:red;border-bottom: 1px solid #000;" *ngIf="studentApply.commission">
                                            <td>Commission({{ ((studentApply.commission / (studentApply.sub_total + studentApply.meal_cost)) * 100) | number : '1.0-0'}}%)</td>
                                            <td></td>
                                            <td>¥{{studentApply.commission}}</td>
                                        </tr>
                                        <tr style="background-color: lightgray;border-bottom: 1px solid #000;">
                                            <th style="text-align: left;">(2) No Commission</th>
                                            <th style="text-align: left;"></th>
                                            <th style="text-align: center;"></th>
                                        </tr>
                                        <tr style="border-bottom: 1px solid #000;">
                                            <td>Registration Fee</td>
                                            <td>{{studentApply.entrance_fee?1:0}}</td>
                                            <td>¥{{studentApply.entrance_fee?studentApply.entrance_fee:0}}</td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid #000;">
                                            <td>Pick up</td>
                                            <td>{{studentApply.pickup_cost?1:0}}</td>
                                            <td>¥{{studentApply.pickup_cost?studentApply.pickup_cost:0}}</td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid #000;">
                                            <td>Special Holiday</td>
                                            <td>{{studentApply.special_holiday_jpy?1:0}}</td>
                                            <td>¥{{studentApply.special_holiday_jpy?studentApply.special_holiday_jpy:0}}</td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid #000;">
                                            <td>Transfer fee</td>
                                            <td>{{studentApply.transfer_fee?1:0}}</td>
                                            <td>¥{{studentApply.transfer_fee?studentApply.transfer_fee:0}}</td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid #000;">
                                            <td>Extension fee</td>
                                            <td>{{studentApply.extension_fee_jpy?1:0}}</td>
                                            <td>¥{{studentApply.extension_fee_jpy?studentApply.extension_fee_jpy:0}}</td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid #000;">
                                            <td>Special option</td>
                                            <td>{{studentApply.special_cost?1:0}}</td>
                                            <td>¥{{studentApply.special_cost?studentApply.special_cost:0}}</td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid #000;">
                                            <td>Beginner option</td>
                                            <td>{{studentApply.beginner_cost?1:0}}</td>
                                            <td>¥{{studentApply.beginner_cost?studentApply.beginner_cost:0}}</td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid #000;">
                                            <td>Additional lesson</td>
                                            <td>{{studentApply.additional_lesson_fee?1:0}}</td>
                                            <td>¥{{studentApply.additional_lesson_fee?studentApply.additional_lesson_fee:0}}</td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid #000;">
                                            <td>Remittance fee</td>
                                            <td>{{studentApply.remittance_fee?1:0}}</td>
                                            <td>¥{{studentApply.remittance_fee?studentApply.remittance_fee:0}}</td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid #000;">
                                            <td>Holiday fee</td>
                                            <td>{{studentApply.holiday_fee?1:0}}</td>
                                            <td>¥{{studentApply.holiday_fee?studentApply.holiday_fee:0}}</td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid #000;">
                                            <td>Sub Total</td>
                                            <td></td>
                                            <td>¥{{studentApply.entrance_fee + studentApply.pickup_cost + studentApply.special_holiday_jpy +
                                                studentApply.transfer_fee + studentApply.extension_fee_jpy + studentApply.remittance_fee +
                                                studentApply.special_cost + studentApply.additional_lesson_fee + studentApply.beginner_cost}}</td>
                                        </tr>
                                        <tr style="color:red;border-bottom: 1px solid #000;" *ngFor="let g of invoiceDiscountList">
                                            <td>{{g.reason}}</td>
                                            <td></td>
                                            <td>¥{{g.discount}}</td>
                                        </tr>
                                        <tr style="font-size: 12pt;line-height:20px;">
                                            <td style="font-weight: bold">Total Amount:</td>
                                            <td></td>
                                            <td style="font-weight: bold">
                                                ¥{{(studentApply.sub_total + studentApply.meal_cost) +
                                                (studentApply.entrance_fee + studentApply.pickup_cost + studentApply.special_holiday_jpy +
                                                studentApply.transfer_fee + studentApply.extension_fee_jpy + studentApply.remittance_fee +
                                                studentApply.special_cost + studentApply.additional_lesson_fee + studentApply.beginner_cost)
                                                - (studentApply.discount + studentApply.commission)}}
                                            </td>
                                        </tr>
                                    </table>
                                    <div style="width: 45%; float:left">
                                        <span style="margin-left:5em"><strong style="color:blue">Payment In the School</strong></span>
                                        <table frame="box" style="width:70%;text-align: center;font-size: 11pt;font-weight: bolder;
                                        float:right; margin-left:45%;margin-right:11%;outline-style: solid;margin-bottom: 30px;" border="0">
                                            <tr>
                                                <th style="text-align: center;">Visa Extention Fee</th>
                                                <th style="text-align: center;">Vary</th>
                                            </tr>
                                            <tr>
                                                <td>SSP</td>
                                                <td>Php {{studentApply.ssp_fee_php}}</td>
                                            </tr>
                                            <tr>
                                                <td>Student ID</td>
                                                <td>Php {{studentApply.id_card}}</td>
                                            </tr>
                                            <tr>
                                                <td>Electricity Fee</td>
                                                <td>Php {{studentApply.electrical_fee_php}}</td>
                                            </tr>
                                            <tr>
                                                <td>I-Card</td>
                                                <td>Php {{studentApply.i_card_cost}}</td>
                                            </tr>
                                            <tr>
                                                <td>ECC</td>
                                                <td>Php {{studentApply.ecc}}</td>
                                            </tr>
                                            <tr>
                                                <td>Extension Fee</td>
                                                <td>Php {{studentApply.extention_fee_php}}</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div style="width: 55%; float:right">
                                        <span style="margin-left:8em">【VISA fee】</span>
                                        <table frame="box" style="width:70%;text-align: center;font-size: 11pt;font-weight: bolder;
                                        float:right; margin-left:45%;margin-right:20%;outline-style: solid;margin-bottom: 30px;" border="0">
                                            <tr>
                                                <th style="text-align: center;">Visit duration</th>
                                                <th style="text-align: center;">Additional</th>
                                                <th style="text-align: center;">Total</th>
                                            </tr>
                                            <tr>
                                                <td>30days</td>
                                                <td>Free</td>
                                                <td>Free</td>
                                            </tr>
                                            <tr>
                                                <td>59days</td>
                                                <td>3340</td>
                                                <td>3340 PHP</td>
                                            </tr>
                                            <tr>
                                                <td>89days</td>
                                                <td>4310</td>
                                                <td>7650 PHP</td>
                                            </tr>
                                            <tr>
                                                <td>119days</td>
                                                <td>2640</td>
                                                <td>10290 PHP</td>
                                            </tr>
                                            <tr>
                                                <td>149days</td>
                                                <td>2640</td>
                                                <td>12930 PHP</td>
                                            </tr>
                                            <tr>
                                                <td>179days</td>
                                                <td>2640</td>
                                                <td>15570 PHP</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div style="width: 100%;">
                                        <table style="width:70%;text-align: left;font-size: 11pt;font-weight: bolder;
                                        float:left; margin-left:11%;margin-right:20%;margin-bottom: 10px;" border="0">
                                            <tr><strong style="color:blue">Account Number</strong></tr>
                                            <tr>カ）キュウキュウ　イングリッシュ </tr>
                                            <tr>三菱東京UFJ銀行</tr>
                                            <tr>笹塚支店</tr>
                                            <tr>普通　1316002</tr>
                                            <tr>口座名義　株式会社QQ English</tr>
                                            <tr>Due date {{studentApply.due_date | date : 'dd/MM/yyyy'}}</tr>
                                        </table>
                                    </div>
                                </div>
                            </span>
                        </span>
                        <span id="non-jp-yen-invoice" *ngIf="selectInvoice == 1">
                            <div>
                                <span><img height="100%" width="100%" src="assets/images/header-invoice.png"/></span>
                            </div>
                            <div style="width:100%;text-align: left"><span style="margin-left:2em">Reservation number</span><br>
                                    <b><span style="margin-left:5em">{{studentApply.id_number?studentApply.id_number:'0'}}</span></b>
                                </div>
                            <div style="width:100%;text-align: center;margin-bottom:15px;"><b>{{studentApply.sex==1?'MR.':'MS.'}} {{studentApply.student_name}}</b>
                                <br> {{studentApply.checkin_date | date: 'yyyy/MM/dd' }} ~ {{studentApply.checkout_date | date: 'yyyy/MM/dd'}} <br></div>
                            <div style="width:100%;text-align: left;margin-bottom:15px;"><span style="margin-left:2em">for the following breakdown:</span></div>
                                <table frame="box" style="width:80%;text-align: center;font-size: 11pt; float:right; margin-left:45%;
                                margin-right:11%;outline-style: solid;margin-bottom: 20px;" border="0">
                                    <tr style="line-height: 30px;font-size: 13pt;font-weight: bolder;border-bottom: 1px solid #000;">
                                        <th style="text-align: center;">Description</th>
                                        <th style="text-align: center;">Unit Price</th>
                                        <th style="text-align: center;">Total Amount</th>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td>Tuition Fee<br>
                                           <span style="font-size: 11px;">
                                               {{studentApply.course}}-{{studentApply.dormitory_room_name}}-
                                                <span *ngIf="roomTypes">
                                                    <span *ngFor="let room of roomTypes">
                                                        <span *ngIf='studentApply.room_id1==room.value'>{{room.name}}-</span>
                                                    </span>
                                                </span>
                                            {{studentApply.term}} Week/Day(s)
                                           </span>
                                        </td>
                                        <td>1</td>
                                        <td>¥{{studentApply.sub_total}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td>Registration Fee</td>
                                        <td>{{studentApply.entrance_fee?1:0}}</td>
                                        <td>¥{{studentApply.entrance_fee}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td>Pick up</td>
                                        <td>{{studentApply.pickup_cost?1:0}}</td>
                                        <td>¥{{studentApply.pickup_cost}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td>Meal</td>
                                        <td>{{studentApply.meal_cost?1:0}}</td>
                                        <td>¥{{studentApply.meal_cost}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td>Special Holiday</td>
                                        <td>{{studentApply.special_holiday_jpy?1:0}}</td>
                                        <td>¥{{studentApply.special_holiday_jpy}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td>Transfer fee</td>
                                        <td>{{studentApply.transfer_fee?1:0}}</td>
                                        <td>¥{{studentApply.transfer_fee}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td>Extension fee</td>
                                        <td>{{studentApply.extension_fee_jpy?1:0}}</td>
                                        <td>¥{{studentApply.extension_fee_jpy}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td>Additional lesson</td>
                                        <td>{{studentApply.additional_lesson_fee?1:0}}</td>
                                        <td>¥{{studentApply.additional_lesson_fee}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td>Remittance fee</td>
                                        <td>{{studentApply.remittance_fee?1:0}}</td>
                                        <td>¥{{studentApply.remittance_fee}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td>Special option</td>
                                        <td>{{studentApply.special_cost?1:0}}</td>
                                        <td>¥{{studentApply.special_cost}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td>Beginner option</td>
                                        <td>{{studentApply.beginner_cost?1:0}}</td>
                                        <td>¥{{studentApply.beginner_cost}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td>Holiday fee</td>
                                        <td>{{studentApply.holiday_fee?1:0}}</td>
                                        <td>¥{{studentApply.holiday_fee}}</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td>Sub Total</td>
                                        <td></td>
                                        <td>¥{{(studentApply.sub_total + studentApply.entrance_fee + studentApply.pickup_cost + studentApply.meal_cost +
                                            studentApply.special_holiday_jpy + studentApply.transfer_fee + studentApply.extension_fee_jpy
                                            + studentApply.additional_lesson_fee + studentApply.remittance_fee + studentApply.special_cost  + studentApply.beginner_cost)}}
                                        </td>
                                    </tr>
                                    <tr style="color:red;border-bottom: 1px solid #000;" *ngFor="let g of invoiceDiscountList">
                                        <td>{{g.reason}}</td>
                                        <td></td>
                                        <td>¥{{g.discount}}</td>
                                    </tr>
                                    <tr style="color:red;border-bottom: 1px solid #000;" *ngIf="studentApply.commission">
                                        <td>Commission</td>
                                        <td></td>
                                        <td>¥{{studentApply.commission}}</td>
                                    </tr>
                                    <tr style="line-height: 30px;font-weight:bolder;font-size:12pt;">
                                        <td>Total Amount:</td>
                                        <td></td>
                                        <td>
                                            ¥{{ (studentApply.sub_total + studentApply.entrance_fee +
                                            studentApply.pickup_cost + studentApply.meal_cost + studentApply.special_holiday_jpy + studentApply.transfer_fee + studentApply.extension_fee_jpy
                                            + studentApply.additional_lesson_fee + studentApply.remittance_fee + studentApply.special_cost  + studentApply.beginner_cost)
                                            - (studentApply.discount + studentApply.commission) }}
                                        </td>
                                    </tr>
                                </table>
                                <br>
                                <div style="width: 45%; float:left">
                                    <span style="margin-left:5em"><strong style="color:blue">Payment In the School</strong></span>
                                    <table frame="box" style="width:70%;text-align: center;font-size: 11pt;font-weight: bolder;
                                        float:right; margin-left:45%;margin-right:11%;outline-style: solid;margin-bottom: 30px;" border="0">
                                        <tr>
                                            <th>Visa Extention Fee</th>
                                            <th>Vary</th>
                                        </tr>
                                        <tr>
                                            <td>SSP</td>
                                            <td>Php {{studentApply.ssp_fee_php}}</td>
                                        </tr>
                                        <tr>
                                            <td>Student ID</td>
                                            <td>Php {{studentApply.id_card}}</td>
                                        </tr>
                                        <tr>
                                            <td>Electricity Fee</td>
                                            <td>Php {{studentApply.electrical_fee_php}}</td>
                                        </tr>
                                        <tr>
                                            <td>I-Card</td>
                                            <td>Php {{studentApply.i_card_cost}}</td>
                                        </tr>
                                        <tr>
                                            <td>ECC</td>
                                            <td>Php {{studentApply.ecc}}</td>
                                        </tr>
                                        <tr>
                                            <td>Extension Fee</td>
                                            <td>Php {{studentApply.extention_fee_php}}</td>
                                        </tr>
                                    </table>
                                </div>
                                <div style="width: 55%; float:right">
                                    <span style="margin-left:8em">【VISA fee】</span>
                                    <table frame="box" style="width:70%;text-align: center;font-size: 11pt;font-weight: bolder;
                                        float:right; margin-left:45%;margin-right:20%;outline-style: solid;
                                        margin-bottom: 30px;" border="0">
                                        <tr>
                                            <th style="text-align: center;">Visit duration</th>
                                            <th style="text-align: center;">Additional</th>
                                            <th style="text-align: center;">Total</th>
                                        </tr>
                                        <tr>
                                            <td>30days</td>
                                            <td>Free</td>
                                            <td>Free</td>
                                        </tr>
                                        <tr>
                                            <td>59days</td>
                                            <td>3340</td>
                                            <td>3340 PHP</td>
                                        </tr>
                                        <tr>
                                            <td>89days</td>
                                            <td>4310</td>
                                            <td>7650 PHP</td>
                                        </tr>
                                        <tr>
                                            <td>119days</td>
                                            <td>2640</td>
                                            <td>10290 PHP</td>
                                        </tr>
                                        <tr>
                                            <td>149days</td>
                                            <td>2640</td>
                                            <td>12930 PHP</td>
                                        </tr>
                                        <tr>
                                            <td>179days</td>
                                            <td>2640</td>
                                            <td>15570 PHP</td>
                                        </tr>
                                    </table>
                                </div>
                        </span>
                        <span id="non-jp-dollars-invoice" *ngIf="selectInvoice == 2">
                            <div style="text-align: right;width: 100%; float:right">
                                    <span style="margin-right:4em;font-size: 10pt">
                                        <b>NO. {{studentApply.invoice_number}}</b>
                                    </span>
                            </div>
                            <div>
                                <span><img height="100%" width="100%" src="assets/images/header-invoice.png"/></span>
                            </div>
                            <div style="width:100%;text-align: right">
                                <b><span style="margin-right:5em;font-size: 9pt">Date: {{today | date:'longDate'}}</span></b>
                            </div>
                            <div style="width:100%;text-align: center;font-size: 12pt">
                                <span style="font-weight: bold"><span style="font-size: 20px;">INVOICE</span><br>
                                    This is to bill {{studentApply.sex==1?'MR.':'MS.'}} {{studentApply.student_name}}
                                </span>
                            </div>
                            <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt"> for the following breakdown:<br><br></div>
                            <div style="width:100%;text-align: left;margin-left:5em;font-size: 11pt;
                                margin-bottom: 20px;"> Period Covered:
                                <b>{{studentApply.term}} week/day(s) &nbsp;&nbsp;{{studentApply.checkin_date | date: 'dd-MMM-yyyy'}} ~ {{studentApply.checkout_date | date: 'dd-MMM-yyyy'}}</b>
                            </div>
                            <table style="width:80%;text-align: center;font-size: 11pt;font-weight: bolder;
                                        float:right; margin-left:45%;margin-right:11%;margin-bottom: 20px;" border="0">
                                <tr style="font-size: 13pt;line-height: 30px;border-bottom: 1px solid #000;">
                                    <th style="text-align: center;">Description</th>
                                    <th style="text-align: center;">Unit Price</th>
                                    <th style="text-align: center;">Pax</th>
                                    <th style="text-align: center;">Total Amount</th>
                                </tr>
                                <tr>
                                    <td>Registration Fee</td>
                                    <td>${{studentApply.entrance_fee}}</td>
                                    <td>{{studentApply.entrance_fee?1:0}}</td>
                                    <td>${{studentApply.entrance_fee}}</td>
                                </tr>
                                <tr style="font-size: 10pt">
                                    <td>Tuition & Accommodation
                                        <br><span *ngIf="studentApply.accommodation_id1 == '1'">Share House</span>
                                        <span *ngIf="studentApply.accommodation_id1 == '2'">Zelenity Hotel</span>
                                        <span *ngIf="studentApply.accommodation_id1 == '3'">WaterFront Hotel</span>
                                        <span *ngIf="studentApply.accommodation_id1 == '4'">Share Room</span>
                                        <span *ngIf="studentApply.accommodation_id1 == '5'">Exective Room</span>
                                        <span *ngIf="studentApply.accommodation_id1 == '6'">Deluxe Room</span>
                                        <span *ngIf="studentApply.accommodation_id1 == '7'">Walk In</span>
                                        {{studentApply.dormitory_room_name}}
                                    </td>
                                    <td>${{studentApply.sub_total}}</td>
                                    <td>1</td>
                                    <td>${{studentApply.sub_total}}</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #000;">
                                    <td>Holiday Fee</td>
                                    <td>${{studentApply.holiday_fee}}</td>
                                    <td>{{studentApply.holiday_fee?1:0}}</td>
                                    <td>${{studentApply.holiday_fee}}</td>
                                </tr>
                                <tr style="color:red" *ngFor="let g of invoiceDiscountList">
                                    <td>{{g.reason}}</td>
                                    <td>-${{g.discount}}</td>
                                    <td></td>
                                    <td>-${{g.discount}}</td>
                                </tr>
                                <tr>
                                    <td colspan="3"><b>Sub Total:</b></td>
                                    <td>
                                        <div style="width:100%;text-align: center">
                                            <span style="font-size: 11pt;font-weight: bolder">
                                                <b> ${{ ((studentApply.entrance_fee + studentApply.sub_total) - studentApply.discount) }}</b>
                                            </span>
                                        </div>
                                    </td>
                                </tr>
                                <tr style="color:red;border-bottom: 1px solid #000;" *ngIf="studentApply.commission">
                                    <td>Agent Commission</td>
                                    <td>-${{studentApply.commission}}</td>
                                    <td></td>
                                    <td>-${{studentApply.commission}}</td>
                                </tr>
                                <tr style="line-height: 30px;">
                                    <td><strong style="color:blue">Total Amount</strong></td>
                                    <td colspan="2"><b>US DOLLARS:</b></td>
                                    <td>
                                        <div style="width:100%;text-align: center">
                                            <span style="font-size: 13pt;font-weight: bolder">
                                                <b>${{ ((studentApply.entrance_fee + studentApply.sub_total) - (studentApply.commission + studentApply.discount))}}</b>
                                            </span>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                            <br>
                            <div style="float: right;margin-left: 3em; font-size: 12pt;">
                                <div style="width: 30%; float:left"><br><strong style="color:blue">Payment In the School</strong><br><br>
                                    SSP<br>
                                    VISA Extension Fee<br>
                                    Student ID<br>
                                    Electricity Fee<br>
                                    I-Card<br>
                                    Text book<br>
                                </div>
                                <div style="width: 70%; float:right"><br><br><br>
                                    Php {{studentApply.ssp_fee_php}}<br>
                                    Vary<br>
                                    Php {{studentApply.id_card}}<br>
                                    Php {{studentApply.electrical_fee_php}}/week<br>
                                    Php {{studentApply.i_card_cost}}<br>
                                    Vary<br>
                                </div>
                                <div style="width: 30%; float:left"><br><strong style="color:blue">ACCOUNT NUMBER</strong><br><br>
                                    BANK NAME:<br>
                                    ACCOUNT NUMBER:<br>
                                    COMPANY NAME:<br>
                                    BANK ADDRESS:<br><br>
                                    SWIFT CODE:<br>
                                    BRANCH CODE:<br>
                                </div>
                                <div style="width: 70%; float:right"><br><br><br>
                                    METROPOLITAN BANK AND TRUST COMPANY<br>
                                    602-7602-908956<br>
                                    REAL GREATENGLISH CORPORATION<br>CEBU SALINAS BRANCH - AMON TRADING CORP.
                                    BLDG., SALINAS DRIVE, CEBU CITY 6000<br>
                                    MBTCPHMM<br>
                                    602<br>
                                </div>
                            </div>
                        </span>
                        <br>
                        <div style="float: right">
                            <button type="button" class="btn" data-dismiss="modal" style="cursor:pointer" *ngIf="selectInvoice"
                                             (click)="printInvoice(studentApply.age?studentApply.age:'0',studentApply.sex,selectInvoice,studentApply.paid_amount?studentApply.paid_amount:0,studentApply.sub_total?studentApply.sub_total:0,studentApply.entrance_fee?studentApply.entrance_fee:0,studentApply.pickup_cost?studentApply.pickup_cost:0,
                                studentApply.meal_cost?studentApply.meal_cost:0,studentApply.special_holiday_jpy?studentApply.special_holiday_jpy:0,studentApply.transfer_fee?studentApply.transfer_fee:0,studentApply.extension_fee_jpy?studentApply.extension_fee_jpy:0,studentApply.additional_lesson_fee?studentApply.additional_lesson_fee:0,
                                studentApply.remittance_fee?studentApply.remittance_fee:0,studentApply.special_cost?studentApply.special_cost:0,studentApply.beginner_cost?studentApply.beginner_cost:0,studentApply.discount?studentApply.discount:0,studentApply.commission?studentApply.commission:0,studentApply.country_code,studentApply.id_number?studentApply.id_number:0,
                                studentApply.student_name?studentApply.student_name:'',studentApply.passport_name?studentApply.passport_name:'',studentApply.checkin_date,studentApply.checkout_date,studentApply.course?studentApply.course:'',studentApply.dormitory_room_name?studentApply.dormitory_room_name.toUpperCase():'',studentApply.room_id1?studentApply.room_id1:0,
                                studentApply.term?studentApply.term:'',studentApply.invoice_number?studentApply.invoice_number:'',studentApply.accommodation_id1?studentApply.accommodation_id1:'0',invoiceDiscountList,studentApply.entrance_date?studentApply.entrance_date:'1900-01-01 00:00:00',studentApply.graduation_date?studentApply.graduation_date:'1900-01-01 00:00:00',studentApply.campus?studentApply.campus:'',
                                studentApply.options_meals,studentApply.options_pickup,studentApply.arrival_date?studentApply.arrival_date:'1900-01-01 00:00:00',studentApply.flight_no?studentApply.flight_no:'',studentApply.arrival_time?studentApply.arrival_time:'1900-01-01 00:00:00',studentApply.memo?studentApply.memo:'',studentApply.domi_info_campus?studentApply.domi_info_campus:'',
                                studentApply.due_date?studentApply.due_date:'1900-01-01 00:00:00',((studentApply.commission / (studentApply.sub_total + studentApply.meal_cost)) * 100),studentApply.ssp_fee_php?studentApply.ssp_fee_php:0,studentApply.id_card?studentApply.id_card:0,studentApply.electrical_fee_php?studentApply.electrical_fee_php:0, studentApply.i_card_cost?studentApply.i_card_cost:0,
                                studentApply.ecc?studentApply.ecc:0,studentApply.extention_fee_php?studentApply.extention_fee_php:0,studentApply.holiday_fee?studentApply.holiday_fee:0)" style="float: right;">
                                Print
                            </button>
                        </div>
                    </tab>
                    <tab heading='Edit commission'>
                        <table class="table table-bordered">
                            <tr>
                                <th>Student Information</th>
                                <td colspan="3" style="font-size:11pt; font-weight: bolder;">
                                    {{studentApply.student_name}} - {{studentApply.passport_name}}
                                    [{{studentApply.country_code}}] {{studentApply.sex===1?'(Male)':'(Female)'}} <br>

                                </td>
                            </tr>
                            <tr>
                                <th>Agent Information</th>
                                <td colspan="3" style="font-size:11pt; font-weight: bolder;">
                                    {{studentApply.agent_name}} {{studentApply.agent_email}}
                                </td>
                            </tr>
                        </table>
                        <select [(ngModel)]="selectCommissionBy" style="width: 100%;font-size: 11pt;font-weight: bolder" class="form-control">
                            <option [disabled]="true" [selected]="true">S E L E C T</option>
                            <option  [value]="1" [selected]="selectCommissionBy==1">Commission by Percentange(%)</option>
                            <option  [value]="0" [selected]="selectCommissionBy==0">Commission by Input</option>
                        </select>
                        <span id="commission-edit-module-by-percentage" *ngIf="selectCommissionBy == 1">
                            <table class="table table-bordered">
                                <tr>
                                    <th>Percentage</th>
                                    <td>
                                        <select style="width: 100px;font-size: 11pt;font-weight: bolder"
                                                class="form-control"[(ngModel)]="percentageCommission">
                                           <option [ngValue]=0.00>0%</option>
                                           <option [ngValue]=0.01>1%</option>
                                           <option [ngValue]=0.02>2%</option>
                                           <option [ngValue]=0.03>3%</option>
                                           <option [ngValue]=0.04>4%</option>
                                           <option [ngValue]=0.05>5%</option>
                                           <option [ngValue]=0.06>6%</option>
                                           <option [ngValue]=0.07>7%</option>
                                           <option [ngValue]=0.08>8%</option>
                                           <option [ngValue]=0.09>9%</option>
                                           <option [ngValue]=0.1>10%</option>
                                           <option [ngValue]=0.15>15%</option>
                                           <option [ngValue]=0.2>20%</option>
                                           <option [ngValue]=0.25>25%</option>
                                           <option [ngValue]=0.3>30%</option>
                                           <option [ngValue]=0.35>35%</option>
                                           <option [ngValue]=0.4>40%</option>
                                           <option [ngValue]=0.45>45%</option>
                                           <option [ngValue]=0.5>50%</option>
                                           <option [ngValue]=0.55>55%</option>
                                           <option [ngValue]=0.6>60%</option>
                                           <option [ngValue]=0.65>65%</option>
                                           <option [ngValue]=0.7>70%</option>
                                           <option [ngValue]=0.75>75%</option>
                                           <option [ngValue]=0.8>80%</option>
                                           <option [ngValue]=0.85>85%</option>
                                           <option [ngValue]=0.9>90%</option>
                                           <option [ngValue]=0.95>95%</option>
                                           <option [ngValue]=1>100%</option>
                                    </select>
                                    </td>
                                    <th>Sub total X<br> Discount(%) </th>
                                    <td style="font-size: 10pt;font-weight: bolder" *ngIf="studentApply.sub_total && percentageCommission">
                                        <span *ngIf="selectInvoice == 0">
                                            {{studentApply.sub_total + studentApply.meal_cost}} X {{percentageCommission}} = <br>
                                            <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                {{percentageCommission * (studentApply.sub_total + studentApply.meal_cost)}}
                                            </span>
                                        </span>
                                        <span *ngIf="selectInvoice == 1">
                                            {{studentApply.sub_total + studentApply.entrance_fee + studentApply.pickup_cost + studentApply.meal_cost +
                                            studentApply.special_holiday_jpy + studentApply.transfer_fee + studentApply.extension_fee_jpy
                                            + studentApply.additional_lesson_fee + studentApply.remittance_fee + studentApply.special_cost  + studentApply.beginner_cost}} X {{percentageCommission}} = <br>
                                            <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                {{percentageCommission * (studentApply.sub_total + studentApply.entrance_fee + studentApply.pickup_cost + studentApply.meal_cost +
                                            studentApply.special_holiday_jpy + studentApply.transfer_fee + studentApply.extension_fee_jpy
                                            + studentApply.additional_lesson_fee + studentApply.remittance_fee + studentApply.special_cost  + studentApply.beginner_cost)}}
                                            </span>
                                        </span>
                                        <span *ngIf="selectInvoice == 2">
                                            {{studentApply.sub_total + studentApply.entrance_fee}} X {{percentageCommission}} = <br>
                                            <span style="font-size: 11pt;font-weight: bolder; color: red">
                                                {{percentageCommission * (studentApply.sub_total + studentApply.entrance_fee)}}
                                            </span>
                                        </span>
                                    </td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <span *ngIf="selectInvoice == 0">
                                    <button class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id,percentageCommission * (studentApply.sub_total + studentApply.meal_cost))"
                                            [disabled]="processing" *ngIf="percentageCommission >= 0">
                                        Save
                                    </button>
                                </span>
                                <span *ngIf="selectInvoice == 1">
                                    <button class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id,percentageCommission * (studentApply.sub_total + studentApply.entrance_fee + studentApply.pickup_cost + studentApply.meal_cost +
                                            studentApply.special_holiday_jpy + studentApply.transfer_fee + studentApply.extension_fee_jpy
                                            + studentApply.additional_lesson_fee + studentApply.remittance_fee + studentApply.special_cost  + studentApply.beginner_cost))"
                                            [disabled]="processing" *ngIf="percentageCommission >= 0">
                                        Save
                                    </button>
                                </span>
                                <span *ngIf="selectInvoice == 2">
                                    <button class="btn" type="button btn-secondary" style="cursor:pointer"
                                            (click)="saveCommission(studentApply.id,percentageCommission * (studentApply.sub_total + studentApply.entrance_fee))"
                                            [disabled]="processing" *ngIf="percentageCommission >= 0">
                                        Save
                                    </button>
                                </span>
                            </div>
                        </span>
                        <span id="commission-edit-module-by-input" *ngIf="selectCommissionBy == 0">
                            <table class="table table-bordered">
                                <tr>
                                    <th>Enter commission<br>
                                    <span style="font-size:9pt;font-weight: bolder">e.g. 0, 100, 255</span></th>
                                    <td><input type="number" min="1" max="999" style="width: 90%;" placeholder="Discount" [(ngModel)]="studentApply.commission"/></td>
                                    <th>Agent commission</th>
                                    <td style="font-size: 11pt;font-weight: bolder; color: red">{{studentApply.commission}}</td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <button class="btn" type="button btn-secondary" style="cursor:pointer"
                                        (click)="saveCommission(studentApply.id,studentApply.commission)"
                                        [disabled]="processing" *ngIf="studentApply.commission >= 0">
                                    Save
                                </button>
                            </div>
                        </span>
                    </tab>
                    <tab heading='Add discount(s)'>
                        <table class="table table-bordered">
                            <tr>
                                <th>Student Information</th>
                                <td colspan="3" style="font-size:11pt; font-weight: bolder;">
                                    {{studentApply.student_name}} - {{studentApply.passport_name}}
                                    [{{studentApply.country_code}}] {{studentApply.sex===1?'(Male)':'(Female)'}}
                                </td>
                            </tr>
                        </table>
                        <select [(ngModel)]="selectDiscountBy" style="width: 100%;font-size: 11pt;font-weight: bolder" class="form-control">
                            <option [disabled]="true" [selected]="true">S E L E C T</option>
                            <option  [value]="1" [selected]="selectDiscountBy==1">Discount by Percentange(%)</option>
                            <option  [value]="0" [selected]="selectDiscountBy==0">Discount by Input</option>
                        </select>
                        <span id="discount-edit-module-by-percentage" *ngIf="selectDiscountBy == 1">
                            <table class="table table-bordered">
                                <tr>
                                    <th>Percentage</th>
                                    <td>
                                        <select style="width: 100px;font-size: 11pt;font-weight: bolder"
                                                class="form-control"[(ngModel)]="percentageDiscount">
                                           <option [ngValue]=0.01>1%</option>
                                           <option [ngValue]=0.02>2%</option>
                                           <option [ngValue]=0.03>3%</option>
                                           <option [ngValue]=0.04>4%</option>
                                           <option [ngValue]=0.05>5%</option>
                                           <option [ngValue]=0.06>6%</option>
                                           <option [ngValue]=0.07>7%</option>
                                           <option [ngValue]=0.08>8%</option>
                                           <option [ngValue]=0.09>9%</option>
                                           <option [ngValue]=0.1>10%</option>
                                           <option [ngValue]=0.15>15%</option>
                                           <option [ngValue]=0.2>20%</option>
                                           <option [ngValue]=0.25>25%</option>
                                           <option [ngValue]=0.3>30%</option>
                                           <option [ngValue]=0.35>35%</option>
                                           <option [ngValue]=0.4>40%</option>
                                           <option [ngValue]=0.45>45%</option>
                                           <option [ngValue]=0.5>50%</option>
                                           <option [ngValue]=0.55>55%</option>
                                           <option [ngValue]=0.6>60%</option>
                                           <option [ngValue]=0.65>65%</option>
                                           <option [ngValue]=0.7>70%</option>
                                           <option [ngValue]=0.75>75%</option>
                                           <option [ngValue]=0.8>80%</option>
                                           <option [ngValue]=0.85>85%</option>
                                           <option [ngValue]=0.9>90%</option>
                                           <option [ngValue]=0.95>95%</option>
                                           <option [ngValue]=1>100%</option>
                                    </select>
                                    </td>
                                    <th>Sub total X<br> Discount(%) </th>
                                    <td style="font-size: 10pt;font-weight: bolder" *ngIf="studentApply.sub_total && percentageDiscount">
                                        {{studentApply.sub_total}} X {{percentageDiscount}} = <br>
                                        <span style="font-size: 11pt;font-weight: bolder; color: red">
                                            {{percentageDiscount * studentApply.sub_total}}
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <th>Reason <br> <span style="font-size:9pt;font-weight: bolder">e.g. JP promotion 10% off</span></th>
                                    <td colspan="3">
                                        <input required style="width: 100%;" placeholder="Reason on giving discount" [(ngModel)]="invoiceDiscountByPercentage.reason"/>
                                    </td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <button class="btn" type="button btn-secondary" *ngIf="invoiceDiscountByPercentage.reason && percentageDiscount"
                                        (click)="saveInvoiceDiscount(studentApply.id,(percentageDiscount * studentApply.sub_total),
                                invoiceDiscountByPercentage.reason,studentApply.invoice_number)" [disabled]="processing">
                                    Add
                                </button>
                            </div>
                        </span>
                        <span id="discount-edit-module-by-input" *ngIf="selectDiscountBy == 0">
                            <table class="table table-bordered">
                                <tr>
                                    <th>Enter discount</th>
                                    <td><input type="number" min="1" max="999" style="width: 90%;" placeholder="Discount" [(ngModel)]="invoiceDiscountByInput.discount"/></td>
                                    <th>To be discounted</th>
                                    <td style="font-size: 11pt;font-weight: bolder; color: red">{{invoiceDiscountByInput.discount}}</td>
                                </tr>
                                <tr>
                                    <th>Reason <br> <span style="font-size:9pt;font-weight: bolder">e.g. Registration coupon</span></th>
                                    <td colspan="3">
                                        <input style="width: 100%;" placeholder="Reason on giving discount" [(ngModel)]="invoiceDiscountByInput.reason"/>
                                    </td>
                                </tr>
                            </table>
                            <div class="modal-footer">
                                <button class="btn" type="button btn-secondary" *ngIf="invoiceDiscountByInput.reason && invoiceDiscountByInput.discount"
                                        (click)="saveInvoiceDiscount(studentApply.id, invoiceDiscountByInput.discount,invoiceDiscountByInput.reason,studentApply.invoice_number)"
                                        [disabled]="processing">
                                    Add
                                </button>
                            </div>
                        </span>
                    </tab>
                    <tab heading='List'>
                        <table class="table table-bordered table-striped;" id="discountListMenu"
                               style="height: calc( 70vh - 141px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:9pt;text-align: center">
                            <thead class="thead-inverse" style="font-size:12px;text-align: center">
                            <th style="text-align: center">Invoice number</th>
                            <th style="text-align: center">Discount</th>
                            <th style="text-align: center">Who discounted</th>
                            <th style="text-align: center">Reason</th>
                            <th style="text-align: center">Created at</th>
                            <th style="text-align: center">Action</th>
                            </thead>
                            <tbody>
                            <tr *ngFor="let g of invoiceDiscountList">
                                <td>{{g.student_invoice_no}}</td>
                                <td>{{g.discount}}</td>
                                <td style="width:100px;">{{g.who_discounted}}</td>
                                <td style="width:210px;">{{g.reason}}</td>
                                <td style="font-size:9pt;width:100px;">{{g.created_at}}</td>
                                <td style="width:60px;">
                                    <button style="cursor:pointer" type="button"
                                            (click)="removeInvoiceDiscount(g.id,g.student_invoice_no, g.discount)">
                                        <img width="15px" height="20px" src="./assets/img/Delete.svg"/>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                </tabset>
            </div>
        </div>
    </div>
</div>
<!--print Invoice modal start-->

<!-- Check Available Room start-->
<div bsModal #roomAvailableModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="roomAvailableModal" aria-labelledby="roomAvailableModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 1000px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <table class="table table-bordered" style="width:90%; margin-bottom:0">
                    <tbody style="text-align: center">
                    <tr>
                        <th>Date from</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input " [(ngModel)]="saveDataLoadEvent.checkRoomFrom" placeholder="Check-In" ngx-mydatepicker name="mydate" #checkRoomFromFilter="ngx-mydatepicker" (click)="checkRoomFromFilter.toggleCalendar()" [options]="myDatePickerOptions" readonly />
                            </div>
                        </td>
                        <th>Campus</th>
                        <td>
                            <div style="float:left">
                               <span *ngIf="campusCodes">
                                   <span class="form-group">
                                       <select style="width: 80px;" class="form-control" name="campcodes" [(ngModel)]="checkRoomCampus" required>
                                           <option *ngFor="let camp of campusCodes" [ngValue]="camp.id"> {{camp.value}} </option>
                                       </select>
                                   </span>
                               </span>
                            </div>
                        </td>
                        <td>
                            <button style="cursor:pointer;" class="btn" type="button btn-secondary" (click)="loadAvailableRooms()" [disabled]="processing">Load</button>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="roomAvailableModal.hide()" >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div *ngIf="availRoomWeek">
                    <table class="table table-bordered"  *ngFor="let o of availRoomWeek.fourWeekList">
                        <tbody style="text-align: center">
                        <!-- to be continued -->
                        <tr >
                            <th>Room types</th>
                            <td style="font-weight: bolder;" *ngFor="let week of o.weekday">
                                {{week | date: 'MM/dd'}}
                            </td>
                        </tr>
                        <tr *ngFor="let roomTypeKey of availRoomWeek.roomTypeKeyList">
                            <td align="left">
                                [{{availRoomWeek.roomTypeList[roomTypeKey].gender===1?'M':'F'}}]
                                {{availRoomWeek.roomTypeList[roomTypeKey].room_type}}
                            </td>
                            <td *ngFor="let content of o.weekcontent">{{content.roomList[roomTypeKey].total}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Check Available Room end-->

<!-- Graduating list start-->
<div bsModal #listGraduatingModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="listGraduatingModal" aria-labelledby="listGraduatingModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 800px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <table class="table table-bordered" style="width:90%; margin-bottom:0">
                    <tbody style="text-align: center">
                    <tr>
                        <th>Graduate date from</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input " [(ngModel)]="saveDataLoadEvent.gradFrom" placeholder="Graduate from" ngx-mydatepicker name="mydate" #gradFromFilter="ngx-mydatepicker" (click)="gradFromFilter.toggleCalendar()" [options]="myDatePickerOptions" readonly />
                            </div>
                        </td>
                        <th>Campus</th>
                        <td>
                            <div style="float:left">
                               <span *ngIf="campusCodes">
                                   <span class="form-group">
                                       <select style="width: 80px;" class="form-control" name="campcodes" [(ngModel)]="gradRoomCampus" required>
                                           <option *ngFor="let camp of campusCodes" [ngValue]="camp.id"> {{camp.value}} </option>
                                       </select>
                                   </span>
                               </span>
                            </div>
                        </td>
                        <td>
                            <button style="cursor:pointer;" class="btn" type="button btn-secondary" (click)="loadGraduatingList()" [disabled]="processing">List</button>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="listGraduatingModal.hide()" >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <span style="color:red;font-size:9pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                *List displayed is a complete one week from Graduation date chosen.
            </span>
            <div class="modal-body">
                <div *ngIf="listGradStud">
                    <table class="table table-bordered" style="width:90%; margin-bottom:0;font-size: 11pt;
                        height: calc( 80vh - 121px );overflow-y: auto;overflow-x: hidden; display: block;">
                        <tbody style="text-align: center">
                        <tr>
                            <th style="font-size: 11pt;text-align: center;color: blue;">Student Name</th>
                            <th style="font-size: 11pt;text-align: center;color: blue;">Gender</th>
                            <th style="font-size: 11pt;text-align: center;color: blue;">Nationality</th>
                            <th style="font-size: 11pt;text-align: center;color: blue;">Course</th>
                            <th style="font-size: 11pt;text-align: center;color: blue;">Campus</th>
                            <th style="font-size: 11pt;text-align: center;color: blue;">Graduation</th>
                        </tr>
                        <tr *ngFor="let o of listGradStud">
                            <td style="font-weight: bolder;width:200px;">{{o.student_name}}</td>
                            <td style="font-weight: bolder;width:100px;">{{o.sex==1?'Male':'Female'}}</td>
                            <td style="font-weight: bolder;width:100px;">{{o.nationality}}</td>
                            <td style="font-weight: bolder;width:200px;">{{o.course}}</td>
                            <td style="font-weight: bolder;width:100px;">{{o.campus}}</td>
                            <td style="font-size: 9pt;font-weight: bolder;width:100px;">
                                {{o.graduation_date | date: 'EEEE, MMMM d, y'}}
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Graduating list end-->

<!-- Room Change list start-->
<div bsModal #listRoomChangeModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="listRoomChangeModal" aria-labelledby="listGraduatingModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="max-width: 800px;!important;">
        <div class="modal-content">
            <div class="modal-header">
                <table class="table table-bordered" style="width:90%; margin-bottom:0">
                    <tbody style="text-align: center">
                    <tr>
                        <th>Change room check-in from</th>
                        <td>
                            <div class="input-group input-form">
                                <input style="width: 110px;" class="form-control date-input " [(ngModel)]="saveDataLoadEvent.changeRoomFrom" placeholder="Change from" ngx-mydatepicker name="mydate" #changeRoomFromFilter="ngx-mydatepicker" (click)="changeRoomFromFilter.toggleCalendar()" [options]="myDatePickerOptions" readonly />
                            </div>
                        </td>
                        <td>
                            <button style="cursor:pointer;" class="btn" type="button btn-secondary" (click)="loadChangeRoomList()" [disabled]="processing">List</button>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="listRoomChangeModal.hide()" >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <span style="color:red;font-size:9pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                *List displayed is from Change room check-in from chosen.
            </span>
            <div class="modal-body">
                <tabset>
                    <tab heading='Dormitory'>
                        <div *ngIf="listChangeDormRoom">
                            <table class="table table-bordered" style="width:90%; margin-bottom:0;font-size: 11pt;
                                height: calc( 80vh - 121px );overflow-y: auto;overflow-x: hidden; display: block;">
                                <tbody style="text-align: center">
                                <tr>
                                    <th style="font-size: 11pt;text-align: center;color: blue;">Student Name</th>
                                    <th style="font-size: 11pt;text-align: center;color: blue;">Gender</th>
                                    <th style="font-size: 11pt;text-align: center;color: blue;">Nationality</th>
                                    <th style="font-size: 11pt;text-align: center;color: blue;">Check-in</th>
                                    <th style="font-size: 11pt;text-align: center;color: blue;">Check-out</th>
                                    <th style="font-size: 11pt;text-align: center;color: blue;">Room Type</th>
                                    <th style="font-size: 11pt;text-align: center;color: blue;">Room Name</th>
                                </tr>
                                <tr *ngFor="let o of listChangeDormRoom">
                                    <td style="font-weight: bolder;width:200px;">{{o.student_name}}</td>
                                    <td style="font-weight: bolder;width:100px;">{{o.sex==1?'Male':'Female'}}</td>
                                    <td style="font-weight: bolder;width:100px;">{{o.nationality}}</td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;">{{o.reservation_checkin | date: 'EEEE, MMMM d, y'}}</td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;">{{o.reservation_checkout | date: 'EEEE, MMMM d, y'}}</td>
                                    <td style="font-weight: bolder;width:100px;">{{o.room_type}}</td>
                                    <td style="font-weight: bolder;width:100px;">{{o.dormitory_room_name}}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </tab>
                     <tab heading='Hotel'>
                        <div *ngIf="listChangeHotelRoom">
                            <table class="table table-bordered" style="width:90%; margin-bottom:0;font-size: 11pt;
                                height: calc( 80vh - 121px );overflow-y: auto;overflow-x: hidden; display: block;">
                                <tbody style="text-align: center">
                                <tr>
                                    <th style="font-size: 11pt;text-align: center;color: blue;">Student Name</th>
                                    <th style="font-size: 11pt;text-align: center;color: blue;">Gender</th>
                                    <th style="font-size: 11pt;text-align: center;color: blue;">Nationality</th>
                                    <th style="font-size: 11pt;text-align: center;color: blue;">Check-in</th>
                                    <th style="font-size: 11pt;text-align: center;color: blue;">Check-out</th>
                                    <th style="font-size: 11pt;text-align: center;color: blue;">Accommodation</th>
                                </tr>
                                <tr *ngFor="let o of listChangeHotelRoom">
                                    <td style="font-weight: bolder;width:200px;">{{o.student_name}}</td>
                                    <td style="font-weight: bolder;width:100px;">{{o.sex==1?'Male':'Female'}}</td>
                                    <td style="font-weight: bolder;width:100px;">{{o.nationality}}</td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;">{{o.hotel_checkin | date: 'EEEE, MMMM d, y'}}</td>
                                    <td style="font-size: 9pt;font-weight: bolder;width:200px;">{{o.hotel_checkout | date: 'EEEE, MMMM d, y'}}</td>
                                    <td style="font-weight: bolder;width:100px;">{{o.hotel_accommodation}}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </tab>
                </tabset>
            </div>
        </div>
    </div>
</div>
<!-- Room Change list end-->


<!--edit Room Apply Modal start-->
<div bsModal #editRoomApplyModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="editRoomApplyModal"
     aria-labelledby="editRoomApplyModal" aria-hidden="true" style="max-width: 100%;">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleRoomModalLabel">Room Reservation: {{studentApply.apply_no?studentApply.apply_no:studentApply.id_number}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                        (click)="closeEditRoomApplyModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <tabset>
                    <tab heading='Reserve'>
                        <table class="table table-bordered">
                            <tr>
                                <th>Reservation information</th>
                                <td colspan="4" style="text-align:center;font-size:11pt;">{{studentApply.student_name}}
                                    ({{studentApply.country_code}})&emsp;{{studentApply.sex===1?'MALE':'FEMALE'}}&emsp;&emsp;|&emsp;&emsp;
                                    {{studentApply.checkin_date | date: 'yyyy-MM-dd'}} ~ {{studentApply.checkout_date |
                                    date: 'yyyy-MM-dd'}}<br>
                                    {{studentApply.campus==='ITP'?'IT Park':'Sea Front'}}&emsp;
                                    <span *ngIf="stayTypes">
                                        <span *ngFor="let stay of stayTypes">
                                            <span *ngIf='studentApply.accommodation_id1==stay.value'>
                                                {{stay.name}}&emsp;
                                            </span>
                                        </span>
                                    </span>
                                    <span *ngIf="studentApply.accommodation_id1 == '1' || studentApply.accommodation_id1 == '4'">
                                        <span *ngIf="roomTypes">
                                            <span *ngFor="let room of roomTypes">
                                                <span *ngIf='studentApply.room_id1==room.value' style="color: black">
                                                    {{room.name}}&emsp;
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                    <span *ngIf="studentApply.accommodation_id1 == '2'">
                                        <span *ngIf="roomTypesZ">
                                            <span *ngFor="let room of roomTypesZ">
                                                <span *ngIf='studentApply.room_id1==room.value' style="color: black">
                                                    {{room.name}}&emsp;
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                    <span *ngIf="studentApply.accommodation_id1 == '3'">
                                        <span *ngIf="roomTypesWF">
                                            <span *ngFor="let room of roomTypesWF">
                                                <span *ngIf='studentApply.room_id1==room.value' style="color: black">
                                                    {{room.name}}&emsp;
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                    <span *ngIf="studentApply.accommodation_id1 == '5'">
                                        <span *ngIf="roomTypesEX">
                                            <span *ngFor="let room of roomTypesEX">
                                                <span *ngIf='studentApply.room_id1==room.value' style="color: black">
                                                    {{room.name}}&emsp;
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                    <span *ngIf="studentApply.accommodation_id1 == '6'">
                                        <span *ngIf="roomTypesDX">
                                            <span *ngFor="let room of roomTypesDX">
                                                <span *ngIf='studentApply.room_id1==room.value' style="color: black">
                                                    {{room.name}}&emsp;
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                    <span *ngIf="studentApply.accommodation_id1 != '2' && studentApply.accommodation_id1 != '3'">
                                        <u>{{studentApply.dormitory_room_name?studentApply.dormitory_room_name:'[No-Room]'}}</u>
                                    </span>
                                </td>
                            </tr>
                        </table>
                        <table class="table table-bordered" style="margin-bottom:5px">
                            <tr>
                                <th>Check-in</th>
                                <td style="width: 160px;">
                                    <div class="input-group input-form">
                                        <input class="form-control date-input" style="cursor:pointer;"
                                               [(ngModel)]="saveDataLoadEvent.selectCheckIn_date"
                                               ngx-mydatepicker name="mydate" #filterDormCheckin="ngx-mydatepicker"
                                               (click)="filterDormCheckin.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Check-out</th>
                                <td style="width: 160px;">
                                    <div class="input-group input-form">
                                        <input class="form-control date-input" style="cursor:pointer;"
                                               [(ngModel)]="saveDataLoadEvent.selectCheckOut_date"
                                               ngx-mydatepicker name="mydate" #filterDormCheckout="ngx-mydatepicker"
                                               (click)="filterDormCheckout.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>School building</th>
                                <td>
                                    <div *ngIf="saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date">
                                        <select style="width: 150px;font-size:10pt;"
                                                (change)="onChangeDormitorySelection($event)" class="form-control" [(ngModel)]="selectDormBldg">
                                            <option [ngValue]=1>IT Park</option>
                                            <option [ngValue]=2>Sea Front</option>
                                        </select>
                                    </div>
                                </td>
                                <th>Accommodation</th>
                                <td>
                                    <div *ngIf="selectDormBldg && saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date">
                                        <span *ngIf="selectDormBldg == 1">
                                            <span class="form-group">
                                                <select style="width: 145px;font-size:10pt;" class="form-control" name="stay"
                                                        (change)="onChangeDormitorySelection($event)" [(ngModel)]="selectAccommodation" required>
                                                    <option [ngValue]=1>Share House</option>
                                                    <option [ngValue]=2>Zelenity Hotel</option>
                                                    <option [ngValue]=3>Waterfront Hotel</option>
                                                </select>
                                            </span>
                                        </span>
                                            <span *ngIf="selectDormBldg == 2">
                                            <span class="form-group">
                                                <select style="width: 145px;font-size:10pt;" class="form-control" name="stay"
                                                        (change)="onChangeDormitorySelection($event)" [(ngModel)]="selectAccommodation" required>
                                                    <option [ngValue]=4>Share Room</option>
                                                    <option [ngValue]=5>Executive Room</option>
                                                    <option [ngValue]=6>Deluxe Room</option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                            </tr>
                            <tr *ngIf="selectAccommodation != '2' && selectAccommodation != '3' && selectDormBldg && selectAccommodation &&
                                    saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date">
                                <th>Room type</th>
                                <td colspan="2">
                                    <div style="float:left">
                                        <span *ngIf="roomTypes">
                                            <span class="form-group">
                                                <select style="width: 100px;font-size: 10pt;"
                                                        class="form-control" (change)="onChangeDormitorySelection($event)"
                                                        name="room" [(ngModel)]="selectDormRoomType" required>
                                                    <option *ngFor="let room of roomTypes"
                                                            [ngValue]="room.value">{{room.name}}
                                                    </option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                                <td>
                                    <span *ngIf="selectDormBldg && selectDormRoomType && selectAccommodation &&
                                            saveDataLoadEvent.selectCheckIn_date && saveDataLoadEvent.selectCheckOut_date">
                                        <button style="cursor:pointer;float:right;margin-right:2em;margin-bottom:5px" type="button" class="btn"
                                                data-dismiss="modal"
                                                (click)="loadRoomList(studentApply.id)">Search
                                        </button>
                                    </span>
                                </td>
                            </tr>
                        </table>
                        <table class="table table-bordered" style="margin-bottom:2px;" *ngIf="selectAccommodation != '2' &&
                        selectAccommodation != '3'">
                            <tr *ngIf="availableRoomList" style="text-align:center;">
                                <td><span style="color:darkblue;font-weight:bold;font-size:14px;">Select</span></td>
                                <td><span style="color:green;font-weight:bold;font-size:14px;">Name of the Room</span></td>
                                <td><span style="color:green;font-weight:bold;font-size:14px;">Bed #</span></td>
                                <td><span style="color:green;font-weight:bold;font-size:14px;">Type of Room</span></td>
                            </tr>
                        </table>
                        <table class="table table-bordered" *ngIf="availableRoomList">
                            <tbody style="height:190px;overflow-y: auto;overflow-x:hidden;display: block; text-align:center;cursor:pointer;">
                            <tr *ngFor="let o of availableRoomList;">
                                <td style="width:126px">
                                    <input type="radio" name="optradio" [(ngModel)]="dormitory_room_id" class="form-control"
                                           [value]="o.id">
                                </td>
                                <td style="width:291px">{{o.dormitory_room_name}}</td>
                                <td style="width:125px">#{{o.name}}</td>
                                <td style="width:207px">{{o.room_type}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading="Rooms">
                        <table style="height: calc( 70vh - 141px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:8pt;text-align: center" class="table table-bordered table-striped;">
                            <thead class="thead-inverse">
                            <th style="text-align: center">Bed id</th>
                            <th style="text-align: center">Room name</th>
                            <!--<th style="text-align: center">Type</th>-->
                            <th style="text-align: center">Date from</th>
                            <th style="text-align: center">Date to</th>
                            <th style="text-align: center">Memo</th>
                            <th style="text-align: center">Created by/at</th>
                            <th style="text-align: center">Action</th>
                            </thead>
                            <tbody>
                            <tr *ngFor="let g of reservedRoomsList">
                                <td style="width:80px;">{{g.bed_id}}</td>
                                <td style="width:120px;font-size:10pt;">{{g.room_name}}</td>
                                <!--<td style="width:80px;font-size:10pt;">{{g.room_type}}</td>-->
                                <td style="width:120px;font-size:8pt;">{{g.date_from | date: 'yyyy-MM-dd' }}</td>
                                <td style="width:120px;font-size:8pt;">{{g.date_to | date: 'yyyy-MM-dd'}}</td>
                                <td style="width:240px;">{{g.memo}}</td>
                                <td style="width:150px;"><b>{{g.created_by}}</b><br>({{g.created_at}})</td>
                                <td style="width:60px;">
                                    <button style="cursor:pointer" type="button"
                                            (click)="removeRoomReserved(g.id,studentApply.id)">
                                        <img width="15px" height="20px" src="./assets/img/Delete.svg"/>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading="Hotels">
                        <table style="height: calc( 70vh - 141px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:8pt;text-align: center" class="table table-bordered table-striped;">
                            <thead class="thead-inverse">
                            <th style="text-align: center">ID</th>
                            <th style="text-align: center">Hotel</th>
                            <th style="text-align: center">From & To</th>
                            <th style="text-align: center">Updated by/at</th>
                            <th colspan="3" style="text-align: center">Actions<br>Upload(.pdf) / Download / Remove</th>
                            </thead>
                            <tbody>
                            <tr *ngFor="let a of reservedHotelsList">
                                <td style="width:50px;">{{a.id}}</td>
                                <td style="width:120px;font-size:10pt;">{{a.accommodation}}</td>
                                <td style="width:120px;font-size:10pt;">{{a.checkin_date | date: 'yyyy-MM-dd' }}
                                    <br>~<br>{{a.checkout_date | date: 'yyyy-MM-dd'}}
                                </td>
                                <td style="width:150px;"><b>{{a.updated_by}}</b><br>({{a.updated_at}})</td>
                                <td style="width:5px;">
                                    <button style="cursor:pointer" type="button" (click)="uploadHotelFile(a.id)">
                                        <img width="15px" height="20px" src="./assets/img/Upload.svg"/>
                                    </button>
                                    <label for="upload-file">
                                        <input style="color:darkblue;font-size:8pt;" type="file" id="upload-pdf" (change)="onChangeSelectPDF($event)">
                                    </label>
                                </td>
                                <td style="width:60px;" *ngIf="a.filename">
                                    <button style="cursor:pointer" type="button"
                                            [disabled]="false" (click)="downloadHotelFile(a.id,studentApply.student_name)">
                                        <img width="15px" height="20px" src="./assets/img/Download.svg"/>
                                    </button>
                                </td>
                                <td style="width:60px;" *ngIf="!a.filename">
                                    <button style="cursor:not-allowed" type="button" [disabled]="true">
                                        <img width="15px" height="20px" src="./assets/img/Download.svg"/>
                                    </button>
                                    <div style="color:red;margin-top:2em;text-align:center">NO<br>FILE</div>
                                </td>
                                <td style="width:60px;">
                                    <button style="cursor:pointer" type="button"
                                            (click)="removeHotelReserved(a.id)">
                                        <img width="15px" height="20px" src="./assets/img/Delete.svg"/>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                </tabset>
            </div>
            <div class="modal-footer">
                <button style="cursor:pointer;" class="btn" type="button btn-secondary" (click)="saveRoomSelection()"
                        *ngIf="dormitory_room_id" [disabled]="processing">Save</button>
                <button style="cursor:pointer;" class="btn" type="button btn-secondary" (click)="saveHotelSelection()"
                        *ngIf="selectAccommodation == '2' || selectAccommodation == '3'" [disabled]="processing">Save Hotel</button>
                <button style="cursor:pointer;" type="button" class="btn" data-dismiss="modal"
                        (click)="closeEditRoomApplyModal()">Close</button>
            </div>
        </div>
    </div>
</div>
<!--edit Room Apply Modal end-->

<!--edit Apply Modal start-->
<div bsModal #editApplyModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" id="editApplyModal"
     aria-labelledby="editApplyModal" aria-hidden="true" style="max-width: 100%;">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">
                    Edit: {{studentApply.apply_no?studentApply.apply_no:studentApply.id_number}}
                    Plan:
                    <span *ngIf="studentApply.plan_id">
                        <span *ngIf="planTypes">
                            <span *ngFor="let plan of planTypes">
                                <span *ngIf='studentApply.plan_id==plan.value && studentApply.country_code==plan.country'> {{plan.name}}</span>
                            </span>
                        </span>
                    </span>
                    <span *ngIf="!studentApply.plan_id">
                        <span> {{studentApply.course}}</span>
                    </span>
                    <b></b>
                </h5>
                <button style="cursor:pointer" type="button" class="close" data-dismiss="modal" aria-label="Close"
                        (click)="editApplyModal.hide()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <tabset>
                    <tab heading='Basic info'>
                        <table class="table table-bordered">
                            <tbody style="height:430px;overflow-y: auto;overflow-x: hidden; display: block; text-align:left;
                            font-size: 12pt">
                            <tr>
                                <th>ID No.</th>
                                <td>
                                    <input [(ngModel)]="studentApply.id_number" placeholder="Id no"/>
                                </td>
                                <th>Student Status</th>
                                <td>
                                    <div style="float:left;width: 232px;">
                                            <span *ngIf="studentStatus">
                                                <span class="form-group">
                                                    <select class="form-control"
                                                            name="studentStatus"
                                                            [(ngModel)]="studentApply.student_status" required>
                                                    <option *ngFor="let status of studentStatus" [ngValue]="status.id"> {{status.name}} </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Name</th>
                                <td>{{studentApply.student_name}}&nbsp;{{studentApply.passport_name}}</td>
                                <th>Gender</th>
                                <td>{{studentApply.sex===1?'Male':'Female'}}</td>
                            </tr>
                            <tr>
                                <th>Nationality [code]</th>
                                <td>
                                    <div style="float:left">{{studentApply.nationality}}</div>
                                    <div style="float:right">
                                            <span *ngIf="countryCodes">
                                                <span class="form-group">
                                                  <select style="width: 140px;" class="form-control" name="ccodes"
                                                          [(ngModel)]="studentApply.country_code" required>
                                                    <option *ngFor="let c of countryCodes" [ngValue]="c.value"> [{{c.value}}] {{c.name}} </option>
                                                  </select>
                                                </span>
                                            </span>
                                    </div>
                                </td>
                                <th>Age</th>
                                <td>{{studentApply.age}}</td>
                            </tr>
                            <tr>
                                <th>Birthday</th>
                                <td>
                                    <div class="input-group input-form">
                                        <input style="width: 110px;" class="form-control date-input "
                                               [(ngModel)]="saveDataLoadEvent.birthday_date" placeholder="Birthdate"
                                               ngx-mydatepicker name="mydate" #filterBirthdate="ngx-mydatepicker"
                                               (click)="filterBirthdate.toggleCalendar()"
                                               [options]="myDatePickerOptions" readonly/>
                                    </div>
                                </td>
                                <th>Campus</th>
                                <td>
                                    <div style="float:left">
                                            <span *ngIf="campusCodes">
                                                <span class="form-group">
                                                    <select style="width: 80px;" class="form-control" name="campcodes"
                                                            [(ngModel)]="studentApply.campus" required>
                                                        <option *ngFor="let camp of campusCodes"
                                                                [ngValue]="camp.value"> {{camp.value}} </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Course</th>
                                <td style="width:150px;">
                                    <input [(ngModel)]="studentApply.course" placeholder="course"/>
                                </td>
                                <th>Skype</th>
                                <td style="width:110px;"><input [(ngModel)]="studentApply.skype_id" placeholder="skype id"/></td>
                            </tr>
                            <tr>
                                <th>Email</th>
                                <td style="width:150px; word-break: break-all;">{{studentApply.email}}</td>
                                <th>Phone</th>
                                <td>{{studentApply.phone}}</td>
                            </tr>
                            <tr>
                                <th>Address</th>
                                <td colspan="3">{{studentApply.address}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading='Additional info'>
                        <table class="table table-bordered">
                            <tbody style="height:430px;overflow-y: auto;overflow-x: hidden; display: block; text-align:left;
                            font-size: 11pt">
                            <tr *ngIf="studentApply.edit_id">
                                <th>Edit Link</th>
                                <td colspan="3">
                                    <span style="font-size: 9pt;color: blue;text-decoration: underline">
                                        <a target="_blank" href="{{originUrl}}/studentinfo/?id={{studentApply.edit_id}}&lan={{studentApply.country_code  | lowercase}}">
                                            {{originUrl}}/studentinfo/?id={{studentApply.edit_id}}&lan={{studentApply.country_code  | lowercase}}
                                        </a>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th>Agent name</th>
                                <td>{{studentApply.agent_name}}</td>
                                <th>Agent email</th>
                                <td>{{studentApply.agent_email}}</td>
                            </tr>
                            <tr>
                                <th>Check-In</th>
                                <td>
                                    <div class="input-group input-form">
                                        <input style="width: 110px;" class="form-control date-input "
                                               [(ngModel)]="saveDataLoadEvent.checkIn_date" placeholder="Checkin"
                                               ngx-mydatepicker name="mydate" #filterCheckin="ngx-mydatepicker"
                                               (click)="filterCheckin.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Weeks/Days</th>
                                <td>{{studentApply.term}} </td>
                            </tr>
                            <tr>
                                <th>Check-Out</th>
                                <td>
                                    <div class="input-group input-form">
                                        <input style="width: 110px;" class="form-control date-input "
                                               [(ngModel)]="saveDataLoadEvent.checkOut_date" placeholder="Checkout"
                                               ngx-mydatepicker name="mydate" #filterCheckout="ngx-mydatepicker"
                                               (click)="filterCheckout.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Meal</th>
                                <td>
                                    {{studentApply.options_meals===1?'Yes':'No'}}
                                </td>
                            </tr>
                            <tr>
                                <th>Entrance/Start date</th>
                                <td>
                                    <div class="input-group input-form">
                                        <input style="width: 110px;" class="form-control date-input "
                                               [(ngModel)]="saveDataLoadEvent.start_date" placeholder="Start date"
                                               ngx-mydatepicker name="mydate" #filterStartDate="ngx-mydatepicker"
                                               (click)="filterStartDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Flight no</th>
                                <td>
                                    <input [(ngModel)]="studentApply.flight_no" placeholder="flight no"/>
                                </td>
                            </tr>
                            <tr>
                                <th>Gradudation date</th>
                                <td>
                                    <div class="input-group input-form">
                                        <input style="width: 110px;" class="form-control date-input "
                                               [(ngModel)]="saveDataLoadEvent.graduate_date" placeholder="Graduation date"
                                               ngx-mydatepicker name="mydate" #filterGraduateDate="ngx-mydatepicker"
                                               (click)="filterGraduateDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Pick-up</th>
                                <td>{{studentApply.options_pickup===1?'Yes':'No'}}</td>
                            </tr>
                            <tr>
                                <th>Building id</th>
                                <td>{{studentApply.building_id}} {{studentApply.building_id==1?'(ITP)':'(SFC)'}}</td>
                                <th>Repeater</th>
                                <td>{{studentApply.repeater===1?'Yes':'No'}}</td>
                            </tr>
                            <tr>
                                <th>Accommodation<br>(1st option)</th>
                                <td>
                                    <div style="float:left">
                                        <span *ngIf="stayTypes">
                                            <span class="form-group">
                                                <select style="width: 190px;" class="form-control" name="stay"
                                                        [(ngModel)]="studentApply.accommodation_id1" required>
                                                    <option *ngFor="let stay of stayTypes"
                                                            [ngValue]="stay.value"> {{stay.name}} </option>
                                                </select>
                                            </span>
                                        </span>
                                    </div>
                                </td>
                                <th>Accommodation<br>(2nd option)</th>
                                <td>
                                    <span *ngIf="stayTypes">
                                        <span class="form-group">
                                            <select style="width: 190px;" class="form-control" name="stay"
                                            [(ngModel)]="studentApply.accommodation_id2" required>
                                                <option *ngFor="let stay of stayTypes"
                                              [ngValue]="stay.value"> {{stay.name}} </option>
                                            </select>
                                        </span>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <th>Room Type<br>(1st option)</th>
                                <td>
                                    <div *ngIf="studentApply.accommodation_id1 == '1' || studentApply.accommodation_id1 == '4'" style="float:left">
                                            <span *ngIf="roomTypes">
                                                <span class="form-group">
                                                    <select style="width: 100px;" class="form-control" name="room"
                                                          [(ngModel)]="studentApply.room_id1" required>
                                                        <option *ngFor="let room of roomTypes"
                                                            [ngValue]="room.value">{{room.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id1 == '2'" style="float:left">
                                            <span *ngIf="roomTypesZ">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomZ"
                                                            [(ngModel)]="studentApply.room_id1" required>
                                                        <option *ngFor="let roomZ of roomTypesZ"
                                                                [ngValue]="roomZ.value">{{roomZ.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id1 == '3'" style="float:left">
                                            <span *ngIf="roomTypesWF">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomWF"
                                                            [(ngModel)]="studentApply.room_id1" required>
                                                        <option *ngFor="let roomWF of roomTypesWF"
                                                                [ngValue]="roomWF.value">{{roomWF.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id1 == '5'" style="float:left">
                                            <span *ngIf="roomTypesEX">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomEX"
                                                            [(ngModel)]="studentApply.room_id1" required>
                                                        <option *ngFor="let roomEX of roomTypesEX"
                                                                [ngValue]="roomEX.value">{{roomEX.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id1 == '6'" style="float:left">
                                            <span *ngIf="roomTypesDX">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomDX"
                                                            [(ngModel)]="studentApply.room_id1" required>
                                                        <option *ngFor="let roomDX of roomTypesDX"
                                                                [ngValue]="roomDX.value">{{roomDX.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                </td>
                                <th>Room Type<br>(2nd option)</th>
                                <td>
                                    <div *ngIf="studentApply.accommodation_id2 == '1' || studentApply.accommodation_id2 == '4'" style="float:left">
                                            <span *ngIf="roomTypes">
                                                <span class="form-group">
                                                    <select style="width: 100px;" class="form-control" name="room"
                                                            [(ngModel)]="studentApply.room_id2" required>
                                                        <option *ngFor="let room of roomTypes"
                                                                [ngValue]="room.value">{{room.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id2 == '2'" style="float:left">
                                            <span *ngIf="roomTypesZ">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomZ"
                                                            [(ngModel)]="studentApply.room_id2" required>
                                                        <option *ngFor="let roomZ of roomTypesZ"
                                                                [ngValue]="roomZ.value">{{roomZ.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id2 == '3'" style="float:left">
                                            <span *ngIf="roomTypesWF">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomWF"
                                                            [(ngModel)]="studentApply.room_id2" required>
                                                        <option *ngFor="let roomWF of roomTypesWF"
                                                                [ngValue]="roomWF.value">{{roomWF.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id2 == '5'" style="float:left">
                                            <span *ngIf="roomTypesEX">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomEX"
                                                            [(ngModel)]="studentApply.room_id2" required>
                                                        <option *ngFor="let roomEX of roomTypesEX"
                                                                [ngValue]="roomEX.value">{{roomEX.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                    <div *ngIf="studentApply.accommodation_id2 == '6'" style="float:left">
                                            <span *ngIf="roomTypesDX">
                                                <span class="form-group">
                                                    <select style="width: 130px;" class="form-control" name="roomDX"
                                                            [(ngModel)]="studentApply.room_id2" required>
                                                        <option *ngFor="let roomDX of roomTypesDX"
                                                                [ngValue]="roomDX.value">{{roomDX.name}}
                                                        </option>
                                                    </select>
                                                </span>
                                            </span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Email family</th>
                                <td>{{studentApply.email_family}}</td>
                                <th>Emergency contact</th>
                                <td>{{studentApply.emergency_contact}}</td>
                            </tr>
                            <tr>
                                <th>Application from</th>
                                <td>{{studentApply.application_from}}</td>
                                <th>Studied before</th>
                                <td>{{studentApply.studied_before}}</td>
                            </tr>
                            <tr>
                                <th>Arrival date</th>
                                <td>
                                    <div class="input-group input-form">
                                        <input style="width: 110px;" class="form-control date-input "
                                               [(ngModel)]="saveDataLoadEvent.arrive_date" placeholder="Arrive date"
                                               ngx-mydatepicker name="mydate" #filterArriveDate="ngx-mydatepicker"
                                               (click)="filterArriveDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Arrival time<br>
                                    <span style="text-decoration: underline;font-size: 10pt;font-weight: bold;font-family: 'Helvetica', Arial, serif;margin-left: 1em;">
                                        {{studentApply.arrival_time | date : 'HH:mm'}}
                                    </span>
                                </th>
                                <td>
                                    <select style="width: 70px;font-size: 10pt;font-weight: bolder;float: left"
                                            class="form-control"[(ngModel)]="arriveTimeHour">
                                        <option [ngValue]=00>00</option>
                                        <option [ngValue]=01>01</option>
                                        <option [ngValue]=02>02</option>
                                        <option [ngValue]=03>03</option>
                                        <option [ngValue]=04>04</option>
                                        <option [ngValue]=05>05</option>
                                        <option [ngValue]=06>06</option>
                                        <option [ngValue]=07>07</option>
                                        <option [ngValue]=08>08</option>
                                        <option [ngValue]=09>09</option>
                                        <option [ngValue]=10>10</option>
                                        <option [ngValue]=11>11</option>
                                        <option [ngValue]=12>12</option>
                                        <option [ngValue]=13>13</option>
                                        <option [ngValue]=14>14</option>
                                        <option [ngValue]=15>15</option>
                                        <option [ngValue]=16>16</option>
                                        <option [ngValue]=17>17</option>
                                        <option [ngValue]=18>18</option>
                                        <option [ngValue]=19>19</option>
                                        <option [ngValue]=20>20</option>
                                        <option [ngValue]=21>21</option>
                                        <option [ngValue]=22>22</option>
                                        <option [ngValue]=23>23</option>
                                    </select>
                                    <select style="width: 70px;font-size: 10pt;font-weight: bolder;float: right;margin-right: 3em;"
                                            class="form-control"[(ngModel)]="arriveTimeMin">
                                        <option [ngValue]=0>0</option>
                                        <option [ngValue]=1>1</option>
                                        <option [ngValue]=2>2</option>
                                        <option [ngValue]=3>3</option>
                                        <option [ngValue]=4>4</option>
                                        <option [ngValue]=5>5</option>
                                        <option [ngValue]=6>6</option>
                                        <option [ngValue]=7>7</option>
                                        <option [ngValue]=8>8</option>
                                        <option [ngValue]=9>9</option>
                                        <option [ngValue]=10>10</option>
                                        <option [ngValue]=11>11</option>
                                        <option [ngValue]=12>12</option>
                                        <option [ngValue]=13>13</option>
                                        <option [ngValue]=14>14</option>
                                        <option [ngValue]=15>15</option>
                                        <option [ngValue]=16>16</option>
                                        <option [ngValue]=17>17</option>
                                        <option [ngValue]=18>18</option>
                                        <option [ngValue]=19>19</option>
                                        <option [ngValue]=20>20</option>
                                        <option [ngValue]=21>21</option>
                                        <option [ngValue]=22>22</option>
                                        <option [ngValue]=23>23</option>
                                        <option [ngValue]=24>24</option>
                                        <option [ngValue]=25>25</option>
                                        <option [ngValue]=26>26</option>
                                        <option [ngValue]=27>27</option>
                                        <option [ngValue]=28>28</option>
                                        <option [ngValue]=29>29</option>
                                        <option [ngValue]=30>30</option>
                                        <option [ngValue]=31>31</option>
                                        <option [ngValue]=32>32</option>
                                        <option [ngValue]=33>33</option>
                                        <option [ngValue]=34>34</option>
                                        <option [ngValue]=35>35</option>
                                        <option [ngValue]=36>36</option>
                                        <option [ngValue]=37>37</option>
                                        <option [ngValue]=38>38</option>
                                        <option [ngValue]=39>39</option>
                                        <option [ngValue]=40>40</option>
                                        <option [ngValue]=41>41</option>
                                        <option [ngValue]=42>42</option>
                                        <option [ngValue]=43>43</option>
                                        <option [ngValue]=44>44</option>
                                        <option [ngValue]=45>45</option>
                                        <option [ngValue]=46>46</option>
                                        <option [ngValue]=47>47</option>
                                        <option [ngValue]=48>48</option>
                                        <option [ngValue]=49>49</option>
                                        <option [ngValue]=50>50</option>
                                        <option [ngValue]=51>51</option>
                                        <option [ngValue]=52>52</option>
                                        <option [ngValue]=53>53</option>
                                        <option [ngValue]=54>54</option>
                                        <option [ngValue]=55>55</option>
                                        <option [ngValue]=56>56</option>
                                        <option [ngValue]=57>57</option>
                                        <option [ngValue]=58>58</option>
                                        <option [ngValue]=59>59</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <th>English skill</th>
                                <td>{{studentApply.english_skill}}</td>
                                <th>Autumn Campaign</th>
                                <td>
                                    {{studentApply.autumn_campaign===1?'Yes':'No'}}
                                </td>
                            </tr>
                            <tr>
                                <th>Where did you know QQ?</th>
                                <td>{{studentApply.how_know_qqe}}</td>
                                <th>Line id</th>
                                <td>{{studentApply.line_id}}</td>
                            </tr>
                            <tr>
                                <th>ID</th>
                                <td>{{studentApply.id}}</td>
                                <th>ID card</th>
                                <td>{{studentApply.id_card}}</td>
                            </tr>
                            <tr>
                                <th>Job</th>
                                <td>{{studentApply.job}}</td>
                                <th>Life overseas</th>
                                <td>{{studentApply.life_overseas}}</td>
                            </tr>
                            <tr>
                                <th>Number of person</th>
                                <td>{{studentApply.num_of_person}}</td>
                                <th>Beginner option</th>
                                <td>{{studentApply.options_beginner_option===1?'Yes':'No'}}</td>
                            </tr>
                            <tr>
                                <th>Island Hopping</th>
                                <td>{{studentApply.options_island_hopping===1?'Yes':'No'}}</td>
                                <th>Oslob</th>
                                <td>{{studentApply.options_oslob===1?'Yes':'No'}}</td>
                            </tr>
                            <tr>
                                <th>Options special option</th>
                                <td>{{studentApply.options_special_option===1?'Yes':'No'}}</td>
                                <th>Plan id</th>
                                <td><strong>{{studentApply.plan_id}}</strong></td>
                            </tr>
                            <tr>
                                <th>Campaign code</th>
                                <td>{{studentApply.campaign_code}}</td>
                                <th>Created at</th>
                                <td>{{studentApply.created_at | date: 'yyyy-MM-dd'}}</td>
                            </tr>
                            <tr>
                                <th>Driver</th>
                                <td>{{studentApply.driver}}</td>
                                <th>Staff</th>
                                <td>{{studentApply.staff}}</td>
                            </tr>
                            <tr>
                                <th colspan="4">Student Remarks</th>
                            </tr>
                            <tr>
                                <td colspan="4">{{studentApply.memo}}</td>
                            </tr>
                            <tr>
                                <th colspan="4">Staff Remarks</th>
                            </tr>
                            <tr>
                                <td colspan="4">
                                    <textarea [(ngModel)]="studentApply.note_for_op" style="width:100%"
                                              maxlength="1000">{{studentApply.note_for_op}}</textarea>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading='Invoice info'>
                        <table class="table table-bordered">
                            <tbody style="height:430px;overflow-y: auto;overflow-x: hidden; display: block; text-align:left;
                            font-size: 11pt">
                            <tr>
                                <th>Invoice number</th>
                                <td><input [(ngModel)]="studentApply.invoice_number"
                                           placeholder="invoice number"/></td>
                                <th>Beginner cost</th>
                                <td><input [(ngModel)]="studentApply.beginner_cost"
                                           placeholder="beginner cost" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Price (JPY)</th>
                                <td><input [(ngModel)]="studentApply.price_jpy"
                                           placeholder="price(JPY)" type="number"/></td>
                                <th>Ex Price (JPY)</th>
                                <td><input [(ngModel)]="studentApply.ex_price_jpy"
                                           placeholder="ex price(JPY)" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Special Holiday (JPY)</th>
                                <td>
                                    <input [(ngModel)]="studentApply.special_holiday_jpy"
                                           placeholder="special holiday(JPY)" type="number"/>
                                </td>
                                <th>Transfer Fee (JPY)</th>
                                <td>
                                    <input [(ngModel)]="studentApply.transfer_fee"
                                           placeholder="transfer fee(JPY)" type="number"/>
                                </td>
                            </tr>
                            <tr>
                                <th>Extension fee (JPY)</th>
                                <td>
                                    <input [(ngModel)]="studentApply.extension_fee_jpy"
                                           placeholder="extension fee(JPY)" type="number"/>
                                </td>
                                <th>Additional lesson fee (JPY)</th>
                                <td>
                                    <input [(ngModel)]="studentApply.additional_lesson_fee"
                                           placeholder="lesson fee(JPY)" type="number"/>
                                </td>
                            </tr>
                            <tr><th>Special Cost</th>
                                <td><input [(ngModel)]="studentApply.special_cost"
                                           placeholder="special cost" type="number"/></td>
                                <th>Ex Sub total (JPY)</th>
                                <td><input [(ngModel)]="studentApply.ex_sub_total"
                                           placeholder="ex sub-total(JPY)" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Total discount</th>
                                <td>{{studentApply.discount}}</td>
                                <th>Agent Commission</th>
                                <td>{{studentApply.commission}}</td>
                            </tr>
                            <tr>
                                <th>Due date</th>
                                <td>
                                    <div class="input-group input-form" style="width: 150px;">
                                        <input class="form-control date-input "
                                               [(ngModel)]="saveDataLoadEvent.due_date" placeholder="Due date"
                                               ngx-mydatepicker name="mydate" #filterDueDate="ngx-mydatepicker"
                                               (click)="filterDueDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Accommodation cost</th>
                                <td><input [(ngModel)]="studentApply.accommodation_cost"
                                           placeholder="accommodation" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Paid date</th>
                                <td>
                                    <div class="input-group input-form" style="width: 150px;">
                                        <input class="form-control date-input "
                                               [(ngModel)]="saveDataLoadEvent.paid_date" placeholder="Paid date"
                                               ngx-mydatepicker name="mydate" #filterPaidDate="ngx-mydatepicker"
                                               (click)="filterPaidDate.toggleCalendar()" [options]="myDatePickerOptions"
                                               readonly/>
                                    </div>
                                </td>
                                <th>Amount paid</th>
                                <td><input [(ngModel)]="studentApply.paid_amount"
                                           placeholder="paid amount" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Holiday fee</th>
                                <td colspan="3">
                                    <input [(ngModel)]="studentApply.holiday_fee" placeholder="holiday fee" type="number"/>
                                </td>
                            </tr>
                            <tr>
                                <th>Entrance/Registration fee</th>
                                <td><input [(ngModel)]="studentApply.entrance_fee" placeholder="entrance fee" type="number"/></td>
                                <th>Meal cost</th>
                                <td><input [(ngModel)]="studentApply.meal_cost" placeholder="meal cost" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Pickup cost</th>
                                <td><input [(ngModel)]="studentApply.pickup_cost" placeholder="pickup cost" type="number"/></td>
                                <th>Remittance Fee</th>
                                <td><input [(ngModel)]="studentApply.remittance_fee" placeholder="remittance fee" type="number"/></td>
                            </tr>
                            <tr>
                                <th>ECC (PHP)</th>
                                <td><input [(ngModel)]="studentApply.ecc" placeholder="ecc cost(PHP)" type="number"/></td>
                                <th>Extension Fee (PHP)</th>
                                <td><input [(ngModel)]="studentApply.extention_fee_php" placeholder="extention fee(PHP)" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Immigration fee (PHP)</th>
                                <td><input [(ngModel)]="studentApply.emigration_fee_php" placeholder="immigration fee(PHP)" type="number"/></td>
                                <th>Electrical Fee (PHP)</th>
                                <td><input [(ngModel)]="studentApply.electrical_fee_php" placeholder="electrical fee(PHP)" type="number"/></td>
                            </tr>
                            <tr>
                                <th>SSP Fee (PHP)</th>
                                <td><input [(ngModel)]="studentApply.ssp_fee_php" placeholder="ssp fee(PHP)" type="number"/></td>
                                <th>Student ID (PHP)</th>
                                <td><input [(ngModel)]="studentApply.id_card" placeholder="student id(PHP)" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Visa Fee</th>
                                <td><input [(ngModel)]="studentApply.visa_fee_php" placeholder="visa fee(PHP)" type="number"/></td>
                                <th>Acri Fee</th>
                                <td><input [(ngModel)]="studentApply.acri_fee_php" placeholder="acri fee(PHP)" type="number"/></td>
                            </tr>
                            <tr>
                                <th>I-Card cost</th>
                                <td><input [(ngModel)]="studentApply.i_card_cost" placeholder="i-card cost" type="number"/></td>
                                <th>Sub total/Tuition fee</th>
                                <td><input [(ngModel)]="studentApply.sub_total" placeholder="sub-total/tuition fee" type="number"/></td>
                            </tr>
                            <tr>
                                <th>Total cost</th>
                                <td><input [(ngModel)]="studentApply.total_cost" placeholder="total cost" type="number"/></td>
                                <th>Total cost (PHP)</th>
                                <td>
                                    <input [(ngModel)]="studentApply.total_cost_php" placeholder="total cost(PHP)"
                                           style="width:120px;" type="number"/>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                    <tab heading='Payment'>
                        <span style="color:red;font-size:9pt;">* List of payments not yet confirmed.</span>
                        <table class="table table-bordered table-striped;" id="unconfirmedPaymentList"
                                   style="height: calc( 50vh - 121px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:9pt;text-align: center">
                                <thead class="thead-inverse" style="font-size:12px;text-align: center">
                                <th style="text-align: center">Status</th>
                                <th style="text-align: center">Currency</th>
                                <th style="text-align: center">Amount paid</th>
                                <th style="text-align: center">Paid date/time</th>
                                <th style="text-align: center">Action</th>
                                </thead>
                                <tbody>
                                <tr *ngFor="let p of paymentUnconfirmedList">
                                    <td style="width:210px;">{{p.confirm==0?"CONFIRMED":"NOT CONFIRMED"}}</td>
                                    <td style="width:100px;color: blue;">{{p.payment_currency}}</td>
                                    <td style="width:210px;color: blue;font-size: 11pt;font-weight: bold;">
                                        {{p.payment_amount}}
                                    </td>
                                    <td style="width:210px;">{{p.created_at}}</td>
                                    <td style="width:60px;font-size:12px;">
                                        <button style="cursor:pointer;" (click)="confirmPayment(p.id)" [disabled]="processing">Confirm</button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        <span style="color:red;font-size:9pt;">* List of payments that are confirmed.</span>
                        <table class="table table-bordered table-striped;" id="confirmedPaymentList"
                                   style="height: calc( 50vh - 121px );overflow-y: auto;overflow-x: scroll; display: block;
                               font-size:9pt;text-align: center">
                                <thead class="thead-inverse" style="font-size:11px;text-align: center">
                                <th style="text-align: center">Status</th>
                                <th style="text-align: center">Currency</th>
                                <th style="text-align: center">Amount paid</th>
                                <th style="text-align: center">Paid date/time</th>
                                <th style="text-align: center">Confirmation by</th>
                                <th style="text-align: center">Confirmation date/time</th>
                                </thead>
                                <tbody>
                                <tr *ngFor="let c of paymentConfirmedList">
                                    <td style="width:210px;">{{c.confirm==0?"CONFIRMED":"NOT CONFIRMED"}}</td>
                                    <td style="width:80px;color: blue;">{{c.payment_currency}}</td>
                                    <td style="width:180px;color: blue;font-size: 11pt;font-weight: bold;">
                                        {{c.payment_amount}}
                                    </td>
                                    <td style="width:210px;">{{c.created_at}}</td>
                                    <td style="width:150px;">{{c.confirm_by}}</td>
                                    <td style="width:210px;">{{c.updated_at}}</td>
                                </tr>
                                </tbody>
                            </table>
                    </tab>
                    <tab heading='Change log'>
                        <table class="table table-bordered table-striped;" id="changeLogMenu"
                               style="height: calc( 100vh - 141px );overflow-y: auto;overflow-x: scroll; display: block;font-size:9pt;">
                            <thead class="thead-inverse">
                            <th>Server Name</th>
                            <th>Host Name</th>
                            <th>Method used</th>
                            <th>Email</th>
                            <th>Operator ID</th>
                            <th>Operator Role</th>
                            <th>Updates</th>
                            </thead>
                            <tbody>
                            <tr *ngFor="let g of logList">
                                <td>
                                    {{g.server_name}}
                                </td>
                                <td>
                                    {{g.host_name}}
                                </td>
                                <td>
                                    {{g.method_name}}
                                </td>
                                <td>
                                    {{g.email_address}}
                                </td>
                                <td>
                                    {{g.operator_id}}
                                </td>
                                <td>
                                    {{g.operator_role_id==1?'Admin':''}}
                                </td>
                                <td>
                                    {{g.result_json}}
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </tab>
                </tabset>
            </div>
            <div class="modal-footer">
                <button style="cursor:pointer" class="btn" type="button btn-secondary" (click)="saveOrUpdate()" [disabled]="processing">Save</button>
                <button style="cursor:pointer" type="button" class="btn" (click)="editApplyModal.hide()" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!--edit Apply Modal end-->


<print-student [list]='list' ></print-student>